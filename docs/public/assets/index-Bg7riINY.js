var zm=e=>{throw TypeError(e)};var Bu=(e,t,n)=>t.has(e)||zm("Cannot "+n);var I=(e,t,n)=>(Bu(e,t,"read from private field"),n?n.call(e):t.get(e)),oe=(e,t,n)=>t.has(e)?zm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),K=(e,t,n,r)=>(Bu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ke=(e,t,n)=>(Bu(e,t,"access private method"),n);var Ra=(e,t,n,r)=>({set _(s){K(e,t,s,n)},get _(){return I(e,t,r)}});function rC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ew={exports:{}},Lc={},tw={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),iC=Symbol.for("react.portal"),oC=Symbol.for("react.fragment"),aC=Symbol.for("react.strict_mode"),lC=Symbol.for("react.profiler"),cC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),dC=Symbol.for("react.forward_ref"),fC=Symbol.for("react.suspense"),hC=Symbol.for("react.memo"),pC=Symbol.for("react.lazy"),Hm=Symbol.iterator;function mC(e){return e===null||typeof e!="object"?null:(e=Hm&&e[Hm]||e["@@iterator"],typeof e=="function"?e:null)}var nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rw=Object.assign,sw={};function Ii(e,t,n){this.props=e,this.context=t,this.refs=sw,this.updater=n||nw}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iw(){}iw.prototype=Ii.prototype;function Eh(e,t,n){this.props=e,this.context=t,this.refs=sw,this.updater=n||nw}var kh=Eh.prototype=new iw;kh.constructor=Eh;rw(kh,Ii.prototype);kh.isPureReactComponent=!0;var Wm=Array.isArray,ow=Object.prototype.hasOwnProperty,Ph={current:null},aw={key:!0,ref:!0,__self:!0,__source:!0};function lw(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ow.call(t,r)&&!aw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:da,type:e,key:i,ref:o,props:s,_owner:Ph.current}}function gC(e,t){return{$$typeof:da,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ih(e){return typeof e=="object"&&e!==null&&e.$$typeof===da}function yC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vm=/\/+/g;function zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yC(""+e.key):t.toString(36)}function Al(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case da:case iC:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+zu(o,0):r,Wm(s)?(n="",e!=null&&(n=e.replace(Vm,"$&/")+"/"),Al(s,t,n,"",function(c){return c})):s!=null&&(Ih(s)&&(s=gC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Wm(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+zu(i,a);o+=Al(i,t,n,l,s)}else if(l=mC(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+zu(i,a++),o+=Al(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Na(e,t,n){if(e==null)return e;var r=[],s=0;return Al(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Rl={transition:null},wC={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:Ph};function cw(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Na,forEach:function(e,t,n){Na(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Na(e,function(){t++}),t},toArray:function(e){return Na(e,function(t){return t})||[]},only:function(e){if(!Ih(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Ii;ee.Fragment=oC;ee.Profiler=lC;ee.PureComponent=Eh;ee.StrictMode=aC;ee.Suspense=fC;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC;ee.act=cw;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rw({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ph.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ow.call(t,l)&&!aw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:da,type:e.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:uC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cC,_context:e},e.Consumer=e};ee.createElement=lw;ee.createFactory=function(e){var t=lw.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:dC,render:e}};ee.isValidElement=Ih;ee.lazy=function(e){return{$$typeof:pC,_payload:{_status:-1,_result:e},_init:vC}};ee.memo=function(e,t){return{$$typeof:hC,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};ee.unstable_act=cw;ee.useCallback=function(e,t){return ut.current.useCallback(e,t)};ee.useContext=function(e){return ut.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};ee.useEffect=function(e,t){return ut.current.useEffect(e,t)};ee.useId=function(){return ut.current.useId()};ee.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return ut.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};ee.useRef=function(e){return ut.current.useRef(e)};ee.useState=function(e){return ut.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return ut.current.useTransition()};ee.version="18.3.1";tw.exports=ee;var y=tw.exports;const tr=Zv(y),uw=rC({__proto__:null,default:tr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=y,bC=Symbol.for("react.element"),_C=Symbol.for("react.fragment"),SC=Object.prototype.hasOwnProperty,CC=xC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EC={key:!0,ref:!0,__self:!0,__source:!0};function dw(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)SC.call(t,r)&&!EC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:bC,type:e,key:i,ref:o,props:s,_owner:CC.current}}Lc.Fragment=_C;Lc.jsx=dw;Lc.jsxs=dw;ew.exports=Lc;var f=ew.exports,fw={exports:{}},Tt={},hw={exports:{}},pw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var F=P.length;P.push(N);e:for(;0<F;){var D=F-1>>>1,G=P[D];if(0<s(G,N))P[D]=N,P[F]=G,F=D;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],F=P.pop();if(F!==N){P[0]=F;e:for(var D=0,G=P.length,ce=G>>>1;D<ce;){var le=2*(D+1)-1,be=P[le],ge=le+1,H=P[ge];if(0>s(be,F))ge<G&&0>s(H,be)?(P[D]=H,P[ge]=F,D=ge):(P[D]=be,P[le]=F,D=le);else if(ge<G&&0>s(H,F))P[D]=H,P[ge]=F,D=ge;else break e}}return N}function s(P,N){var F=P.sortIndex-N.sortIndex;return F!==0?F:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,u=3,g=!1,b=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=P)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function _(P){if(m=!1,w(P),!b)if(n(l)!==null)b=!0,U(S);else{var N=n(c);N!==null&&W(_,N.startTime-P)}}function S(P,N){b=!1,m&&(m=!1,v(k),k=-1),g=!0;var F=u;try{for(w(N),d=n(l);d!==null&&(!(d.expirationTime>N)||P&&!M());){var D=d.callback;if(typeof D=="function"){d.callback=null,u=d.priorityLevel;var G=D(d.expirationTime<=N);N=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),w(N)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var le=n(c);le!==null&&W(_,le.startTime-N),ce=!1}return ce}finally{d=null,u=F,g=!1}}var E=!1,C=null,k=-1,A=5,R=-1;function M(){return!(e.unstable_now()-R<A)}function j(){if(C!==null){var P=e.unstable_now();R=P;var N=!0;try{N=C(!0,P)}finally{N?z():(E=!1,C=null)}}else E=!1}var z;if(typeof p=="function")z=function(){p(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,L=O.port2;O.port1.onmessage=j,z=function(){L.postMessage(null)}}else z=function(){x(j,0)};function U(P){C=P,E||(E=!0,z())}function W(P,N){k=x(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,U(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(u){case 1:case 2:case 3:var N=3;break;default:N=u}var F=u;u=N;try{return P()}finally{u=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=u;u=P;try{return N()}finally{u=F}},e.unstable_scheduleCallback=function(P,N,F){var D=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?D+F:D):F=D,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,P={id:h++,callback:N,priorityLevel:P,startTime:F,expirationTime:G,sortIndex:-1},F>D?(P.sortIndex=F,t(c,P),n(l)===null&&P===n(c)&&(m?(v(k),k=-1):m=!0,W(_,F-D))):(P.sortIndex=G,t(l,P),b||g||(b=!0,U(S))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var N=u;return function(){var F=u;u=N;try{return P.apply(this,arguments)}finally{u=F}}}})(pw);hw.exports=pw;var kC=hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=y,Rt=kC;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mw=new Set,Fo={};function fs(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(Fo[e]=t,e=0;e<t.length;e++)mw.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,IC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gm={},Km={};function AC(e){return tf.call(Km,e)?!0:tf.call(Gm,e)?!1:IC.test(e)?Km[e]=!0:(Gm[e]=!0,!1)}function RC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NC(e,t,n,r){if(t===null||typeof t>"u"||RC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ah=/[\-:]([a-z])/g;function Rh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ah,Rh);Ve[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ah,Rh);Ve[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ah,Rh);Ve[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nh(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NC(t,n,s,r)&&(n=null),r||s===null?AC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vn=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),gw=Symbol.for("react.provider"),yw=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Mh=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),vw=Symbol.for("react.offscreen"),qm=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Hu;function lo(e){if(Hu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hu=t&&t[1]||""}return`
`+Hu+e}var Wu=!1;function Vu(e,t){if(!e||Wu)return"";Wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lo(e):""}function TC(e){switch(e.tag){case 5:return lo(e.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 2:case 15:return e=Vu(e.type,!1),e;case 11:return e=Vu(e.type.render,!1),e;case 1:return e=Vu(e.type,!0),e;default:return""}}function of(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ms:return"Fragment";case Os:return"Portal";case nf:return"Profiler";case Th:return"StrictMode";case rf:return"Suspense";case sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yw:return(e.displayName||"Context")+".Consumer";case gw:return(e._context.displayName||"Context")+".Provider";case Oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mh:return t=e.displayName||null,t!==null?t:of(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return of(e(t))}catch{}}return null}function OC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return of(t);case 8:return t===Th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ir(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ww(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MC(e){var t=ww(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oa(e){e._valueTracker||(e._valueTracker=MC(e))}function xw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ww(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function af(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ir(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bw(e,t){t=t.checked,t!=null&&Nh(e,"checked",t,!1)}function lf(e,t){bw(e,t);var n=Ir(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cf(e,t.type,n):t.hasOwnProperty("defaultValue")&&cf(e,t.type,Ir(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cf(e,t,n){(t!=="number"||Zl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var co=Array.isArray;function Gs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ir(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(co(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ir(n)}}function _w(e,t){var n=Ir(t.value),r=Ir(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ym(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function df(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ma,Cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jC=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){jC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function Ew(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function kw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ew(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var FC=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ff(e,t){if(t){if(FC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function hf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mf=null,Ks=null,qs=null;function Zm(e){if(e=pa(e)){if(typeof mf!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Wc(t),mf(e.stateNode,e.type,t))}}function Pw(e){Ks?qs?qs.push(e):qs=[e]:Ks=e}function Iw(){if(Ks){var e=Ks,t=qs;if(qs=Ks=null,Zm(e),t)for(e=0;e<t.length;e++)Zm(t[e])}}function Aw(e,t){return e(t)}function Rw(){}var Gu=!1;function Nw(e,t,n){if(Gu)return e(t,n);Gu=!0;try{return Aw(e,t,n)}finally{Gu=!1,(Ks!==null||qs!==null)&&(Rw(),Iw())}}function $o(e,t){var n=e.stateNode;if(n===null)return null;var r=Wc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var gf=!1;if(Ln)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){gf=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{gf=!1}function DC(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var _o=!1,ec=null,tc=!1,yf=null,$C={onError:function(e){_o=!0,ec=e}};function LC(e,t,n,r,s,i,o,a,l){_o=!1,ec=null,DC.apply($C,arguments)}function UC(e,t,n,r,s,i,o,a,l){if(LC.apply(this,arguments),_o){if(_o){var c=ec;_o=!1,ec=null}else throw Error(T(198));tc||(tc=!0,yf=c)}}function hs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eg(e){if(hs(e)!==e)throw Error(T(188))}function BC(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return eg(s),e;if(i===r)return eg(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Ow(e){return e=BC(e),e!==null?Mw(e):null}function Mw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mw(e);if(t!==null)return t;e=e.sibling}return null}var jw=Rt.unstable_scheduleCallback,tg=Rt.unstable_cancelCallback,zC=Rt.unstable_shouldYield,HC=Rt.unstable_requestPaint,Te=Rt.unstable_now,WC=Rt.unstable_getCurrentPriorityLevel,Fh=Rt.unstable_ImmediatePriority,Fw=Rt.unstable_UserBlockingPriority,nc=Rt.unstable_NormalPriority,VC=Rt.unstable_LowPriority,Dw=Rt.unstable_IdlePriority,Uc=null,bn=null;function GC(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Uc,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:QC,KC=Math.log,qC=Math.LN2;function QC(e){return e>>>=0,e===0?32:31-(KC(e)/qC|0)|0}var ja=64,Fa=4194304;function uo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=uo(a):(i&=o,i!==0&&(r=uo(i)))}else o=n&~s,o!==0?r=uo(o):i!==0&&(r=uo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),s=1<<n,r|=e[n],t&=~s;return r}function XC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-nn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=XC(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function vf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $w(){var e=ja;return ja<<=1,!(ja&4194240)&&(ja=64),e}function Ku(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function YC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-nn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Dh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ue=0;function Lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uw,$h,Bw,zw,Hw,wf=!1,Da=[],yr=null,vr=null,wr=null,Lo=new Map,Uo=new Map,ar=[],ZC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ng(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function Wi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=pa(t),t!==null&&$h(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eE(e,t,n,r,s){switch(t){case"focusin":return yr=Wi(yr,e,t,n,r,s),!0;case"dragenter":return vr=Wi(vr,e,t,n,r,s),!0;case"mouseover":return wr=Wi(wr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lo.set(i,Wi(Lo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Uo.set(i,Wi(Uo.get(i)||null,e,t,n,r,s)),!0}return!1}function Ww(e){var t=Vr(e.target);if(t!==null){var n=hs(t);if(n!==null){if(t=n.tag,t===13){if(t=Tw(n),t!==null){e.blockedOn=t,Hw(e.priority,function(){Bw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pf=r,n.target.dispatchEvent(r),pf=null}else return t=pa(n),t!==null&&$h(t),e.blockedOn=n,!1;t.shift()}return!0}function rg(e,t,n){Nl(e)&&n.delete(t)}function tE(){wf=!1,yr!==null&&Nl(yr)&&(yr=null),vr!==null&&Nl(vr)&&(vr=null),wr!==null&&Nl(wr)&&(wr=null),Lo.forEach(rg),Uo.forEach(rg)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,wf||(wf=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,tE)))}function Bo(e){function t(s){return Vi(s,e)}if(0<Da.length){Vi(Da[0],e);for(var n=1;n<Da.length;n++){var r=Da[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&Vi(yr,e),vr!==null&&Vi(vr,e),wr!==null&&Vi(wr,e),Lo.forEach(t),Uo.forEach(t),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)Ww(n),n.blockedOn===null&&ar.shift()}var Qs=Vn.ReactCurrentBatchConfig,sc=!0;function nE(e,t,n,r){var s=ue,i=Qs.transition;Qs.transition=null;try{ue=1,Lh(e,t,n,r)}finally{ue=s,Qs.transition=i}}function rE(e,t,n,r){var s=ue,i=Qs.transition;Qs.transition=null;try{ue=4,Lh(e,t,n,r)}finally{ue=s,Qs.transition=i}}function Lh(e,t,n,r){if(sc){var s=xf(e,t,n,r);if(s===null)rd(e,t,r,ic,n),ng(e,r);else if(eE(s,e,t,n,r))r.stopPropagation();else if(ng(e,r),t&4&&-1<ZC.indexOf(e)){for(;s!==null;){var i=pa(s);if(i!==null&&Uw(i),i=xf(e,t,n,r),i===null&&rd(e,t,r,ic,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rd(e,t,r,null,n)}}var ic=null;function xf(e,t,n,r){if(ic=null,e=jh(r),e=Vr(e),e!==null)if(t=hs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ic=e,null}function Vw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WC()){case Fh:return 1;case Fw:return 4;case nc:case VC:return 16;case Dw:return 536870912;default:return 16}default:return 16}}var mr=null,Uh=null,Tl=null;function Gw(){if(Tl)return Tl;var e,t=Uh,n=t.length,r,s="value"in mr?mr.value:mr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Tl=s.slice(e,1<r?1-r:void 0)}function Ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $a(){return!0}function sg(){return!1}function Ot(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$a:sg,this.isPropagationStopped=sg,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),t}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Ot(Ai),ha=ke({},Ai,{view:0,detail:0}),sE=Ot(ha),qu,Qu,Gi,Bc=ke({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(qu=e.screenX-Gi.screenX,Qu=e.screenY-Gi.screenY):Qu=qu=0,Gi=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Qu}}),ig=Ot(Bc),iE=ke({},Bc,{dataTransfer:0}),oE=Ot(iE),aE=ke({},ha,{relatedTarget:0}),Xu=Ot(aE),lE=ke({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),cE=Ot(lE),uE=ke({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dE=Ot(uE),fE=ke({},Ai,{data:0}),og=Ot(fE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mE[e])?!!t[e]:!1}function zh(){return gE}var yE=ke({},ha,{key:function(e){if(e.key){var t=hE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(e){return e.type==="keypress"?Ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vE=Ot(yE),wE=ke({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Ot(wE),xE=ke({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),bE=Ot(xE),_E=ke({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=Ot(_E),CE=ke({},Bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EE=Ot(CE),kE=[9,13,27,32],Hh=Ln&&"CompositionEvent"in window,So=null;Ln&&"documentMode"in document&&(So=document.documentMode);var PE=Ln&&"TextEvent"in window&&!So,Kw=Ln&&(!Hh||So&&8<So&&11>=So),lg=" ",cg=!1;function qw(e,t){switch(e){case"keyup":return kE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function IE(e,t){switch(e){case"compositionend":return Qw(t);case"keypress":return t.which!==32?null:(cg=!0,lg);case"textInput":return e=t.data,e===lg&&cg?null:e;default:return null}}function AE(e,t){if(js)return e==="compositionend"||!Hh&&qw(e,t)?(e=Gw(),Tl=Uh=mr=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kw&&t.locale!=="ko"?null:t.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RE[e.type]:t==="textarea"}function Xw(e,t,n,r){Pw(r),t=oc(t,"onChange"),0<t.length&&(n=new Bh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Co=null,zo=null;function NE(e){a0(e,0)}function zc(e){var t=$s(e);if(xw(t))return e}function TE(e,t){if(e==="change")return t}var Jw=!1;if(Ln){var Ju;if(Ln){var Yu="oninput"in document;if(!Yu){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Yu=typeof dg.oninput=="function"}Ju=Yu}else Ju=!1;Jw=Ju&&(!document.documentMode||9<document.documentMode)}function fg(){Co&&(Co.detachEvent("onpropertychange",Yw),zo=Co=null)}function Yw(e){if(e.propertyName==="value"&&zc(zo)){var t=[];Xw(t,zo,e,jh(e)),Nw(NE,t)}}function OE(e,t,n){e==="focusin"?(fg(),Co=t,zo=n,Co.attachEvent("onpropertychange",Yw)):e==="focusout"&&fg()}function ME(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zc(zo)}function jE(e,t){if(e==="click")return zc(t)}function FE(e,t){if(e==="input"||e==="change")return zc(t)}function DE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:DE;function Ho(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tf.call(t,s)||!sn(e[s],t[s]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,t){var n=hg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hg(n)}}function Zw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e0(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zl(e.document)}return t}function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $E(e){var t=e0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zw(n.ownerDocument.documentElement,n)){if(r!==null&&Wh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=pg(n,i);var o=pg(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LE=Ln&&"documentMode"in document&&11>=document.documentMode,Fs=null,bf=null,Eo=null,_f=!1;function mg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_f||Fs==null||Fs!==Zl(r)||(r=Fs,"selectionStart"in r&&Wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eo&&Ho(Eo,r)||(Eo=r,r=oc(bf,"onSelect"),0<r.length&&(t=new Bh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fs)))}function La(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ds={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Zu={},t0={};Ln&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Hc(e){if(Zu[e])return Zu[e];if(!Ds[e])return e;var t=Ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in t0)return Zu[e]=t[n];return e}var n0=Hc("animationend"),r0=Hc("animationiteration"),s0=Hc("animationstart"),i0=Hc("transitionend"),o0=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){o0.set(e,t),fs(t,[e])}for(var ed=0;ed<gg.length;ed++){var td=gg[ed],UE=td.toLowerCase(),BE=td[0].toUpperCase()+td.slice(1);Or(UE,"on"+BE)}Or(n0,"onAnimationEnd");Or(r0,"onAnimationIteration");Or(s0,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(i0,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function yg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UC(r,t,void 0,e),e.currentTarget=null}function a0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;yg(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;yg(s,a,c),i=l}}}if(tc)throw e=yf,tc=!1,yf=null,e}function ve(e,t){var n=t[Pf];n===void 0&&(n=t[Pf]=new Set);var r=e+"__bubble";n.has(r)||(l0(t,e,2,!1),n.add(r))}function nd(e,t,n){var r=0;t&&(r|=4),l0(n,e,r,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Ua]){e[Ua]=!0,mw.forEach(function(n){n!=="selectionchange"&&(zE.has(n)||nd(n,!1,e),nd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ua]||(t[Ua]=!0,nd("selectionchange",!1,t))}}function l0(e,t,n,r){switch(Vw(t)){case 1:var s=nE;break;case 4:s=rE;break;default:s=Lh}n=s.bind(null,t,n,e),s=void 0,!gf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Vr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Nw(function(){var c=i,h=jh(n),d=[];e:{var u=o0.get(e);if(u!==void 0){var g=Bh,b=e;switch(e){case"keypress":if(Ol(n)===0)break e;case"keydown":case"keyup":g=vE;break;case"focusin":b="focus",g=Xu;break;case"focusout":b="blur",g=Xu;break;case"beforeblur":case"afterblur":g=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bE;break;case n0:case r0:case s0:g=cE;break;case i0:g=SE;break;case"scroll":g=sE;break;case"wheel":g=EE;break;case"copy":case"cut":case"paste":g=dE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ag}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?u!==null?u+"Capture":null:u;m=[];for(var p=c,w;p!==null;){w=p;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,v!==null&&(_=$o(p,v),_!=null&&m.push(Vo(p,_,w)))),x)break;p=p.return}0<m.length&&(u=new g(u,b,null,n,h),d.push({event:u,listeners:m}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",u&&n!==pf&&(b=n.relatedTarget||n.fromElement)&&(Vr(b)||b[Un]))break e;if((g||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=c,b=b?Vr(b):null,b!==null&&(x=hs(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(m=ig,_="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=ag,_="onPointerLeave",v="onPointerEnter",p="pointer"),x=g==null?u:$s(g),w=b==null?u:$s(b),u=new m(_,p+"leave",g,n,h),u.target=x,u.relatedTarget=w,_=null,Vr(h)===c&&(m=new m(v,p+"enter",b,n,h),m.target=w,m.relatedTarget=x,_=m),x=_,g&&b)t:{for(m=g,v=b,p=0,w=m;w;w=ms(w))p++;for(w=0,_=v;_;_=ms(_))w++;for(;0<p-w;)m=ms(m),p--;for(;0<w-p;)v=ms(v),w--;for(;p--;){if(m===v||v!==null&&m===v.alternate)break t;m=ms(m),v=ms(v)}m=null}else m=null;g!==null&&vg(d,u,g,m,!1),b!==null&&x!==null&&vg(d,x,b,m,!0)}}e:{if(u=c?$s(c):window,g=u.nodeName&&u.nodeName.toLowerCase(),g==="select"||g==="input"&&u.type==="file")var S=TE;else if(ug(u))if(Jw)S=FE;else{S=ME;var E=OE}else(g=u.nodeName)&&g.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=jE);if(S&&(S=S(e,c))){Xw(d,S,n,h);break e}E&&E(e,u,c),e==="focusout"&&(E=u._wrapperState)&&E.controlled&&u.type==="number"&&cf(u,"number",u.value)}switch(E=c?$s(c):window,e){case"focusin":(ug(E)||E.contentEditable==="true")&&(Fs=E,bf=c,Eo=null);break;case"focusout":Eo=bf=Fs=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,mg(d,n,h);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":mg(d,n,h)}var C;if(Hh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else js?qw(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Kw&&n.locale!=="ko"&&(js||k!=="onCompositionStart"?k==="onCompositionEnd"&&js&&(C=Gw()):(mr=h,Uh="value"in mr?mr.value:mr.textContent,js=!0)),E=oc(c,k),0<E.length&&(k=new og(k,e,null,n,h),d.push({event:k,listeners:E}),C?k.data=C:(C=Qw(n),C!==null&&(k.data=C)))),(C=PE?IE(e,n):AE(e,n))&&(c=oc(c,"onBeforeInput"),0<c.length&&(h=new og("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}a0(d,t)})}function Vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$o(e,n),i!=null&&r.unshift(Vo(e,i,s)),i=$o(e,t),i!=null&&r.push(Vo(e,i,s))),e=e.return}return r}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vg(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=$o(n,i),l!=null&&o.unshift(Vo(n,l,a))):s||(l=$o(n,i),l!=null&&o.push(Vo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var HE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function wg(e){return(typeof e=="string"?e:""+e).replace(HE,`
`).replace(WE,"")}function Ba(e,t,n){if(t=wg(t),wg(e)!==t&&n)throw Error(T(425))}function ac(){}var Sf=null,Cf=null;function Ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(KE)}:kf;function KE(e){setTimeout(function(){throw e})}function sd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bo(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),vn="__reactFiber$"+Ri,Go="__reactProps$"+Ri,Un="__reactContainer$"+Ri,Pf="__reactEvents$"+Ri,qE="__reactListeners$"+Ri,QE="__reactHandles$"+Ri;function Vr(e){var t=e[vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Un]||n[vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bg(e);e!==null;){if(n=e[vn])return n;e=bg(e)}return t}e=n,n=e.parentNode}return null}function pa(e){return e=e[vn]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Wc(e){return e[Go]||null}var If=[],Ls=-1;function Mr(e){return{current:e}}function we(e){0>Ls||(e.current=If[Ls],If[Ls]=null,Ls--)}function me(e,t){Ls++,If[Ls]=e.current,e.current=t}var Ar={},rt=Mr(Ar),gt=Mr(!1),ns=Ar;function vi(e,t){var n=e.type.contextTypes;if(!n)return Ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function lc(){we(gt),we(rt)}function _g(e,t,n){if(rt.current!==Ar)throw Error(T(168));me(rt,t),me(gt,n)}function c0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,OC(e)||"Unknown",s));return ke({},n,r)}function cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,ns=rt.current,me(rt,e),me(gt,gt.current),!0}function Sg(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=c0(e,t,ns),r.__reactInternalMemoizedMergedChildContext=e,we(gt),we(rt),me(rt,e)):we(gt),me(gt,n)}var Mn=null,Vc=!1,id=!1;function u0(e){Mn===null?Mn=[e]:Mn.push(e)}function XE(e){Vc=!0,u0(e)}function jr(){if(!id&&Mn!==null){id=!0;var e=0,t=ue;try{var n=Mn;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mn=null,Vc=!1}catch(s){throw Mn!==null&&(Mn=Mn.slice(e+1)),jw(Fh,jr),s}finally{ue=t,id=!1}}return null}var Us=[],Bs=0,uc=null,dc=0,Dt=[],$t=0,rs=null,Fn=1,Dn="";function zr(e,t){Us[Bs++]=dc,Us[Bs++]=uc,uc=e,dc=t}function d0(e,t,n){Dt[$t++]=Fn,Dt[$t++]=Dn,Dt[$t++]=rs,rs=e;var r=Fn;e=Dn;var s=32-nn(r)-1;r&=~(1<<s),n+=1;var i=32-nn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fn=1<<32-nn(t)+s|n<<s|r,Dn=i+e}else Fn=1<<i|n<<s|r,Dn=e}function Vh(e){e.return!==null&&(zr(e,1),d0(e,1,0))}function Gh(e){for(;e===uc;)uc=Us[--Bs],Us[Bs]=null,dc=Us[--Bs],Us[Bs]=null;for(;e===rs;)rs=Dt[--$t],Dt[$t]=null,Dn=Dt[--$t],Dt[$t]=null,Fn=Dt[--$t],Dt[$t]=null}var It=null,Pt=null,xe=!1,Zt=null;function f0(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Pt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rs!==null?{id:Fn,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Pt=null,!0):!1;default:return!1}}function Af(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rf(e){if(xe){var t=Pt;if(t){var n=t;if(!Cg(e,t)){if(Af(e))throw Error(T(418));t=xr(n.nextSibling);var r=It;t&&Cg(e,t)?f0(r,n):(e.flags=e.flags&-4097|2,xe=!1,It=e)}}else{if(Af(e))throw Error(T(418));e.flags=e.flags&-4097|2,xe=!1,It=e}}}function Eg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function za(e){if(e!==It)return!1;if(!xe)return Eg(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ef(e.type,e.memoizedProps)),t&&(t=Pt)){if(Af(e))throw h0(),Error(T(418));for(;t;)f0(e,t),t=xr(t.nextSibling)}if(Eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=It?xr(e.stateNode.nextSibling):null;return!0}function h0(){for(var e=Pt;e;)e=xr(e.nextSibling)}function wi(){Pt=It=null,xe=!1}function Kh(e){Zt===null?Zt=[e]:Zt.push(e)}var JE=Vn.ReactCurrentBatchConfig;function Ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kg(e){var t=e._init;return t(e._payload)}function p0(e){function t(v,p){if(e){var w=v.deletions;w===null?(v.deletions=[p],v.flags|=16):w.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=Cr(v,p),v.index=0,v.sibling=null,v}function i(v,p,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<p?(v.flags|=2,p):w):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,p,w,_){return p===null||p.tag!==6?(p=fd(w,v.mode,_),p.return=v,p):(p=s(p,w),p.return=v,p)}function l(v,p,w,_){var S=w.type;return S===Ms?h(v,p,w.props.children,_,w.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&kg(S)===p.type)?(_=s(p,w.props),_.ref=Ki(v,p,w),_.return=v,_):(_=Ul(w.type,w.key,w.props,null,v.mode,_),_.ref=Ki(v,p,w),_.return=v,_)}function c(v,p,w,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=hd(w,v.mode,_),p.return=v,p):(p=s(p,w.children||[]),p.return=v,p)}function h(v,p,w,_,S){return p===null||p.tag!==7?(p=ts(w,v.mode,_,S),p.return=v,p):(p=s(p,w),p.return=v,p)}function d(v,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fd(""+p,v.mode,w),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ta:return w=Ul(p.type,p.key,p.props,null,v.mode,w),w.ref=Ki(v,null,p),w.return=v,w;case Os:return p=hd(p,v.mode,w),p.return=v,p;case sr:var _=p._init;return d(v,_(p._payload),w)}if(co(p)||zi(p))return p=ts(p,v.mode,w,null),p.return=v,p;Ha(v,p)}return null}function u(v,p,w,_){var S=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(v,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ta:return w.key===S?l(v,p,w,_):null;case Os:return w.key===S?c(v,p,w,_):null;case sr:return S=w._init,u(v,p,S(w._payload),_)}if(co(w)||zi(w))return S!==null?null:h(v,p,w,_,null);Ha(v,w)}return null}function g(v,p,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(w)||null,a(p,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ta:return v=v.get(_.key===null?w:_.key)||null,l(p,v,_,S);case Os:return v=v.get(_.key===null?w:_.key)||null,c(p,v,_,S);case sr:var E=_._init;return g(v,p,w,E(_._payload),S)}if(co(_)||zi(_))return v=v.get(w)||null,h(p,v,_,S,null);Ha(p,_)}return null}function b(v,p,w,_){for(var S=null,E=null,C=p,k=p=0,A=null;C!==null&&k<w.length;k++){C.index>k?(A=C,C=null):A=C.sibling;var R=u(v,C,w[k],_);if(R===null){C===null&&(C=A);break}e&&C&&R.alternate===null&&t(v,C),p=i(R,p,k),E===null?S=R:E.sibling=R,E=R,C=A}if(k===w.length)return n(v,C),xe&&zr(v,k),S;if(C===null){for(;k<w.length;k++)C=d(v,w[k],_),C!==null&&(p=i(C,p,k),E===null?S=C:E.sibling=C,E=C);return xe&&zr(v,k),S}for(C=r(v,C);k<w.length;k++)A=g(C,v,k,w[k],_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),p=i(A,p,k),E===null?S=A:E.sibling=A,E=A);return e&&C.forEach(function(M){return t(v,M)}),xe&&zr(v,k),S}function m(v,p,w,_){var S=zi(w);if(typeof S!="function")throw Error(T(150));if(w=S.call(w),w==null)throw Error(T(151));for(var E=S=null,C=p,k=p=0,A=null,R=w.next();C!==null&&!R.done;k++,R=w.next()){C.index>k?(A=C,C=null):A=C.sibling;var M=u(v,C,R.value,_);if(M===null){C===null&&(C=A);break}e&&C&&M.alternate===null&&t(v,C),p=i(M,p,k),E===null?S=M:E.sibling=M,E=M,C=A}if(R.done)return n(v,C),xe&&zr(v,k),S;if(C===null){for(;!R.done;k++,R=w.next())R=d(v,R.value,_),R!==null&&(p=i(R,p,k),E===null?S=R:E.sibling=R,E=R);return xe&&zr(v,k),S}for(C=r(v,C);!R.done;k++,R=w.next())R=g(C,v,k,R.value,_),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?k:R.key),p=i(R,p,k),E===null?S=R:E.sibling=R,E=R);return e&&C.forEach(function(j){return t(v,j)}),xe&&zr(v,k),S}function x(v,p,w,_){if(typeof w=="object"&&w!==null&&w.type===Ms&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ta:e:{for(var S=w.key,E=p;E!==null;){if(E.key===S){if(S=w.type,S===Ms){if(E.tag===7){n(v,E.sibling),p=s(E,w.props.children),p.return=v,v=p;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&kg(S)===E.type){n(v,E.sibling),p=s(E,w.props),p.ref=Ki(v,E,w),p.return=v,v=p;break e}n(v,E);break}else t(v,E);E=E.sibling}w.type===Ms?(p=ts(w.props.children,v.mode,_,w.key),p.return=v,v=p):(_=Ul(w.type,w.key,w.props,null,v.mode,_),_.ref=Ki(v,p,w),_.return=v,v=_)}return o(v);case Os:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(v,p.sibling),p=s(p,w.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=hd(w,v.mode,_),p.return=v,v=p}return o(v);case sr:return E=w._init,x(v,p,E(w._payload),_)}if(co(w))return b(v,p,w,_);if(zi(w))return m(v,p,w,_);Ha(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,w),p.return=v,v=p):(n(v,p),p=fd(w,v.mode,_),p.return=v,v=p),o(v)):n(v,p)}return x}var xi=p0(!0),m0=p0(!1),fc=Mr(null),hc=null,zs=null,qh=null;function Qh(){qh=zs=hc=null}function Xh(e){var t=fc.current;we(fc),e._currentValue=t}function Nf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xs(e,t){hc=e,qh=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(qh!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(hc===null)throw Error(T(308));zs=e,hc.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var Gr=null;function Jh(e){Gr===null?Gr=[e]:Gr.push(e)}function g0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Jh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Bn(e,r)}function Bn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function br(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Bn(e,n)}return s=r.interleaved,s===null?(t.next=t,Jh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Bn(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dh(e,n)}}function Pg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pc(e,t,n,r){var s=e.updateQueue;ir=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var u=a.lane,g=a.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,m=a;switch(u=t,g=n,m.tag){case 1:if(b=m.payload,typeof b=="function"){d=b.call(g,d,u);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,u=typeof b=="function"?b.call(g,d,u):b,u==null)break e;d=ke({},d,u);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[a]:u.push(a))}else g={eventTime:g,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=u;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;u=a,a=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);is|=o,e.lanes=o,e.memoizedState=d}}function Ig(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var ma={},_n=Mr(ma),Ko=Mr(ma),qo=Mr(ma);function Kr(e){if(e===ma)throw Error(T(174));return e}function Zh(e,t){switch(me(qo,t),me(Ko,e),me(_n,ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:df(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=df(t,e)}we(_n),me(_n,t)}function bi(){we(_n),we(Ko),we(qo)}function v0(e){Kr(qo.current);var t=Kr(_n.current),n=df(t,e.type);t!==n&&(me(Ko,e),me(_n,n))}function ep(e){Ko.current===e&&(we(_n),we(Ko))}var Ce=Mr(0);function mc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var od=[];function tp(){for(var e=0;e<od.length;e++)od[e]._workInProgressVersionPrimary=null;od.length=0}var jl=Vn.ReactCurrentDispatcher,ad=Vn.ReactCurrentBatchConfig,ss=0,Ee=null,Fe=null,Ue=null,gc=!1,ko=!1,Qo=0,YE=0;function qe(){throw Error(T(321))}function np(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function rp(e,t,n,r,s,i){if(ss=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jl.current=e===null||e.memoizedState===null?nk:rk,e=n(r,s),ko){i=0;do{if(ko=!1,Qo=0,25<=i)throw Error(T(301));i+=1,Ue=Fe=null,t.updateQueue=null,jl.current=sk,e=n(r,s)}while(ko)}if(jl.current=yc,t=Fe!==null&&Fe.next!==null,ss=0,Ue=Fe=Ee=null,gc=!1,t)throw Error(T(300));return e}function sp(){var e=Qo!==0;return Qo=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ee.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ht(){if(Fe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Ue===null?Ee.memoizedState:Ue.next;if(t!==null)Ue=t,Fe=e;else{if(e===null)throw Error(T(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ue===null?Ee.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Xo(e,t){return typeof t=="function"?t(e):t}function ld(e){var t=Ht(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((ss&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ee.lanes|=h,is|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,sn(r,t.memoizedState)||(mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,is|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cd(e){var t=Ht(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);sn(i,t.memoizedState)||(mt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function w0(){}function x0(e,t){var n=Ee,r=Ht(),s=t(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,mt=!0),r=r.queue,ip(S0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Jo(9,_0.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(T(349));ss&30||b0(n,t,s)}return s}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _0(e,t,n,r){t.value=n,t.getSnapshot=r,C0(t)&&E0(e)}function S0(e,t,n){return n(function(){C0(t)&&E0(e)})}function C0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function E0(e){var t=Bn(e,1);t!==null&&rn(t,e,1,-1)}function Ag(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=tk.bind(null,Ee,e),[t.memoizedState,e]}function Jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function k0(){return Ht().memoizedState}function Fl(e,t,n,r){var s=fn();Ee.flags|=e,s.memoizedState=Jo(1|t,n,void 0,r===void 0?null:r)}function Gc(e,t,n,r){var s=Ht();r=r===void 0?null:r;var i=void 0;if(Fe!==null){var o=Fe.memoizedState;if(i=o.destroy,r!==null&&np(r,o.deps)){s.memoizedState=Jo(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=Jo(1|t,n,i,r)}function Rg(e,t){return Fl(8390656,8,e,t)}function ip(e,t){return Gc(2048,8,e,t)}function P0(e,t){return Gc(4,2,e,t)}function I0(e,t){return Gc(4,4,e,t)}function A0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R0(e,t,n){return n=n!=null?n.concat([e]):null,Gc(4,4,A0.bind(null,t,e),n)}function op(){}function N0(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&np(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function T0(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&np(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function O0(e,t,n){return ss&21?(sn(n,t)||(n=$w(),Ee.lanes|=n,is|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=n)}function ZE(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=ad.transition;ad.transition={};try{e(!1),t()}finally{ue=n,ad.transition=r}}function M0(){return Ht().memoizedState}function ek(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j0(e))F0(t,n);else if(n=g0(e,t,n,r),n!==null){var s=ct();rn(n,e,r,s),D0(n,t,r)}}function tk(e,t,n){var r=Sr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j0(e))F0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,sn(a,o)){var l=t.interleaved;l===null?(s.next=s,Jh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=g0(e,t,s,r),n!==null&&(s=ct(),rn(n,e,r,s),D0(n,t,r))}}function j0(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function F0(e,t){ko=gc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function D0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dh(e,n)}}var yc={readContext:zt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},nk={readContext:zt,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Rg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fl(4194308,4,A0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fl(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ek.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Ag,useDebugValue:op,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Ag(!1),t=e[0];return e=ZE.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=fn();if(xe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Be===null)throw Error(T(349));ss&30||b0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Rg(S0.bind(null,r,i,e),[e]),r.flags|=2048,Jo(9,_0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=fn(),t=Be.identifierPrefix;if(xe){var n=Dn,r=Fn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rk={readContext:zt,useCallback:N0,useContext:zt,useEffect:ip,useImperativeHandle:R0,useInsertionEffect:P0,useLayoutEffect:I0,useMemo:T0,useReducer:ld,useRef:k0,useState:function(){return ld(Xo)},useDebugValue:op,useDeferredValue:function(e){var t=Ht();return O0(t,Fe.memoizedState,e)},useTransition:function(){var e=ld(Xo)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:w0,useSyncExternalStore:x0,useId:M0,unstable_isNewReconciler:!1},sk={readContext:zt,useCallback:N0,useContext:zt,useEffect:ip,useImperativeHandle:R0,useInsertionEffect:P0,useLayoutEffect:I0,useMemo:T0,useReducer:cd,useRef:k0,useState:function(){return cd(Xo)},useDebugValue:op,useDeferredValue:function(e){var t=Ht();return Fe===null?t.memoizedState=e:O0(t,Fe.memoizedState,e)},useTransition:function(){var e=cd(Xo)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:w0,useSyncExternalStore:x0,useId:M0,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kc={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ct(),s=Sr(e),i=$n(r,s);i.payload=t,n!=null&&(i.callback=n),t=br(e,i,s),t!==null&&(rn(t,e,s,r),Ml(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ct(),s=Sr(e),i=$n(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=br(e,i,s),t!==null&&(rn(t,e,s,r),Ml(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ct(),r=Sr(e),s=$n(n,r);s.tag=2,t!=null&&(s.callback=t),t=br(e,s,r),t!==null&&(rn(t,e,r,n),Ml(t,e,r))}};function Ng(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ho(n,r)||!Ho(s,i):!0}function $0(e,t,n){var r=!1,s=Ar,i=t.contextType;return typeof i=="object"&&i!==null?i=zt(i):(s=yt(t)?ns:rt.current,r=t.contextTypes,i=(r=r!=null)?vi(e,s):Ar),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kc.enqueueReplaceState(t,t.state,null)}function Of(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Yh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=zt(i):(i=yt(t)?ns:rt.current,s.context=vi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tf(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kc.enqueueReplaceState(s,s.state,null),pc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t){try{var n="",r=t;do n+=TC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ud(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ik=typeof WeakMap=="function"?WeakMap:Map;function L0(e,t,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wc||(wc=!0,Wf=r),Mf(e,t)},n}function U0(e,t,n){n=$n(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Mf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mf(e,t),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Og(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ik;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wk.bind(null,e,t,n),t.then(e,e))}function Mg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$n(-1,1),t.tag=2,br(n,t,1))),n.lanes|=1),e)}var ok=Vn.ReactCurrentOwner,mt=!1;function at(e,t,n,r){t.child=e===null?m0(t,null,n,r):xi(t,e.child,n,r)}function Fg(e,t,n,r,s){n=n.render;var i=t.ref;return Xs(t,s),r=rp(e,t,n,r,i,s),n=sp(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zn(e,t,s)):(xe&&n&&Vh(t),t.flags|=1,at(e,t,r,s),t.child)}function Dg(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,B0(e,t,i,r,s)):(e=Ul(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(o,r)&&e.ref===t.ref)return zn(e,t,s)}return t.flags|=1,e=Cr(i,r),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ho(i,r)&&e.ref===t.ref)if(mt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,zn(e,t,s)}return jf(e,t,n,r,s)}function z0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Ws,Et),Et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Ws,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Ws,Et),Et|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,me(Ws,Et),Et|=r;return at(e,t,s,n),t.child}function H0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jf(e,t,n,r,s){var i=yt(n)?ns:rt.current;return i=vi(t,i),Xs(t,s),n=rp(e,t,n,r,i,s),r=sp(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zn(e,t,s)):(xe&&r&&Vh(t),t.flags|=1,at(e,t,n,s),t.child)}function $g(e,t,n,r,s){if(yt(n)){var i=!0;cc(t)}else i=!1;if(Xs(t,s),t.stateNode===null)Dl(e,t),$0(t,n,r),Of(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=yt(n)?ns:rt.current,c=vi(t,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Tg(t,o,r,c),ir=!1;var u=t.memoizedState;o.state=u,pc(t,r,o,s),l=t.memoizedState,a!==r||u!==l||gt.current||ir?(typeof h=="function"&&(Tf(t,n,h,r),l=t.memoizedState),(a=ir||Ng(t,n,a,r,u,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,y0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Kt(t.type,a),o.props=c,d=t.pendingProps,u=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=yt(n)?ns:rt.current,l=vi(t,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||u!==l)&&Tg(t,o,r,l),ir=!1,u=t.memoizedState,o.state=u,pc(t,r,o,s);var b=t.memoizedState;a!==d||u!==b||gt.current||ir?(typeof g=="function"&&(Tf(t,n,g,r),b=t.memoizedState),(c=ir||Ng(t,n,c,r,u,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Ff(e,t,n,r,i,s)}function Ff(e,t,n,r,s,i){H0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Sg(t,n,!1),zn(e,t,i);r=t.stateNode,ok.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):at(e,t,a,i),t.memoizedState=r.state,s&&Sg(t,n,!0),t.child}function W0(e){var t=e.stateNode;t.pendingContext?_g(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_g(e,t.context,!1),Zh(e,t.containerInfo)}function Lg(e,t,n,r,s){return wi(),Kh(s),t.flags|=256,at(e,t,n,r),t.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function $f(e){return{baseLanes:e,cachePool:null,transitions:null}}function V0(e,t,n){var r=t.pendingProps,s=Ce.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(Ce,s&1),e===null)return Rf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xc(o,r,0,null),e=ts(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$f(n),t.memoizedState=Df,e):ap(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ak(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Cr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Cr(a,i):(i=ts(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$f(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Df,r}return i=e.child,e=i.sibling,r=Cr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ap(e,t){return t=Xc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wa(e,t,n,r){return r!==null&&Kh(r),xi(t,e.child,null,n),e=ap(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ak(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ud(Error(T(422))),Wa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Xc({mode:"visible",children:r.children},s,0,null),i=ts(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&xi(t,e.child,null,o),t.child.memoizedState=$f(o),t.memoizedState=Df,i);if(!(t.mode&1))return Wa(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=ud(i,r,void 0),Wa(e,t,o,r)}if(a=(o&e.childLanes)!==0,mt||a){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bn(e,s),rn(r,e,s,-1))}return hp(),r=ud(Error(T(421))),Wa(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xk.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Pt=xr(s.nextSibling),It=t,xe=!0,Zt=null,e!==null&&(Dt[$t++]=Fn,Dt[$t++]=Dn,Dt[$t++]=rs,Fn=e.id,Dn=e.overflow,rs=t),t=ap(t,r.children),t.flags|=4096,t)}function Ug(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nf(e.return,t,n)}function dd(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function G0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(at(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,n,t);else if(e.tag===19)Ug(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&mc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dd(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dd(t,!0,n,null,i);break;case"together":dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lk(e,t,n){switch(t.tag){case 3:W0(t),wi();break;case 5:v0(t);break;case 1:yt(t.type)&&cc(t);break;case 4:Zh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;me(fc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?V0(e,t,n):(me(Ce,Ce.current&1),e=zn(e,t,n),e!==null?e.sibling:null);me(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return G0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,z0(e,t,n)}return zn(e,t,n)}var K0,Lf,q0,Q0;K0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lf=function(){};q0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Kr(_n.current);var i=null;switch(n){case"input":s=af(e,s),r=af(e,r),i=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),i=[];break;case"textarea":s=uf(e,s),r=uf(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ac)}ff(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ve("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Q0=function(e,t,n,r){n!==r&&(t.flags|=4)};function qi(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ck(e,t,n){var r=t.pendingProps;switch(Gh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return yt(t.type)&&lc(),Qe(t),null;case 3:return r=t.stateNode,bi(),we(gt),we(rt),tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(za(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(Kf(Zt),Zt=null))),Lf(e,t),Qe(t),null;case 5:ep(t);var s=Kr(qo.current);if(n=t.type,e!==null&&t.stateNode!=null)q0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Qe(t),null}if(e=Kr(_n.current),za(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[vn]=t,r[Go]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<fo.length;s++)ve(fo[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Qm(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Jm(r,i),ve("invalid",r)}ff(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ba(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ba(r.textContent,a,e),s=["children",""+a]):Fo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Oa(r),Xm(r,i,!0);break;case"textarea":Oa(r),Ym(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ac)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[vn]=t,e[Go]=r,K0(e,t,!1,!1),t.stateNode=e;e:{switch(o=hf(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<fo.length;s++)ve(fo[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":Qm(e,r),s=af(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Jm(e,r),s=uf(e,r),ve("invalid",e);break;default:s=r}ff(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kw(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cw(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Do(e,l):typeof l=="number"&&Do(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",e):l!=null&&Nh(e,i,l,o))}switch(n){case"input":Oa(e),Xm(e,r,!1);break;case"textarea":Oa(e),Ym(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ir(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gs(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ac)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Q0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Kr(qo.current),Kr(_n.current),za(t)){if(r=t.stateNode,n=t.memoizedProps,r[vn]=t,(i=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:Ba(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ba(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=t,t.stateNode=r}return Qe(t),null;case 13:if(we(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Pt!==null&&t.mode&1&&!(t.flags&128))h0(),wi(),t.flags|=98560,i=!1;else if(i=za(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[vn]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else Zt!==null&&(Kf(Zt),Zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?De===0&&(De=3):hp())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return bi(),Lf(e,t),e===null&&Wo(t.stateNode.containerInfo),Qe(t),null;case 10:return Xh(t.type._context),Qe(t),null;case 17:return yt(t.type)&&lc(),Qe(t),null;case 19:if(we(Ce),i=t.memoizedState,i===null)return Qe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)qi(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mc(e),o!==null){for(t.flags|=128,qi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(Ce,Ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Si&&(t.flags|=128,r=!0,qi(i,!1),t.lanes=4194304)}else{if(!r)if(e=mc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return Qe(t),null}else 2*Te()-i.renderingStartTime>Si&&n!==1073741824&&(t.flags|=128,r=!0,qi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=Ce.current,me(Ce,r?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return fp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function uk(e,t){switch(Gh(t),t.tag){case 1:return yt(t.type)&&lc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bi(),we(gt),we(rt),tp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ep(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return bi(),null;case 10:return Xh(t.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var Va=!1,et=!1,dk=typeof WeakSet=="function"?WeakSet:Set,$=null;function Hs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Uf(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Bg=!1;function fk(e,t){if(Sf=sc,e=e0(),Wh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=e,u=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)u=d,d=g;for(;;){if(d===e)break t;if(u===n&&++c===s&&(a=o),u===i&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=u,u=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cf={focusedElem:e,selectionRange:n},sc=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,x=b.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Kt(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){Re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return b=Bg,Bg=!1,b}function Po(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uf(t,n,i)}s=s.next}while(s!==r)}}function qc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function X0(e){var t=e.alternate;t!==null&&(e.alternate=null,X0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vn],delete t[Go],delete t[Pf],delete t[qE],delete t[QE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function J0(e){return e.tag===5||e.tag===3||e.tag===4}function zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||J0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ac));else if(r!==4&&(e=e.child,e!==null))for(zf(e,t,n),e=e.sibling;e!==null;)zf(e,t,n),e=e.sibling}function Hf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hf(e,t,n),e=e.sibling;e!==null;)Hf(e,t,n),e=e.sibling}var ze=null,Yt=!1;function Gn(e,t,n){for(n=n.child;n!==null;)Y0(e,t,n),n=n.sibling}function Y0(e,t,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:et||Hs(n,t);case 6:var r=ze,s=Yt;ze=null,Gn(e,t,n),ze=r,Yt=s,ze!==null&&(Yt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Yt?(e=ze,n=n.stateNode,e.nodeType===8?sd(e.parentNode,n):e.nodeType===1&&sd(e,n),Bo(e)):sd(ze,n.stateNode));break;case 4:r=ze,s=Yt,ze=n.stateNode.containerInfo,Yt=!0,Gn(e,t,n),ze=r,Yt=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Uf(n,t,o),s=s.next}while(s!==r)}Gn(e,t,n);break;case 1:if(!et&&(Hs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,t,a)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Gn(e,t,n),et=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function Hg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dk),t.forEach(function(r){var s=bk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Yt=!1;break e;case 3:ze=a.stateNode.containerInfo,Yt=!0;break e;case 4:ze=a.stateNode.containerInfo,Yt=!0;break e}a=a.return}if(ze===null)throw Error(T(160));Y0(i,o,s),ze=null,Yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z0(t,e),t=t.sibling}function Z0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),un(e),r&4){try{Po(3,e,e.return),qc(3,e)}catch(m){Re(e,e.return,m)}try{Po(5,e,e.return)}catch(m){Re(e,e.return,m)}}break;case 1:Wt(t,e),un(e),r&512&&n!==null&&Hs(n,n.return);break;case 5:if(Wt(t,e),un(e),r&512&&n!==null&&Hs(n,n.return),e.flags&32){var s=e.stateNode;try{Do(s,"")}catch(m){Re(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bw(s,i),hf(a,o);var c=hf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?kw(s,d):h==="dangerouslySetInnerHTML"?Cw(s,d):h==="children"?Do(s,d):Nh(s,h,d,c)}switch(a){case"input":lf(s,i);break;case"textarea":_w(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Gs(s,!!i.multiple,g,!1):u!==!!i.multiple&&(i.defaultValue!=null?Gs(s,!!i.multiple,i.defaultValue,!0):Gs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Go]=i}catch(m){Re(e,e.return,m)}}break;case 6:if(Wt(t,e),un(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Re(e,e.return,m)}}break;case 3:if(Wt(t,e),un(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(t.containerInfo)}catch(m){Re(e,e.return,m)}break;case 4:Wt(t,e),un(e);break;case 13:Wt(t,e),un(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(up=Te())),r&4&&Hg(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(et=(c=et)||h,Wt(t,e),et=c):Wt(t,e),un(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for($=e,h=e.child;h!==null;){for(d=$=h;$!==null;){switch(u=$,g=u.child,u.tag){case 0:case 11:case 14:case 15:Po(4,u,u.return);break;case 1:Hs(u,u.return);var b=u.stateNode;if(typeof b.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){Re(r,n,m)}}break;case 5:Hs(u,u.return);break;case 22:if(u.memoizedState!==null){Vg(d);continue}}g!==null?(g.return=u,$=g):Vg(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ew("display",o))}catch(m){Re(e,e.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Re(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(t,e),un(e),r&4&&Hg(e);break;case 21:break;default:Wt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(J0(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Do(s,""),r.flags&=-33);var i=zg(e);Hf(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zg(e);zf(e,a,o);break;default:throw Error(T(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hk(e,t,n){$=e,ex(e)}function ex(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Va;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||et;a=Va;var c=et;if(Va=o,(et=l)&&!c)for($=s;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Gg(s):l!==null?(l.return=o,$=l):Gg(s);for(;i!==null;)$=i,ex(i),i=i.sibling;$=s,Va=a,et=c}Wg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Wg(e)}}function Wg(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||qc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ig(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ig(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Bo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}et||t.flags&512&&Bf(t)}catch(u){Re(t,t.return,u)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Vg(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Gg(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qc(4,t)}catch(l){Re(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Re(t,s,l)}}var i=t.return;try{Bf(t)}catch(l){Re(t,i,l)}break;case 5:var o=t.return;try{Bf(t)}catch(l){Re(t,o,l)}}}catch(l){Re(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var pk=Math.ceil,vc=Vn.ReactCurrentDispatcher,lp=Vn.ReactCurrentOwner,Bt=Vn.ReactCurrentBatchConfig,ie=0,Be=null,Oe=null,We=0,Et=0,Ws=Mr(0),De=0,Yo=null,is=0,Qc=0,cp=0,Io=null,pt=null,up=0,Si=1/0,On=null,wc=!1,Wf=null,_r=null,Ga=!1,gr=null,xc=0,Ao=0,Vf=null,$l=-1,Ll=0;function ct(){return ie&6?Te():$l!==-1?$l:$l=Te()}function Sr(e){return e.mode&1?ie&2&&We!==0?We&-We:JE.transition!==null?(Ll===0&&(Ll=$w()),Ll):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Vw(e.type)),e):1}function rn(e,t,n,r){if(50<Ao)throw Ao=0,Vf=null,Error(T(185));fa(e,n,r),(!(ie&2)||e!==Be)&&(e===Be&&(!(ie&2)&&(Qc|=n),De===4&&lr(e,We)),vt(e,r),n===1&&ie===0&&!(t.mode&1)&&(Si=Te()+500,Vc&&jr()))}function vt(e,t){var n=e.callbackNode;JC(e,t);var r=rc(e,e===Be?We:0);if(r===0)n!==null&&tg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tg(n),t===1)e.tag===0?XE(Kg.bind(null,e)):u0(Kg.bind(null,e)),GE(function(){!(ie&6)&&jr()}),n=null;else{switch(Lw(r)){case 1:n=Fh;break;case 4:n=Fw;break;case 16:n=nc;break;case 536870912:n=Dw;break;default:n=nc}n=lx(n,tx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tx(e,t){if($l=-1,Ll=0,ie&6)throw Error(T(327));var n=e.callbackNode;if(Js()&&e.callbackNode!==n)return null;var r=rc(e,e===Be?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bc(e,r);else{t=r;var s=ie;ie|=2;var i=rx();(Be!==e||We!==t)&&(On=null,Si=Te()+500,es(e,t));do try{yk();break}catch(a){nx(e,a)}while(!0);Qh(),vc.current=i,ie=s,Oe!==null?t=0:(Be=null,We=0,t=De)}if(t!==0){if(t===2&&(s=vf(e),s!==0&&(r=s,t=Gf(e,s))),t===1)throw n=Yo,es(e,0),lr(e,r),vt(e,Te()),n;if(t===6)lr(e,r);else{if(s=e.current.alternate,!(r&30)&&!mk(s)&&(t=bc(e,r),t===2&&(i=vf(e),i!==0&&(r=i,t=Gf(e,i))),t===1))throw n=Yo,es(e,0),lr(e,r),vt(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Hr(e,pt,On);break;case 3:if(lr(e,r),(r&130023424)===r&&(t=up+500-Te(),10<t)){if(rc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ct(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=kf(Hr.bind(null,e,pt,On),t);break}Hr(e,pt,On);break;case 4:if(lr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-nn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pk(r/1960))-r,10<r){e.timeoutHandle=kf(Hr.bind(null,e,pt,On),r);break}Hr(e,pt,On);break;case 5:Hr(e,pt,On);break;default:throw Error(T(329))}}}return vt(e,Te()),e.callbackNode===n?tx.bind(null,e):null}function Gf(e,t){var n=Io;return e.current.memoizedState.isDehydrated&&(es(e,t).flags|=256),e=bc(e,t),e!==2&&(t=pt,pt=n,t!==null&&Kf(t)),e}function Kf(e){pt===null?pt=e:pt.push.apply(pt,e)}function mk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~cp,t&=~Qc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function Kg(e){if(ie&6)throw Error(T(327));Js();var t=rc(e,0);if(!(t&1))return vt(e,Te()),null;var n=bc(e,t);if(e.tag!==0&&n===2){var r=vf(e);r!==0&&(t=r,n=Gf(e,r))}if(n===1)throw n=Yo,es(e,0),lr(e,t),vt(e,Te()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,pt,On),vt(e,Te()),null}function dp(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Si=Te()+500,Vc&&jr())}}function os(e){gr!==null&&gr.tag===0&&!(ie&6)&&Js();var t=ie;ie|=1;var n=Bt.transition,r=ue;try{if(Bt.transition=null,ue=1,e)return e()}finally{ue=r,Bt.transition=n,ie=t,!(ie&6)&&jr()}}function fp(){Et=Ws.current,we(Ws)}function es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VE(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lc();break;case 3:bi(),we(gt),we(rt),tp();break;case 5:ep(r);break;case 4:bi();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Xh(r.type._context);break;case 22:case 23:fp()}n=n.return}if(Be=e,Oe=e=Cr(e.current,null),We=Et=t,De=0,Yo=null,cp=Qc=is=0,pt=Io=null,Gr!==null){for(t=0;t<Gr.length;t++)if(n=Gr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gr=null}return e}function nx(e,t){do{var n=Oe;try{if(Qh(),jl.current=yc,gc){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gc=!1}if(ss=0,Ue=Fe=Ee=null,ko=!1,Qo=0,lp.current=null,n===null||n.return===null){De=1,Yo=t,Oe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var u=h.alternate;u?(h.updateQueue=u.updateQueue,h.memoizedState=u.memoizedState,h.lanes=u.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Mg(o);if(g!==null){g.flags&=-257,jg(g,o,a,i,t),g.mode&1&&Og(i,c,t),t=g,l=c;var b=t.updateQueue;if(b===null){var m=new Set;m.add(l),t.updateQueue=m}else b.add(l);break e}else{if(!(t&1)){Og(i,c,t),hp();break e}l=Error(T(426))}}else if(xe&&a.mode&1){var x=Mg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jg(x,o,a,i,t),Kh(_i(l,a));break e}}i=l=_i(l,a),De!==4&&(De=2),Io===null?Io=[i]:Io.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=L0(i,l,t);Pg(i,v);break e;case 1:a=l;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_r===null||!_r.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=U0(i,a,t);Pg(i,_);break e}}i=i.return}while(i!==null)}ix(n)}catch(S){t=S,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function rx(){var e=vc.current;return vc.current=yc,e===null?yc:e}function hp(){(De===0||De===3||De===2)&&(De=4),Be===null||!(is&268435455)&&!(Qc&268435455)||lr(Be,We)}function bc(e,t){var n=ie;ie|=2;var r=rx();(Be!==e||We!==t)&&(On=null,es(e,t));do try{gk();break}catch(s){nx(e,s)}while(!0);if(Qh(),ie=n,vc.current=r,Oe!==null)throw Error(T(261));return Be=null,We=0,De}function gk(){for(;Oe!==null;)sx(Oe)}function yk(){for(;Oe!==null&&!zC();)sx(Oe)}function sx(e){var t=ax(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?ix(e):Oe=t,lp.current=null}function ix(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uk(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Oe=null;return}}else if(n=ck(n,t,Et),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);De===0&&(De=5)}function Hr(e,t,n){var r=ue,s=Bt.transition;try{Bt.transition=null,ue=1,vk(e,t,n,r)}finally{Bt.transition=s,ue=r}return null}function vk(e,t,n,r){do Js();while(gr!==null);if(ie&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(YC(e,i),e===Be&&(Oe=Be=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ga||(Ga=!0,lx(nc,function(){return Js(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bt.transition,Bt.transition=null;var o=ue;ue=1;var a=ie;ie|=4,lp.current=null,fk(e,n),Z0(n,e),$E(Cf),sc=!!Sf,Cf=Sf=null,e.current=n,hk(n),HC(),ie=a,ue=o,Bt.transition=i}else e.current=n;if(Ga&&(Ga=!1,gr=e,xc=s),i=e.pendingLanes,i===0&&(_r=null),GC(n.stateNode),vt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wc)throw wc=!1,e=Wf,Wf=null,e;return xc&1&&e.tag!==0&&Js(),i=e.pendingLanes,i&1?e===Vf?Ao++:(Ao=0,Vf=e):Ao=0,jr(),null}function Js(){if(gr!==null){var e=Lw(xc),t=Bt.transition,n=ue;try{if(Bt.transition=null,ue=16>e?16:e,gr===null)var r=!1;else{if(e=gr,gr=null,xc=0,ie&6)throw Error(T(331));var s=ie;for(ie|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:Po(8,h,i)}var d=h.child;if(d!==null)d.return=h,$=d;else for(;$!==null;){h=$;var u=h.sibling,g=h.return;if(X0(h),h===c){$=null;break}if(u!==null){u.return=g,$=u;break}$=g}}}var b=i.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Po(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,$=v;break e}$=i.return}}var p=e.current;for($=p;$!==null;){o=$;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$=w;else e:for(o=p;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qc(9,a)}}catch(S){Re(a,a.return,S)}if(a===o){$=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,$=_;break e}$=a.return}}if(ie=s,jr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Uc,e)}catch{}r=!0}return r}finally{ue=n,Bt.transition=t}}return!1}function qg(e,t,n){t=_i(n,t),t=L0(e,t,1),e=br(e,t,1),t=ct(),e!==null&&(fa(e,1,t),vt(e,t))}function Re(e,t,n){if(e.tag===3)qg(e,e,n);else for(;t!==null;){if(t.tag===3){qg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){e=_i(n,e),e=U0(t,e,1),t=br(t,e,1),e=ct(),t!==null&&(fa(t,1,e),vt(t,e));break}}t=t.return}}function wk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(We&n)===n&&(De===4||De===3&&(We&130023424)===We&&500>Te()-up?es(e,0):cp|=n),vt(e,t)}function ox(e,t){t===0&&(e.mode&1?(t=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):t=1);var n=ct();e=Bn(e,t),e!==null&&(fa(e,t,n),vt(e,n))}function xk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ox(e,n)}function bk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),ox(e,n)}var ax;ax=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mt=!1,lk(e,t,n);mt=!!(e.flags&131072)}else mt=!1,xe&&t.flags&1048576&&d0(t,dc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dl(e,t),e=t.pendingProps;var s=vi(t,rt.current);Xs(t,n),s=rp(null,t,r,e,s,n);var i=sp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(r)?(i=!0,cc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yh(t),s.updater=Kc,t.stateNode=s,s._reactInternals=t,Of(t,r,e,n),t=Ff(null,t,r,!0,i,n)):(t.tag=0,xe&&i&&Vh(t),at(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Sk(r),e=Kt(r,e),s){case 0:t=jf(null,t,r,e,n);break e;case 1:t=$g(null,t,r,e,n);break e;case 11:t=Fg(null,t,r,e,n);break e;case 14:t=Dg(null,t,r,Kt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),jf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),$g(e,t,r,s,n);case 3:e:{if(W0(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,y0(e,t),pc(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_i(Error(T(423)),t),t=Lg(e,t,r,n,s);break e}else if(r!==s){s=_i(Error(T(424)),t),t=Lg(e,t,r,n,s);break e}else for(Pt=xr(t.stateNode.containerInfo.firstChild),It=t,xe=!0,Zt=null,n=m0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wi(),r===s){t=zn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return v0(t),e===null&&Rf(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ef(r,s)?o=null:i!==null&&Ef(r,i)&&(t.flags|=32),H0(e,t),at(e,t,o,n),t.child;case 6:return e===null&&Rf(t),null;case 13:return V0(e,t,n);case 4:return Zh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xi(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Fg(e,t,r,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,me(fc,r._currentValue),r._currentValue=o,i!==null)if(sn(i.value,o)){if(i.children===s.children&&!gt.current){t=zn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=$n(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nf(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nf(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xs(t,n),s=zt(s),r=r(s),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,s=Kt(r,t.pendingProps),s=Kt(r.type,s),Dg(e,t,r,s,n);case 15:return B0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Dl(e,t),t.tag=1,yt(r)?(e=!0,cc(t)):e=!1,Xs(t,n),$0(t,r,s),Of(t,r,s,n),Ff(null,t,r,!0,e,n);case 19:return G0(e,t,n);case 22:return z0(e,t,n)}throw Error(T(156,t.tag))};function lx(e,t){return jw(e,t)}function _k(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new _k(e,t,n,r)}function pp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sk(e){if(typeof e=="function")return pp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oh)return 11;if(e===Mh)return 14}return 2}function Cr(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ms:return ts(n.children,s,i,t);case Th:o=8,s|=8;break;case nf:return e=Lt(12,n,t,s|2),e.elementType=nf,e.lanes=i,e;case rf:return e=Lt(13,n,t,s),e.elementType=rf,e.lanes=i,e;case sf:return e=Lt(19,n,t,s),e.elementType=sf,e.lanes=i,e;case vw:return Xc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gw:o=10;break e;case yw:o=9;break e;case Oh:o=11;break e;case Mh:o=14;break e;case sr:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Lt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ts(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function Xc(e,t,n,r){return e=Lt(22,e,r,t),e.elementType=vw,e.lanes=n,e.stateNode={isHidden:!1},e}function fd(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function hd(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ck(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ku(0),this.expirationTimes=Ku(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ku(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mp(e,t,n,r,s,i,o,a,l){return e=new Ck(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(i),e}function Ek(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cx(e){if(!e)return Ar;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(yt(n))return c0(e,n,t)}return t}function ux(e,t,n,r,s,i,o,a,l){return e=mp(n,r,!0,e,s,i,o,a,l),e.context=cx(null),n=e.current,r=ct(),s=Sr(n),i=$n(r,s),i.callback=t??null,br(n,i,s),e.current.lanes=s,fa(e,s,r),vt(e,r),e}function Jc(e,t,n,r){var s=t.current,i=ct(),o=Sr(s);return n=cx(n),t.context===null?t.context=n:t.pendingContext=n,t=$n(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=br(s,t,o),e!==null&&(rn(e,s,o,i),Ml(e,s,o)),o}function _c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gp(e,t){Qg(e,t),(e=e.alternate)&&Qg(e,t)}function kk(){return null}var dx=typeof reportError=="function"?reportError:function(e){console.error(e)};function yp(e){this._internalRoot=e}Yc.prototype.render=yp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Jc(e,t,null,null)};Yc.prototype.unmount=yp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;os(function(){Jc(null,e,null,null)}),t[Un]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=zw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ar.length&&t!==0&&t<ar[n].priority;n++);ar.splice(n,0,e),n===0&&Ww(e)}};function vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function Pk(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=_c(o);i.call(c)}}var o=ux(t,r,e,0,null,!1,!1,"",Xg);return e._reactRootContainer=o,e[Un]=o.current,Wo(e.nodeType===8?e.parentNode:e),os(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=_c(l);a.call(c)}}var l=mp(e,0,!1,null,null,!1,!1,"",Xg);return e._reactRootContainer=l,e[Un]=l.current,Wo(e.nodeType===8?e.parentNode:e),os(function(){Jc(t,l,n,r)}),l}function eu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_c(o);a.call(l)}}Jc(t,o,e,s)}else o=Pk(n,t,e,s,r);return _c(o)}Uw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uo(t.pendingLanes);n!==0&&(Dh(t,n|1),vt(t,Te()),!(ie&6)&&(Si=Te()+500,jr()))}break;case 13:os(function(){var r=Bn(e,1);if(r!==null){var s=ct();rn(r,e,1,s)}}),gp(e,1)}};$h=function(e){if(e.tag===13){var t=Bn(e,134217728);if(t!==null){var n=ct();rn(t,e,134217728,n)}gp(e,134217728)}};Bw=function(e){if(e.tag===13){var t=Sr(e),n=Bn(e,t);if(n!==null){var r=ct();rn(n,e,t,r)}gp(e,t)}};zw=function(){return ue};Hw=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};mf=function(e,t,n){switch(t){case"input":if(lf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wc(r);if(!s)throw Error(T(90));xw(r),lf(r,s)}}}break;case"textarea":_w(e,n);break;case"select":t=n.value,t!=null&&Gs(e,!!n.multiple,t,!1)}};Aw=dp;Rw=os;var Ik={usingClientEntryPoint:!1,Events:[pa,$s,Wc,Pw,Iw,dp]},Qi={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ow(e),e===null?null:e.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||kk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{Uc=Ka.inject(Ak),bn=Ka}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vp(t))throw Error(T(200));return Ek(e,t,null,n)};Tt.createRoot=function(e,t){if(!vp(e))throw Error(T(299));var n=!1,r="",s=dx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mp(e,1,!1,null,null,n,!1,r,s),e[Un]=t.current,Wo(e.nodeType===8?e.parentNode:e),new yp(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Ow(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return os(e)};Tt.hydrate=function(e,t,n){if(!Zc(t))throw Error(T(200));return eu(null,e,t,!0,n)};Tt.hydrateRoot=function(e,t,n){if(!vp(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ux(t,null,e,1,n??null,s,!1,i,o),e[Un]=t.current,Wo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)};Tt.render=function(e,t,n){if(!Zc(t))throw Error(T(200));return eu(null,e,t,!1,n)};Tt.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(T(40));return e._reactRootContainer?(os(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};Tt.unstable_batchedUpdates=dp;Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return eu(e,t,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function fx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fx)}catch(e){console.error(e)}}fx(),fw.exports=Tt;var ps=fw.exports;const Rk=Zv(ps);var hx,Jg=ps;hx=Jg.createRoot,Jg.hydrateRoot;function Nk(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,o=[],a="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var px={exports:{}},mx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=y;function Tk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ok=typeof Object.is=="function"?Object.is:Tk,Mk=Ci.useState,jk=Ci.useEffect,Fk=Ci.useLayoutEffect,Dk=Ci.useDebugValue;function $k(e,t){var n=t(),r=Mk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Fk(function(){s.value=n,s.getSnapshot=t,pd(s)&&i({inst:s})},[e,n,t]),jk(function(){return pd(s)&&i({inst:s}),e(function(){pd(s)&&i({inst:s})})},[e]),Dk(n),n}function pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ok(e,n)}catch{return!0}}function Lk(e,t){return t()}var Uk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lk:$k;mx.useSyncExternalStore=Ci.useSyncExternalStore!==void 0?Ci.useSyncExternalStore:Uk;px.exports=mx;var Bk=px.exports;const zk=uw.useInsertionEffect,Hk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wk=Hk?y.useLayoutEffect:y.useEffect,Vk=zk||Wk,gx=e=>{const t=y.useRef([e,(...n)=>t[0](...n)]).current;return Vk(()=>{t[0]=e}),t[1]},Gk="popstate",wp="pushState",xp="replaceState",Kk="hashchange",Yg=[Gk,wp,xp,Kk],qk=e=>{for(const t of Yg)addEventListener(t,e);return()=>{for(const t of Yg)removeEventListener(t,e)}},yx=(e,t)=>Bk.useSyncExternalStore(qk,e,t),Qk=()=>location.search,Xk=({ssrSearch:e=""}={})=>yx(Qk,()=>e),Zg=()=>location.pathname,Jk=({ssrPath:e}={})=>yx(Zg,e?()=>e:Zg),Yk=(e,{replace:t=!1,state:n=null}={})=>history[t?xp:wp](n,"",e),Zk=(e={})=>[Jk(e),Yk],ey=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ey]>"u"){for(const e of[wp,xp]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ey,{value:!0})}const eP=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",vx=(e="")=>e==="/"?"":e,tP=(e,t)=>e[0]==="~"?e.slice(1):vx(t)+e,nP=(e="",t)=>eP(ty(vx(e)),ty(t)),ty=e=>{try{return decodeURI(e)}catch{return e}},wx={hook:Zk,searchHook:Xk,parser:Nk,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},xx=y.createContext(wx),tu=()=>y.useContext(xx),bx={},_x=y.createContext(bx),rP=()=>y.useContext(_x),bp=e=>{const[t,n]=e.hook(e);return[nP(e.base,t),gx((r,s)=>n(tP(r,e.base),s))]},Sx=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((d,u)=>[d,l[u]])):o.groups;let h={...l};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},sP=({children:e,...t})=>{var h,d;const n=tu(),r=t.hook?wx:n;let s=r;const[i,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let a=y.useRef({}),l=a.current,c=l;for(let u in r){const g=u==="base"?r[u]+(t[u]||""):t[u]||r[u];l===c&&g!==c[u]&&(a.current=c={...c}),c[u]=g,g!==r[u]&&(s=c)}return y.createElement(xx.Provider,{value:s,children:e})},ny=({children:e,component:t},n)=>t?y.createElement(t,{params:n}):typeof e=="function"?e(n):e,iP=e=>{let t=y.useRef(bx);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},ry=({path:e,nest:t,match:n,...r})=>{const s=tu(),[i]=bp(s),[o,a,l]=n??Sx(s.parser,e,i,t),c=iP({...rP(),...a});if(!o)return null;const h=l?y.createElement(sP,{base:l},ny(r,c)):ny(r,c);return y.createElement(_x.Provider,{value:c,children:h})};y.forwardRef((e,t)=>{const n=tu(),[r,s]=bp(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:h,replace:d,state:u,...g}=e,b=gx(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,e)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&y.isValidElement(c)?y.cloneElement(c,{onClick:b,href:m}):y.createElement("a",{...g,onClick:b,href:m,className:h!=null&&h.call?h(r===o):h,children:c,ref:t})});const Cx=e=>Array.isArray(e)?e.flatMap(t=>Cx(t&&t.type===y.Fragment?t.props.children:t)):[e],oP=({children:e,location:t})=>{const n=tu(),[r]=bp(n);for(const s of Cx(e)){let i=0;if(y.isValidElement(s)&&(i=Sx(n.parser,s.props.path,t||r,s.props.nest))[0])return y.cloneElement(s,{match:i})}return null};var nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ru=typeof window>"u"||"Deno"in globalThis;function qt(){}function aP(e,t){return typeof e=="function"?e(t):e}function lP(e){return typeof e=="number"&&e>=0&&e!==1/0}function cP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sy(e,t){return typeof e=="function"?e(t):e}function uP(e,t){return typeof e=="function"?e(t):e}function iy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==_p(o,t.options))return!1}else if(!ea(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function oy(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Zo(t.options.mutationKey)!==Zo(i))return!1}else if(!ea(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _p(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zo)(e)}function Zo(e){return JSON.stringify(e,(t,n)=>qf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ea(e[n],t[n])):!1}function Ex(e,t){if(e===t)return e;const n=ay(e)&&ay(t);if(n||qf(e)&&qf(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,l++):(a[h]=Ex(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&l++)}return s===o&&l===s?e:a}return t}function ay(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qf(e){if(!ly(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ly(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ly(e){return Object.prototype.toString.call(e)==="[object Object]"}function dP(e){return new Promise(t=>{setTimeout(t,e)})}function fP(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ex(e,t):t}function hP(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function pP(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Sp=Symbol();function kx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Sp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qr,ur,li,Vv,mP=(Vv=class extends nu{constructor(){super();oe(this,Qr);oe(this,ur);oe(this,li);K(this,li,t=>{if(!ru&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,ur)||this.setEventListener(I(this,li))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,ur))==null||t.call(this),K(this,ur,void 0))}setEventListener(t){var n;K(this,li,t),(n=I(this,ur))==null||n.call(this),K(this,ur,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){I(this,Qr)!==t&&(K(this,Qr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,Qr)=="boolean"?I(this,Qr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qr=new WeakMap,ur=new WeakMap,li=new WeakMap,Vv),Px=new mP,ci,dr,ui,Gv,gP=(Gv=class extends nu{constructor(){super();oe(this,ci,!0);oe(this,dr);oe(this,ui);K(this,ui,t=>{if(!ru&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,dr)||this.setEventListener(I(this,ui))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,dr))==null||t.call(this),K(this,dr,void 0))}setEventListener(t){var n;K(this,ui,t),(n=I(this,dr))==null||n.call(this),K(this,dr,t(this.setOnline.bind(this)))}setOnline(t){I(this,ci)!==t&&(K(this,ci,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return I(this,ci)}},ci=new WeakMap,dr=new WeakMap,ui=new WeakMap,Gv),Sc=new gP;function yP(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function vP(e){return Math.min(1e3*2**e,3e4)}function Ix(e){return(e??"online")==="online"?Sc.isOnline():!0}var Ax=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function md(e){return e instanceof Ax}function Rx(e){let t=!1,n=0,r=!1,s;const i=yP(),o=m=>{var x;r||(u(new Ax(m)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Px.isFocused()&&(e.networkMode==="always"||Sc.isOnline())&&e.canRun(),h=()=>Ix(e.networkMode)&&e.canRun(),d=m=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),i.resolve(m))},u=m=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),i.reject(m))},g=()=>new Promise(m=>{var x;s=v=>{(r||c())&&m(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),b=()=>{if(r)return;let m;const x=n===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{var E;if(r)return;const p=e.retry??(ru?0:3),w=e.retryDelay??vP,_=typeof w=="function"?w(n,v):w,S=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,v);if(t||!S){u(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),dP(_).then(()=>c()?void 0:g()).then(()=>{t?u(v):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?b():g().then(b),i)}}var wP=e=>setTimeout(e,0);function xP(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=wP;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var lt=xP(),Xr,Kv,Nx=(Kv=class{constructor(){oe(this,Xr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lP(this.gcTime)&&K(this,Xr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ru?1/0:5*60*1e3))}clearGcTimeout(){I(this,Xr)&&(clearTimeout(I(this,Xr)),K(this,Xr,void 0))}},Xr=new WeakMap,Kv),di,fi,Ft,Jr,Ze,ca,Yr,Xt,Nn,qv,bP=(qv=class extends Nx{constructor(t){super();oe(this,Xt);oe(this,di);oe(this,fi);oe(this,Ft);oe(this,Jr);oe(this,Ze);oe(this,ca);oe(this,Yr);K(this,Yr,!1),K(this,ca,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,Jr,t.client),K(this,Ft,I(this,Jr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,di,SP(this.options)),this.state=t.state??I(this,di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,Ze))==null?void 0:t.promise}setOptions(t){this.options={...I(this,ca),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Ft).remove(this)}setData(t,n){const r=fP(this.state.data,t,this.options);return Ke(this,Xt,Nn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ke(this,Xt,Nn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=I(this,Ze))==null?void 0:r.promise;return(s=I(this,Ze))==null||s.cancel(t),n?n.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,di))}isActive(){return this.observers.some(t=>uP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!cP(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,Ze))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,Ze))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,Ft).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,Ze)&&(I(this,Yr)?I(this,Ze).cancel({revert:!0}):I(this,Ze).cancelRetry()),this.scheduleGc()),I(this,Ft).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,Xt,Nn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,Ze))return I(this,Ze).continueRetry(),I(this,Ze).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(u=>u.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(K(this,Yr,!0),r.signal)})},i=()=>{const d=kx(this.options,n),u={client:I(this,Jr),queryKey:this.queryKey,meta:this.meta};return s(u),K(this,Yr,!1),this.options.persister?this.options.persister(d,u,this):d(u)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:I(this,Jr),state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),K(this,fi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ke(this,Xt,Nn).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=d=>{var u,g,b,m;md(d)&&d.silent||Ke(this,Xt,Nn).call(this,{type:"error",error:d}),md(d)||((g=(u=I(this,Ft).config).onError)==null||g.call(u,d,this),(m=(b=I(this,Ft).config).onSettled)==null||m.call(b,this.state.data,d,this)),this.scheduleGc()};return K(this,Ze,Rx({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var u,g,b,m;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){a(x);return}(g=(u=I(this,Ft).config).onSuccess)==null||g.call(u,d,this),(m=(b=I(this,Ft).config).onSettled)==null||m.call(b,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,u)=>{Ke(this,Xt,Nn).call(this,{type:"failed",failureCount:d,error:u})},onPause:()=>{Ke(this,Xt,Nn).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Xt,Nn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),I(this,Ze).start()}},di=new WeakMap,fi=new WeakMap,Ft=new WeakMap,Jr=new WeakMap,Ze=new WeakMap,ca=new WeakMap,Yr=new WeakMap,Xt=new WeakSet,Nn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._P(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return md(s)&&s.revert&&I(this,fi)?{...I(this,fi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),lt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,Ft).notify({query:this,type:"updated",action:t})})},qv);function _P(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ix(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function SP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mn,Qv,CP=(Qv=class extends nu{constructor(t={}){super();oe(this,mn);this.config=t,K(this,mn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??_p(s,n);let o=this.get(i);return o||(o=new bP({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){I(this,mn).has(t.queryHash)||(I(this,mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,mn).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,mn).get(t)}getAll(){return[...I(this,mn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>iy(t,r)):n}notify(t){lt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mn=new WeakMap,Qv),gn,ot,Zr,yn,nr,Xv,EP=(Xv=class extends Nx{constructor(t){super();oe(this,yn);oe(this,gn);oe(this,ot);oe(this,Zr);this.mutationId=t.mutationId,K(this,ot,t.mutationCache),K(this,gn,[]),this.state=t.state||kP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,gn).includes(t)||(I(this,gn).push(t),this.clearGcTimeout(),I(this,ot).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,gn,I(this,gn).filter(n=>n!==t)),this.scheduleGc(),I(this,ot).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,gn).length||(this.state.status==="pending"?this.scheduleGc():I(this,ot).remove(this))}continue(){var t;return((t=I(this,Zr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,a,l,c,h,d,u,g,b,m,x,v,p,w,_,S,E,C;K(this,Zr,Rx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{Ke(this,yn,nr).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{Ke(this,yn,nr).call(this,{type:"pause"})},onContinue:()=>{Ke(this,yn,nr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,ot).canRun(this)}));const n=this.state.status==="pending",r=!I(this,Zr).canStart();try{if(!n){Ke(this,yn,nr).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=I(this,ot).config).onMutate)==null?void 0:i.call(s,t,this));const A=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));A!==this.state.context&&Ke(this,yn,nr).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const k=await I(this,Zr).start();return await((c=(l=I(this,ot).config).onSuccess)==null?void 0:c.call(l,k,t,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,k,t,this.state.context)),await((g=(u=I(this,ot).config).onSettled)==null?void 0:g.call(u,k,null,this.state.variables,this.state.context,this)),await((m=(b=this.options).onSettled)==null?void 0:m.call(b,k,null,t,this.state.context)),Ke(this,yn,nr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(x=I(this,ot).config).onError)==null?void 0:v.call(x,k,t,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,k,t,this.state.context)),await((S=(_=I(this,ot).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,k,t,this.state.context)),k}finally{Ke(this,yn,nr).call(this,{type:"error",error:k})}}finally{I(this,ot).runNext(this)}}},gn=new WeakMap,ot=new WeakMap,Zr=new WeakMap,yn=new WeakSet,nr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),lt.batch(()=>{I(this,gn).forEach(r=>{r.onMutationUpdate(t)}),I(this,ot).notify({mutation:this,type:"updated",action:t})})},Xv);function kP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Jt,ua,Jv,PP=(Jv=class extends nu{constructor(t={}){super();oe(this,jn);oe(this,Jt);oe(this,ua);this.config=t,K(this,jn,new Set),K(this,Jt,new Map),K(this,ua,0)}build(t,n,r){const s=new EP({mutationCache:this,mutationId:++Ra(this,ua)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){I(this,jn).add(t);const n=qa(t);if(typeof n=="string"){const r=I(this,Jt).get(n);r?r.push(t):I(this,Jt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,jn).delete(t)){const n=qa(t);if(typeof n=="string"){const r=I(this,Jt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&I(this,Jt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qa(t);if(typeof n=="string"){const r=I(this,Jt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=qa(t);if(typeof n=="string"){const s=(r=I(this,Jt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{I(this,jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,jn).clear(),I(this,Jt).clear()})}getAll(){return Array.from(I(this,jn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>oy(n,r))}findAll(t={}){return this.getAll().filter(n=>oy(t,n))}notify(t){lt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return lt.batch(()=>Promise.all(t.map(n=>n.continue().catch(qt))))}},jn=new WeakMap,Jt=new WeakMap,ua=new WeakMap,Jv);function qa(e){var t;return(t=e.options.scope)==null?void 0:t.id}function cy(e){return{onFetch:(t,n)=>{var h,d,u,g,b;const r=t.options,s=(u=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:u.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=kx(t.options,t.fetchOptions),p=async(w,_,S)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};x(E);const C=await v(E),{maxPages:k}=t.options,A=S?pP:hP;return{pages:A(w.pages,C,k),pageParams:A(w.pageParams,_,k)}};if(s&&i.length){const w=s==="backward",_=w?IP:uy,S={pages:i,pageParams:o},E=_(r,S);a=await p(S,E,w)}else{const w=e??i.length;do{const _=l===0?o[0]??r.initialPageParam:uy(r,a);if(l>0&&_==null)break;a=await p(a,_),l++}while(l<w)}return a};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function uy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IP(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ae,fr,hr,hi,pi,pr,mi,gi,Yv,AP=(Yv=class{constructor(e={}){oe(this,Ae);oe(this,fr);oe(this,hr);oe(this,hi);oe(this,pi);oe(this,pr);oe(this,mi);oe(this,gi);K(this,Ae,e.queryCache||new CP),K(this,fr,e.mutationCache||new PP),K(this,hr,e.defaultOptions||{}),K(this,hi,new Map),K(this,pi,new Map),K(this,pr,0)}mount(){Ra(this,pr)._++,I(this,pr)===1&&(K(this,mi,Px.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ae).onFocus())})),K(this,gi,Sc.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Ae).onOnline())})))}unmount(){var e,t;Ra(this,pr)._--,I(this,pr)===0&&((e=I(this,mi))==null||e.call(this),K(this,mi,void 0),(t=I(this,gi))==null||t.call(this),K(this,gi,void 0))}isFetching(e){return I(this,Ae).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,fr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Ae).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=I(this,Ae).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(sy(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return I(this,Ae).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=I(this,Ae).get(r.queryHash),i=s==null?void 0:s.state.data,o=aP(t,i);if(o!==void 0)return I(this,Ae).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return lt.batch(()=>I(this,Ae).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Ae).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,Ae);lt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,Ae);return lt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=lt.batch(()=>I(this,Ae).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(qt).catch(qt)}invalidateQueries(e,t={}){return lt.batch(()=>(I(this,Ae).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=lt.batch(()=>I(this,Ae).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(qt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(qt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,Ae).build(this,t);return n.isStaleByTime(sy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qt).catch(qt)}fetchInfiniteQuery(e){return e.behavior=cy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qt).catch(qt)}ensureInfiniteQueryData(e){return e.behavior=cy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sc.isOnline()?I(this,fr).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Ae)}getMutationCache(){return I(this,fr)}getDefaultOptions(){return I(this,hr)}setDefaultOptions(e){K(this,hr,e)}setQueryDefaults(e,t){I(this,hi).set(Zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,hi).values()],n={};return t.forEach(r=>{ea(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){I(this,pi).set(Zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,pi).values()],n={};return t.forEach(r=>{ea(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,hr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_p(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,hr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Ae).clear(),I(this,fr).clear()}},Ae=new WeakMap,fr=new WeakMap,hr=new WeakMap,hi=new WeakMap,pi=new WeakMap,pr=new WeakMap,mi=new WeakMap,gi=new WeakMap,Yv),RP=y.createContext(void 0),NP=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(RP.Provider,{value:e,children:t}));async function TP(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const OP=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return await TP(n),await n.json()},MP=new AP({defaultOptions:{queries:{queryFn:OP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),jP=1,FP=1e6;let gd=0;function DP(){return gd=(gd+1)%Number.MAX_SAFE_INTEGER,gd.toString()}const yd=new Map,dy=e=>{if(yd.has(e))return;const t=setTimeout(()=>{yd.delete(e),Ro({type:"REMOVE_TOAST",toastId:e})},FP);yd.set(e,t)},$P=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?dy(n):e.toasts.forEach(r=>{dy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Bl=[];let zl={toasts:[]};function Ro(e){zl=$P(zl,e),Bl.forEach(t=>{t(zl)})}function LP({...e}){const t=DP(),n=s=>Ro({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ro({type:"DISMISS_TOAST",toastId:t});return Ro({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function UP(){const[e,t]=y.useState(zl);return y.useEffect(()=>(Bl.push(t),()=>{const n=Bl.indexOf(t);n>-1&&Bl.splice(n,1)}),[e]),{...e,toast:LP,dismiss:n=>Ro({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function fy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tx(...e){return t=>{let n=!1;const r=e.map(s=>{const i=fy(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():fy(e[s],null)}}}}function Pe(...e){return y.useCallback(Tx(...e),e)}function BP(e,t){const n=y.createContext(t),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function ga(e,t=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:u,children:g,...b}=d,m=((v=u==null?void 0:u[e])==null?void 0:v[l])||a,x=y.useMemo(()=>b,Object.values(b));return f.jsx(m.Provider,{value:x,children:g})};c.displayName=i+"Provider";function h(d,u){var m;const g=((m=u==null?void 0:u[e])==null?void 0:m[l])||a,b=y.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,zP(s,...t)]}function zP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ei(e){const t=WP(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(GP);if(l){const c=l.props.children,h=a.map(d=>d===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:d);return f.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return f.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var HP=Ei("Slot");function WP(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=qP(s),a=KP(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Tx(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VP=Symbol("radix.slottable");function GP(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VP}function KP(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function qP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ox(e){const t=e+"CollectionProvider",[n,r]=ga(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:v}=m,p=tr.useRef(null),w=tr.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:w,collectionRef:p,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=Ei(a),c=tr.forwardRef((m,x)=>{const{scope:v,children:p}=m,w=i(a,v),_=Pe(x,w.collectionRef);return f.jsx(l,{ref:_,children:p})});c.displayName=a;const h=e+"CollectionItemSlot",d="data-radix-collection-item",u=Ei(h),g=tr.forwardRef((m,x)=>{const{scope:v,children:p,...w}=m,_=tr.useRef(null),S=Pe(x,_),E=i(h,v);return tr.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),f.jsx(u,{[d]:"",ref:S,children:p})});g.displayName=h;function b(m){const x=i(e+"CollectionConsumer",m);return tr.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((E,C)=>w.indexOf(E.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},b,r]}var QP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=QP.reduce((e,t)=>{const n=Ei(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mx(e,t){e&&ps.flushSync(()=>e.dispatchEvent(t))}function Nt(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function XP(e,t=globalThis==null?void 0:globalThis.document){const n=Nt(e);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var JP="DismissableLayer",Qf="dismissableLayer.update",YP="dismissableLayer.pointerDownOutside",ZP="dismissableLayer.focusOutside",hy,jx=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),su=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=y.useContext(jx),[h,d]=y.useState(null),u=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),b=Pe(t,C=>d(C)),m=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(x),p=h?m.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=p>=v,S=tI(C=>{const k=C.target,A=[...c.branches].some(R=>R.contains(k));!_||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},u),E=nI(C=>{const k=C.target;[...c.branches].some(R=>R.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},u);return XP(C=>{p===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},u),y.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hy=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),py(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=hy)}},[h,u,n,c]),y.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),py())},[h,c]),y.useEffect(()=>{const C=()=>g({});return document.addEventListener(Qf,C),()=>document.removeEventListener(Qf,C)},[]),f.jsx(ae.div,{...l,ref:b,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,E.onFocusCapture),onBlurCapture:re(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,S.onPointerDownCapture)})});su.displayName=JP;var eI="DismissableLayerBranch",Fx=y.forwardRef((e,t)=>{const n=y.useContext(jx),r=y.useRef(null),s=Pe(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(ae.div,{...e,ref:s})});Fx.displayName=eI;function tI(e,t=globalThis==null?void 0:globalThis.document){const n=Nt(e),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Dx(YP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nI(e,t=globalThis==null?void 0:globalThis.document){const n=Nt(e),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&Dx(ZP,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function py(){const e=new CustomEvent(Qf);document.dispatchEvent(e)}function Dx(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Mx(s,i):s.dispatchEvent(i)}var rI=su,sI=Fx,st=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},iI="Portal",iu=y.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=y.useState(!1);st(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Rk.createPortal(f.jsx(ae.div,{...r,ref:t}),o):null});iu.displayName=iI;function oI(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var ya=e=>{const{present:t,children:n}=e,r=aI(t),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Pe(r.ref,lI(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};ya.displayName="Presence";function aI(e){const[t,n]=y.useState(),r=y.useRef({}),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[a,l]=oI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=Qa(r.current);i.current=a==="mounted"?c:"none"},[a]),st(()=>{const c=r.current,h=s.current;if(h!==e){const u=i.current,g=Qa(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&u!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),st(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,d=g=>{const m=Qa(r.current).includes(g.animationName);if(g.target===t&&m&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},u=g=>{g.target===t&&(i.current=Qa(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Qa(e){return(e==null?void 0:e.animationName)||"none"}function lI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=cI({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,a=Nt(n),l=y.useCallback(c=>{if(i){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else s(c)},[i,e,s,a]);return[o,l]}function cI({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,s=y.useRef(r),i=Nt(t);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var uI="VisuallyHidden",ou=y.forwardRef((e,t)=>f.jsx(ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ou.displayName=uI;var Cp="ToastProvider",[Ep,dI,fI]=Ox("Toast"),[$x,ej]=ga("Toast",[fI]),[hI,au]=$x(Cp),Lx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=y.useState(null),[c,h]=y.useState(0),d=y.useRef(!1),u=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cp}\`. Expected non-empty \`string\`.`),f.jsx(Ep.Provider,{scope:t,children:f.jsx(hI,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>h(g=>g+1),[]),onToastRemove:y.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:u,children:o})})};Lx.displayName=Cp;var Ux="ToastViewport",pI=["F8"],Xf="toast.viewportPause",Jf="toast.viewportResume",Bx=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=pI,label:s="Notifications ({hotkey})",...i}=e,o=au(Ux,n),a=dI(n),l=y.useRef(null),c=y.useRef(null),h=y.useRef(null),d=y.useRef(null),u=Pe(t,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;y.useEffect(()=>{const x=v=>{var w;r.length!==0&&r.every(_=>v[_]||v.code===_)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,v=d.current;if(b&&x&&v){const p=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Xf);v.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Jf);v.dispatchEvent(E),o.isClosePausedRef.current=!1}},_=E=>{!x.contains(E.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",p),x.addEventListener("focusout",_),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:x})=>{const p=a().map(w=>{const _=w.ref.current,S=[_,...PI(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?p.reverse():p).flat()},[a]);return y.useEffect(()=>{const x=d.current;if(x){const v=p=>{var S,E,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const k=document.activeElement,A=p.shiftKey;if(p.target===x&&A){(S=c.current)==null||S.focus();return}const j=m({tabbingDirection:A?"backwards":"forwards"}),z=j.findIndex(O=>O===k);vd(j.slice(z+1))?p.preventDefault():A?(E=c.current)==null||E.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,m]),f.jsxs(sI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&f.jsx(Yf,{ref:c,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});vd(x)}}),f.jsx(Ep.Slot,{scope:n,children:f.jsx(ae.ol,{tabIndex:-1,...i,ref:u})}),b&&f.jsx(Yf,{ref:h,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});vd(x)}})]})});Bx.displayName=Ux;var zx="ToastFocusProxy",Yf=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=au(zx,n);return f.jsx(ou,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Yf.displayName=zx;var lu="Toast",mI="toast.swipeStart",gI="toast.swipeMove",yI="toast.swipeCancel",vI="toast.swipeEnd",Hx=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a=!0,l]=Cc({prop:r,defaultProp:s,onChange:i});return f.jsx(ya,{present:n||a,children:f.jsx(bI,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:Nt(e.onPause),onResume:Nt(e.onResume),onSwipeStart:re(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:re(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Hx.displayName=lu;var[wI,xI]=$x(lu,{onClose(){}}),bI=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:u,onSwipeEnd:g,...b}=e,m=au(lu,n),[x,v]=y.useState(null),p=Pe(t,O=>v(O)),w=y.useRef(null),_=y.useRef(null),S=s||m.duration,E=y.useRef(0),C=y.useRef(S),k=y.useRef(0),{onToastAdd:A,onToastRemove:R}=m,M=Nt(()=>{var L;(x==null?void 0:x.contains(document.activeElement))&&((L=m.viewport)==null||L.focus()),o()}),j=y.useCallback(O=>{!O||O===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(M,O))},[M]);y.useEffect(()=>{const O=m.viewport;if(O){const L=()=>{j(C.current),c==null||c()},U=()=>{const W=new Date().getTime()-E.current;C.current=C.current-W,window.clearTimeout(k.current),l==null||l()};return O.addEventListener(Xf,U),O.addEventListener(Jf,L),()=>{O.removeEventListener(Xf,U),O.removeEventListener(Jf,L)}}},[m.viewport,S,l,c,j]),y.useEffect(()=>{i&&!m.isClosePausedRef.current&&j(S)},[i,S,m.isClosePausedRef,j]),y.useEffect(()=>(A(),()=>R()),[A,R]);const z=y.useMemo(()=>x?Xx(x):null,[x]);return m.viewport?f.jsxs(f.Fragment,{children:[z&&f.jsx(_I,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),f.jsx(wI,{scope:n,onClose:M,children:ps.createPortal(f.jsx(Ep.ItemSlot,{scope:n,children:f.jsx(rI,{asChild:!0,onEscapeKeyDown:re(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||M(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:re(e.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:re(e.onPointerMove,O=>{if(!w.current)return;const L=O.clientX-w.current.x,U=O.clientY-w.current.y,W=!!_.current,P=["left","right"].includes(m.swipeDirection),N=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,F=P?N(0,L):0,D=P?0:N(0,U),G=O.pointerType==="touch"?10:2,ce={x:F,y:D},le={originalEvent:O,delta:ce};W?(_.current=ce,Xa(gI,d,le,{discrete:!1})):my(ce,m.swipeDirection,G)?(_.current=ce,Xa(mI,h,le,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(L)>G||Math.abs(U)>G)&&(w.current=null)}),onPointerUp:re(e.onPointerUp,O=>{const L=_.current,U=O.target;if(U.hasPointerCapture(O.pointerId)&&U.releasePointerCapture(O.pointerId),_.current=null,w.current=null,L){const W=O.currentTarget,P={originalEvent:O,delta:L};my(L,m.swipeDirection,m.swipeThreshold)?Xa(vI,g,P,{discrete:!0}):Xa(yI,u,P,{discrete:!0}),W.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),_I=e=>{const{__scopeToast:t,children:n,...r}=e,s=au(lu,t),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return EI(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(iu,{asChild:!0,children:f.jsx(ou,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},SI="ToastTitle",Wx=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(ae.div,{...r,ref:t})});Wx.displayName=SI;var CI="ToastDescription",Vx=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(ae.div,{...r,ref:t})});Vx.displayName=CI;var Gx="ToastAction",Kx=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?f.jsx(Qx,{altText:n,asChild:!0,children:f.jsx(kp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gx}\`. Expected non-empty \`string\`.`),null)});Kx.displayName=Gx;var qx="ToastClose",kp=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=xI(qx,n);return f.jsx(Qx,{asChild:!0,children:f.jsx(ae.button,{type:"button",...r,ref:t,onClick:re(e.onClick,s.onClose)})})});kp.displayName=qx;var Qx=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return f.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Xx(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),kI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Xx(r))}}),t}function Xa(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Mx(s,i):s.dispatchEvent(i)}var my=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function EI(e=()=>{}){const t=Nt(e);st(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function kI(e){return e.nodeType===e.ELEMENT_NODE}function PI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var II=Lx,Jx=Bx,Yx=Hx,Zx=Wx,eb=Vx,tb=Kx,nb=kp;function rb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=rb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=rb(e))&&(r&&(r+=" "),r+=t);return r}const gy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yy=sb,cu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return yy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],d=i==null?void 0:i[c];if(h===null)return null;const u=gy(h)||gy(d);return s[c][u]}),a=n&&Object.entries(n).reduce((c,h)=>{let[d,u]=h;return u===void 0||(c[d]=u),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:u,...g}=h;return Object.entries(g).every(b=>{let[m,x]=b;return Array.isArray(x)?x.includes({...i,...a}[m]):{...i,...a}[m]===x})?[...c,d,u]:c},[]);return yy(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ib=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...RI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ib("lucide",s),...a},[...o.map(([c,h])=>y.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(NI,{ref:i,iconNode:t,className:ib(`lucide-${AI(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Ie("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Ie("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Ie("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Ie("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Ie("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Ie("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ip="-",GI=e=>{const t=qI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Ip);return a[0]===""&&a.length!==1&&a.shift(),db(a,t)||KI(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},db=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?db(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ip);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},wy=/^\[(.+)\]$/,KI=e=>{if(wy.test(e)){const t=wy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},qI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return XI(Object.entries(e.classGroups),n).forEach(([i,o])=>{Zf(o,r,i,t)}),r},Zf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:xy(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(QI(s)){Zf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Zf(o,xy(t,i),n,r)})})},xy=(e,t)=>{let n=e;return t.split(Ip).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QI=e=>e.isThemeGetter,XI=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,JI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},fb="!",YI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,h=0,d;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===s&&(r||a.slice(x,x+i)===t)){l.push(a.slice(h,x)),h=x+i;continue}if(v==="/"){d=x;continue}}v==="["?c++:v==="]"&&c--}const u=l.length===0?a:a.substring(h),g=u.startsWith(fb),b=g?u.substring(1):u,m=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},ZI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},eA=e=>({cache:JI(e.cacheSize),parseClassName:YI(e),...GI(e)}),tA=/\s+/,nA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(tA);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:g}=n(c);let b=!!g,m=r(b?u.substring(0,g):u);if(!m){if(!b){a=c+(a.length>0?" "+a:a);continue}if(m=r(u),!m){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=ZI(h).join(":"),v=d?x+fb:x,p=v+m;if(i.includes(p))continue;i.push(p);const w=s(m,b);for(let _=0;_<w.length;++_){const S=w[_];i.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function rA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hb(t))&&(r&&(r+=" "),r+=n);return r}const hb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hb(e[r]))&&(n&&(n+=" "),n+=t);return n};function sA(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((h,d)=>d(h),e());return n=eA(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=nA(l,n);return s(l,h),h}return function(){return i(rA.apply(null,arguments))}}const ye=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,iA=/^\d+\/\d+$/,oA=new Set(["px","full","screen"]),aA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pn=e=>Ys(e)||oA.has(e)||iA.test(e),Kn=e=>Ni(e,"length",wA),Ys=e=>!!e&&!Number.isNaN(Number(e)),xd=e=>Ni(e,"number",Ys),Xi=e=>!!e&&Number.isInteger(Number(e)),fA=e=>e.endsWith("%")&&Ys(e.slice(0,-1)),q=e=>pb.test(e),qn=e=>aA.test(e),hA=new Set(["length","size","percentage"]),pA=e=>Ni(e,hA,mb),mA=e=>Ni(e,"position",mb),gA=new Set(["image","url"]),yA=e=>Ni(e,gA,bA),vA=e=>Ni(e,"",xA),Ji=()=>!0,Ni=(e,t,n)=>{const r=pb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wA=e=>lA.test(e)&&!cA.test(e),mb=()=>!1,xA=e=>uA.test(e),bA=e=>dA.test(e),_A=()=>{const e=ye("colors"),t=ye("spacing"),n=ye("blur"),r=ye("brightness"),s=ye("borderColor"),i=ye("borderRadius"),o=ye("borderSpacing"),a=ye("borderWidth"),l=ye("contrast"),c=ye("grayscale"),h=ye("hueRotate"),d=ye("invert"),u=ye("gap"),g=ye("gradientColorStops"),b=ye("gradientColorStopPositions"),m=ye("inset"),x=ye("margin"),v=ye("opacity"),p=ye("padding"),w=ye("saturate"),_=ye("scale"),S=ye("sepia"),E=ye("skew"),C=ye("space"),k=ye("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",q,t],j=()=>[q,t],z=()=>["",Pn,Kn],O=()=>["auto",Ys,q],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",q],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Ys,q];return{cacheSize:500,separator:":",theme:{colors:[Ji],spacing:[Pn,Kn],blur:["none","",qn,q],brightness:D(),borderColor:[e],borderRadius:["none","","full",qn,q],borderSpacing:j(),borderWidth:z(),contrast:D(),grayscale:N(),hueRotate:D(),invert:N(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[fA,Kn],inset:M(),margin:M(),opacity:D(),padding:j(),saturate:D(),scale:D(),sepia:N(),skew:D(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[qn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),q]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xi,q]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Xi,q]}],"grid-cols":[{"grid-cols":[Ji]}],"col-start-end":[{col:["auto",{span:["full",Xi,q]},q]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Ji]}],"row-start-end":[{row:["auto",{span:[Xi,q]},q]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,t]}],"min-w":[{"min-w":[q,t,"min","max","fit"]}],"max-w":[{"max-w":[q,t,"none","full","min","max","fit","prose",{screen:[qn]},qn]}],h:[{h:[q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qn,Kn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xd]}],"font-family":[{font:[Ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",Ys,xd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pn,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pn,Kn]}],"underline-offset":[{"underline-offset":["auto",Pn,q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),mA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Pn,q]}],"outline-w":[{outline:[Pn,Kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Pn,Kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qn,vA]}],"shadow-color":[{shadow:[Ji]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qn,q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Xi,q]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pn,Kn,xd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SA=sA(_A);function se(...e){return SA(sb(e))}const CA=II,gb=y.forwardRef(({className:e,...t},n)=>f.jsx(Jx,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gb.displayName=Jx.displayName;const EA=cu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yb=y.forwardRef(({className:e,variant:t,...n},r)=>f.jsx(Yx,{ref:r,className:se(EA({variant:t}),e),...n}));yb.displayName=Yx.displayName;const kA=y.forwardRef(({className:e,...t},n)=>f.jsx(tb,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));kA.displayName=tb.displayName;const vb=y.forwardRef(({className:e,...t},n)=>f.jsx(nb,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(ub,{className:"h-4 w-4"})}));vb.displayName=nb.displayName;const wb=y.forwardRef(({className:e,...t},n)=>f.jsx(Zx,{ref:n,className:se("text-sm font-semibold",e),...t}));wb.displayName=Zx.displayName;const xb=y.forwardRef(({className:e,...t},n)=>f.jsx(eb,{ref:n,className:se("text-sm opacity-90",e),...t}));xb.displayName=eb.displayName;function PA(){const{toasts:e}=UP();return f.jsxs(CA,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return f.jsxs(yb,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(wb,{children:n}),r&&f.jsx(xb,{children:r})]}),s,f.jsx(vb,{})]},t)}),f.jsx(gb,{})]})}const bb=y.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));bb.displayName="Card";const IA=y.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));IA.displayName="CardHeader";const AA=y.forwardRef(({className:e,...t},n)=>f.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));AA.displayName="CardTitle";const RA=y.forwardRef(({className:e,...t},n)=>f.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));RA.displayName="CardDescription";const _b=y.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));_b.displayName="CardContent";const NA=y.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));NA.displayName="CardFooter";function TA(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(bb,{className:"w-full max-w-md mx-4",children:f.jsxs(_b,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(ab,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const OA=cu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?HP:"button";return f.jsx(o,{className:se(OA({variant:t,size:n,className:e})),ref:i,...s})});tt.displayName="Button";const Ap=y.forwardRef(({className:e,type:t,...n},r)=>f.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ap.displayName="Input";var MA="Label",Sb=y.forwardRef((e,t)=>f.jsx(ae.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Sb.displayName=MA;var Cb=Sb;const jA=cu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Sn=y.forwardRef(({className:e,...t},n)=>f.jsx(Cb,{ref:n,className:se(jA(),e),...t}));Sn.displayName=Cb.displayName;function by(e,[t,n]){return Math.min(n,Math.max(t,e))}var FA=y.createContext(void 0);function DA(e){const t=y.useContext(FA);return e||t||"ltr"}var bd=0;function Eb(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_y()),document.body.insertAdjacentElement("beforeend",e[1]??_y()),bd++,()=>{bd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),bd--}},[])}function _y(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _d="focusScope.autoFocusOnMount",Sd="focusScope.autoFocusOnUnmount",Sy={bubbles:!1,cancelable:!0},$A="FocusScope",Rp=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=y.useState(null),c=Nt(s),h=Nt(i),d=y.useRef(null),u=Pe(t,m=>l(m)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let m=function(w){if(g.paused||!a)return;const _=w.target;a.contains(_)?d.current=_:rr(d.current,{select:!0})},x=function(w){if(g.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||rr(d.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&rr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const p=new MutationObserver(v);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),p.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){Ey.add(g);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(_d,Sy);a.addEventListener(_d,c),a.dispatchEvent(v),v.defaultPrevented||(LA(WA(kb(a)),{select:!0}),document.activeElement===m&&rr(a))}return()=>{a.removeEventListener(_d,c),setTimeout(()=>{const v=new CustomEvent(Sd,Sy);a.addEventListener(Sd,h),a.dispatchEvent(v),v.defaultPrevented||rr(m??document.body,{select:!0}),a.removeEventListener(Sd,h),Ey.remove(g)},0)}}},[a,c,h,g]);const b=y.useCallback(m=>{if(!n&&!r||g.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(x&&v){const p=m.currentTarget,[w,_]=UA(p);w&&_?!m.shiftKey&&v===_?(m.preventDefault(),n&&rr(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),n&&rr(_,{select:!0})):v===p&&m.preventDefault()}},[n,r,g.paused]);return f.jsx(ae.div,{tabIndex:-1,...o,ref:u,onKeyDown:b})});Rp.displayName=$A;function LA(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(rr(r,{select:t}),document.activeElement!==n)return}function UA(e){const t=kb(e),n=Cy(t,e),r=Cy(t.reverse(),e);return[n,r]}function kb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Cy(e,t){for(const n of e)if(!BA(n,{upTo:t}))return n}function BA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zA(e){return e instanceof HTMLInputElement&&"select"in e}function rr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zA(e)&&t&&e.select()}}var Ey=HA();function HA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ky(e,t),e.unshift(t)},remove(t){var n;e=ky(e,t),(n=e[0])==null||n.resume()}}}function ky(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function WA(e){return e.filter(t=>t.tagName!=="A")}var VA=uw[" useId ".trim().toString()]||(()=>{}),GA=0;function Zs(e){const[t,n]=y.useState(VA());return st(()=>{n(r=>r??String(GA++))},[e]),t?`radix-${t}`:""}const KA=["top","right","bottom","left"],Rr=Math.min,kt=Math.max,Ec=Math.round,Ja=Math.floor,Cn=e=>({x:e,y:e}),qA={left:"right",right:"left",bottom:"top",top:"bottom"},QA={start:"end",end:"start"};function eh(e,t,n){return kt(e,Rr(t,n))}function Hn(e,t){return typeof e=="function"?e(t):e}function Wn(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function Np(e){return e==="x"?"y":"x"}function Tp(e){return e==="y"?"height":"width"}function Nr(e){return["top","bottom"].includes(Wn(e))?"y":"x"}function Op(e){return Np(Nr(e))}function XA(e,t,n){n===void 0&&(n=!1);const r=Ti(e),s=Op(e),i=Tp(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=kc(o)),[o,kc(o)]}function JA(e){const t=kc(e);return[th(e),t,th(t)]}function th(e){return e.replace(/start|end/g,t=>QA[t])}function YA(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function ZA(e,t,n,r){const s=Ti(e);let i=YA(Wn(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(th)))),i}function kc(e){return e.replace(/left|right|bottom|top/g,t=>qA[t])}function eR(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pb(e){return typeof e!="number"?eR(e):{top:e,right:e,bottom:e,left:e}}function Pc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Py(e,t,n){let{reference:r,floating:s}=e;const i=Nr(t),o=Op(t),a=Tp(o),l=Wn(t),c=i==="y",h=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,u=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(Ti(t)){case"start":g[o]-=u*(n&&c?-1:1);break;case"end":g[o]+=u*(n&&c?-1:1);break}return g}const tR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:d}=Py(c,r,l),u=r,g={},b=0;for(let m=0;m<a.length;m++){const{name:x,fn:v}=a[m],{x:p,y:w,data:_,reset:S}=await v({x:h,y:d,initialPlacement:r,placement:u,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:e,floating:t}});h=p??h,d=w??d,g={...g,[x]:{...g[x],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(u=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:h,y:d}=Py(c,u,l)),m=-1)}return{x:h,y:d,placement:u,strategy:s,middlewareData:g}};async function ta(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:u=!1,padding:g=0}=Hn(t,e),b=Pb(g),x=a[u?d==="floating"?"reference":"floating":d],v=Pc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),p=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Pc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:w,strategy:l}):p);return{top:(v.top-S.top+b.top)/_.y,bottom:(S.bottom-v.bottom+b.bottom)/_.y,left:(v.left-S.left+b.left)/_.x,right:(S.right-v.right+b.right)/_.x}}const nR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:h=0}=Hn(e,t)||{};if(c==null)return{};const d=Pb(h),u={x:n,y:r},g=Op(s),b=Tp(g),m=await o.getDimensions(c),x=g==="y",v=x?"top":"left",p=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[g]-u[g]-i.floating[b],S=u[g]-i.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[w]||i.floating[b]);const k=_/2-S/2,A=C/2-m[b]/2-1,R=Rr(d[v],A),M=Rr(d[p],A),j=R,z=C-m[b]-M,O=C/2-m[b]/2+k,L=eh(j,O,z),U=!l.arrow&&Ti(s)!=null&&O!==L&&i.reference[b]/2-(O<j?R:M)-m[b]/2<0,W=U?O<j?O-j:O-z:0;return{[g]:u[g]+W,data:{[g]:L,centerOffset:O-L-W,...U&&{alignmentOffset:W}},reset:U}}}),rR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...x}=Hn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Wn(s),p=Nr(a),w=Wn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=u||(w||!m?[kc(a)]:JA(a)),E=b!=="none";!u&&E&&S.push(...ZA(a,m,b,_));const C=[a,...S],k=await ta(t,x),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(k[v]),d){const O=XA(s,o,_);A.push(k[O[0]],k[O[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(O=>O<=0)){var M,j;const O=(((M=i.flip)==null?void 0:M.index)||0)+1,L=C[O];if(L)return{data:{index:O,overflows:R},reset:{placement:L}};let U=(j=R.filter(W=>W.overflows[0]<=0).sort((W,P)=>W.overflows[1]-P.overflows[1])[0])==null?void 0:j.placement;if(!U)switch(g){case"bestFit":{var z;const W=(z=R.filter(P=>{if(E){const N=Nr(P.placement);return N===p||N==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(N=>N>0).reduce((N,F)=>N+F,0)]).sort((P,N)=>P[1]-N[1])[0])==null?void 0:z[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function Iy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ay(e){return KA.some(t=>e[t]>=0)}const sR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Hn(e,t);switch(r){case"referenceHidden":{const i=await ta(t,{...s,elementContext:"reference"}),o=Iy(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ay(o)}}}case"escaped":{const i=await ta(t,{...s,altBoundary:!0}),o=Iy(i,n.floating);return{data:{escapedOffsets:o,escaped:Ay(o)}}}default:return{}}}}};async function iR(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wn(n),a=Ti(n),l=Nr(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,d=Hn(t,e);let{mainAxis:u,crossAxis:g,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof b=="number"&&(g=a==="end"?b*-1:b),l?{x:g*h,y:u*c}:{x:u*c,y:g*h}}const oR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await iR(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},aR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:p}=x;return{x:v,y:p}}},...l}=Hn(e,t),c={x:n,y:r},h=await ta(t,l),d=Nr(Wn(s)),u=Np(d);let g=c[u],b=c[d];if(i){const x=u==="y"?"top":"left",v=u==="y"?"bottom":"right",p=g+h[x],w=g-h[v];g=eh(p,g,w)}if(o){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",p=b+h[x],w=b-h[v];b=eh(p,b,w)}const m=a.fn({...t,[u]:g,[d]:b});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[u]:i,[d]:o}}}}}},lR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hn(e,t),h={x:n,y:r},d=Nr(s),u=Np(d);let g=h[u],b=h[d];const m=Hn(a,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=u==="y"?"height":"width",_=i.reference[u]-i.floating[w]+x.mainAxis,S=i.reference[u]+i.reference[w]-x.mainAxis;g<_?g=_:g>S&&(g=S)}if(c){var v,p;const w=u==="y"?"width":"height",_=["top","left"].includes(Wn(s)),S=i.reference[d]-i.floating[w]+(_&&((v=o.offset)==null?void 0:v[d])||0)+(_?0:x.crossAxis),E=i.reference[d]+i.reference[w]+(_?0:((p=o.offset)==null?void 0:p[d])||0)-(_?x.crossAxis:0);b<S?b=S:b>E&&(b=E)}return{[u]:g,[d]:b}}}},cR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Hn(e,t),h=await ta(t,c),d=Wn(s),u=Ti(s),g=Nr(s)==="y",{width:b,height:m}=i.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=u===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=u==="end"?"top":"bottom");const p=m-h.top-h.bottom,w=b-h.left-h.right,_=Rr(m-h[x],p),S=Rr(b-h[v],w),E=!t.middlewareData.shift;let C=_,k=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=p),E&&!u){const R=kt(h.left,0),M=kt(h.right,0),j=kt(h.top,0),z=kt(h.bottom,0);g?k=b-2*(R!==0||M!==0?R+M:kt(h.left,h.right)):C=m-2*(j!==0||z!==0?j+z:kt(h.top,h.bottom))}await l({...t,availableWidth:k,availableHeight:C});const A=await o.getDimensions(a.floating);return b!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function uu(){return typeof window<"u"}function Oi(e){return Ib(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kn(e){var t;return(t=(Ib(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ib(e){return uu()?e instanceof Node||e instanceof At(e).Node:!1}function on(e){return uu()?e instanceof Element||e instanceof At(e).Element:!1}function En(e){return uu()?e instanceof HTMLElement||e instanceof At(e).HTMLElement:!1}function Ry(e){return!uu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}function va(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=an(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function uR(e){return["table","td","th"].includes(Oi(e))}function du(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mp(e){const t=jp(),n=on(e)?an(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dR(e){let t=Tr(e);for(;En(t)&&!ki(t);){if(Mp(t))return t;if(du(t))return null;t=Tr(t)}return null}function jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ki(e){return["html","body","#document"].includes(Oi(e))}function an(e){return At(e).getComputedStyle(e)}function fu(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tr(e){if(Oi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ry(e)&&e.host||kn(e);return Ry(t)?t.host:t}function Ab(e){const t=Tr(e);return ki(t)?e.ownerDocument?e.ownerDocument.body:e.body:En(t)&&va(t)?t:Ab(t)}function na(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ab(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=At(s);if(i){const a=nh(o);return t.concat(o,o.visualViewport||[],va(s)?s:[],a&&n?na(a):[])}return t.concat(s,na(s,[],n))}function nh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rb(e){const t=an(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=En(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=Ec(n)!==i||Ec(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Fp(e){return on(e)?e:e.contextElement}function ei(e){const t=Fp(e);if(!En(t))return Cn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Rb(t);let o=(i?Ec(n.width):n.width)/r,a=(i?Ec(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const fR=Cn(0);function Nb(e){const t=At(e);return!jp()||!t.visualViewport?fR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==At(e)?!1:t}function as(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Fp(e);let o=Cn(1);t&&(r?on(r)&&(o=ei(r)):o=ei(e));const a=hR(i,n,r)?Nb(i):Cn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,d=s.height/o.y;if(i){const u=At(i),g=r&&on(r)?At(r):r;let b=u,m=nh(b);for(;m&&r&&g!==b;){const x=ei(m),v=m.getBoundingClientRect(),p=an(m),w=v.left+(m.clientLeft+parseFloat(p.paddingLeft))*x.x,_=v.top+(m.clientTop+parseFloat(p.paddingTop))*x.y;l*=x.x,c*=x.y,h*=x.x,d*=x.y,l+=w,c+=_,b=At(m),m=nh(b)}}return Pc({width:h,height:d,x:l,y:c})}function Dp(e,t){const n=fu(e).scrollLeft;return t?t.left+n:as(kn(e)).left+n}function Tb(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Dp(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function pR(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=kn(r),a=t?du(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Cn(1);const h=Cn(0),d=En(r);if((d||!d&&!i)&&((Oi(r)!=="body"||va(o))&&(l=fu(r)),En(r))){const g=as(r);c=ei(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const u=o&&!d&&!i?Tb(o,l,!0):Cn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+u.x,y:n.y*c.y-l.scrollTop*c.y+h.y+u.y}}function mR(e){return Array.from(e.getClientRects())}function gR(e){const t=kn(e),n=fu(e),r=e.ownerDocument.body,s=kt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=kt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dp(e);const a=-n.scrollTop;return an(r).direction==="rtl"&&(o+=kt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function yR(e,t){const n=At(e),r=kn(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=jp();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function vR(e,t){const n=as(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=En(e)?ei(e):Cn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Ny(e,t,n){let r;if(t==="viewport")r=yR(e,n);else if(t==="document")r=gR(kn(e));else if(on(t))r=vR(t,n);else{const s=Nb(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Pc(r)}function Ob(e,t){const n=Tr(e);return n===t||!on(n)||ki(n)?!1:an(n).position==="fixed"||Ob(n,t)}function wR(e,t){const n=t.get(e);if(n)return n;let r=na(e,[],!1).filter(a=>on(a)&&Oi(a)!=="body"),s=null;const i=an(e).position==="fixed";let o=i?Tr(e):e;for(;on(o)&&!ki(o);){const a=an(o),l=Mp(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||va(o)&&!l&&Ob(e,o))?r=r.filter(h=>h!==o):s=a,o=Tr(o)}return t.set(e,r),r}function xR(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?du(t)?[]:wR(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const d=Ny(t,h,s);return c.top=kt(d.top,c.top),c.right=Rr(d.right,c.right),c.bottom=Rr(d.bottom,c.bottom),c.left=kt(d.left,c.left),c},Ny(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bR(e){const{width:t,height:n}=Rb(e);return{width:t,height:n}}function _R(e,t,n){const r=En(t),s=kn(t),i=n==="fixed",o=as(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Cn(0);if(r||!r&&!i)if((Oi(t)!=="body"||va(s))&&(a=fu(t)),r){const u=as(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else s&&(l.x=Dp(s));const c=s&&!r&&!i?Tb(s,a):Cn(0),h=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:h,y:d,width:o.width,height:o.height}}function Cd(e){return an(e).position==="static"}function Ty(e,t){if(!En(e)||an(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kn(e)===n&&(n=n.ownerDocument.body),n}function Mb(e,t){const n=At(e);if(du(e))return n;if(!En(e)){let s=Tr(e);for(;s&&!ki(s);){if(on(s)&&!Cd(s))return s;s=Tr(s)}return n}let r=Ty(e,t);for(;r&&uR(r)&&Cd(r);)r=Ty(r,t);return r&&ki(r)&&Cd(r)&&!Mp(r)?n:r||dR(e)||n}const SR=async function(e){const t=this.getOffsetParent||Mb,n=this.getDimensions,r=await n(e.floating);return{reference:_R(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CR(e){return an(e).direction==="rtl"}const ER={convertOffsetParentRelativeRectToViewportRelativeRect:pR,getDocumentElement:kn,getClippingRect:xR,getOffsetParent:Mb,getElementRects:SR,getClientRects:mR,getDimensions:bR,getScale:ei,isElement:on,isRTL:CR};function jb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kR(e,t){let n=null,r;const s=kn(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:h,top:d,width:u,height:g}=c;if(a||t(),!u||!g)return;const b=Ja(d),m=Ja(s.clientWidth-(h+u)),x=Ja(s.clientHeight-(d+g)),v=Ja(h),w={rootMargin:-b+"px "+-m+"px "+-x+"px "+-v+"px",threshold:kt(0,Rr(1,l))||1};let _=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!_)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!jb(c,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),i}function PR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Fp(e),h=s||i?[...c?na(c):[],...na(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?kR(c,n):null;let u=-1,g=null;o&&(g=new ResizeObserver(v=>{let[p]=v;p&&p.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let b,m=l?as(e):null;l&&x();function x(){const v=as(e);m&&!jb(m,v)&&n(),m=v,b=requestAnimationFrame(x)}return n(),()=>{var v;h.forEach(p=>{s&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),d==null||d(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(b)}}const IR=oR,AR=aR,RR=rR,NR=cR,TR=sR,Oy=nR,OR=lR,MR=(e,t,n)=>{const r=new Map,s={platform:ER,...n},i={...s.platform,_c:r};return tR(e,t,{...s,platform:i})};var Hl=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ic(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Ic(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Fb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function My(e,t){const n=Fb(e);return Math.round(t*n)/n}function Ed(e){const t=y.useRef(e);return Hl(()=>{t.current=e}),t}function jR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[h,d]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,g]=y.useState(r);Ic(u,r)||g(r);const[b,m]=y.useState(null),[x,v]=y.useState(null),p=y.useCallback(P=>{P!==E.current&&(E.current=P,m(P))},[]),w=y.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),_=i||b,S=o||x,E=y.useRef(null),C=y.useRef(null),k=y.useRef(h),A=l!=null,R=Ed(l),M=Ed(s),j=Ed(c),z=y.useCallback(()=>{if(!E.current||!C.current)return;const P={placement:t,strategy:n,middleware:u};M.current&&(P.platform=M.current),MR(E.current,C.current,P).then(N=>{const F={...N,isPositioned:j.current!==!1};O.current&&!Ic(k.current,F)&&(k.current=F,ps.flushSync(()=>{d(F)}))})},[u,t,n,M,j]);Hl(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[c]);const O=y.useRef(!1);Hl(()=>(O.current=!0,()=>{O.current=!1}),[]),Hl(()=>{if(_&&(E.current=_),S&&(C.current=S),_&&S){if(R.current)return R.current(_,S,z);z()}},[_,S,z,R,A]);const L=y.useMemo(()=>({reference:E,floating:C,setReference:p,setFloating:w}),[p,w]),U=y.useMemo(()=>({reference:_,floating:S}),[_,S]),W=y.useMemo(()=>{const P={position:n,left:0,top:0};if(!U.floating)return P;const N=My(U.floating,h.x),F=My(U.floating,h.y);return a?{...P,transform:"translate("+N+"px, "+F+"px)",...Fb(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:F}},[n,a,U.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:z,refs:L,elements:U,floatingStyles:W}),[h,z,L,U,W])}const FR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Oy({element:r.current,padding:s}).fn(n):{}:r?Oy({element:r,padding:s}).fn(n):{}}}},DR=(e,t)=>({...IR(e),options:[e,t]}),$R=(e,t)=>({...AR(e),options:[e,t]}),LR=(e,t)=>({...OR(e),options:[e,t]}),UR=(e,t)=>({...RR(e),options:[e,t]}),BR=(e,t)=>({...NR(e),options:[e,t]}),zR=(e,t)=>({...TR(e),options:[e,t]}),HR=(e,t)=>({...FR(e),options:[e,t]});var WR="Arrow",Db=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return f.jsx(ae.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Db.displayName=WR;var VR=Db;function GR(e){const[t,n]=y.useState(void 0);return st(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var $p="Popper",[$b,Lb]=ga($p),[KR,Ub]=$b($p),Bb=e=>{const{__scopePopper:t,children:n}=e,[r,s]=y.useState(null);return f.jsx(KR,{scope:t,anchor:r,onAnchorChange:s,children:n})};Bb.displayName=$p;var zb="PopperAnchor",Hb=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Ub(zb,n),o=y.useRef(null),a=Pe(t,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(ae.div,{...s,ref:a})});Hb.displayName=zb;var Lp="PopperContent",[qR,QR]=$b(Lp),Wb=y.forwardRef((e,t)=>{var H,J,_e,te,de,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:u=!1,updatePositionStrategy:g="optimized",onPlaced:b,...m}=e,x=Ub(Lp,n),[v,p]=y.useState(null),w=Pe(t,xt=>p(xt)),[_,S]=y.useState(null),E=GR(_),C=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(c)?c:[c],j=M.length>0,z={padding:R,boundary:M.filter(JR),altBoundary:j},{refs:O,floatingStyles:L,placement:U,isPositioned:W,middlewareData:P}=jR({strategy:"fixed",placement:A,whileElementsMounted:(...xt)=>PR(...xt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[DR({mainAxis:s+k,alignmentAxis:o}),l&&$R({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?LR():void 0,...z}),l&&UR({...z}),BR({...z,apply:({elements:xt,rects:cn,availableWidth:Li,availableHeight:Ui})=>{const{width:Bi,height:nC}=cn.reference,Aa=xt.floating.style;Aa.setProperty("--radix-popper-available-width",`${Li}px`),Aa.setProperty("--radix-popper-available-height",`${Ui}px`),Aa.setProperty("--radix-popper-anchor-width",`${Bi}px`),Aa.setProperty("--radix-popper-anchor-height",`${nC}px`)}}),_&&HR({element:_,padding:a}),YR({arrowWidth:C,arrowHeight:k}),u&&zR({strategy:"referenceHidden",...z})]}),[N,F]=Kb(U),D=Nt(b);st(()=>{W&&(D==null||D())},[W,D]);const G=(H=P.arrow)==null?void 0:H.x,ce=(J=P.arrow)==null?void 0:J.y,le=((_e=P.arrow)==null?void 0:_e.centerOffset)!==0,[be,ge]=y.useState();return st(()=>{v&&ge(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:W?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(te=P.transformOrigin)==null?void 0:te.x,(de=P.transformOrigin)==null?void 0:de.y].join(" "),...((fe=P.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(qR,{scope:n,placedSide:N,onArrowChange:S,arrowX:G,arrowY:ce,shouldHideArrow:le,children:f.jsx(ae.div,{"data-side":N,"data-align":F,...m,ref:w,style:{...m.style,animation:W?void 0:"none"}})})})});Wb.displayName=Lp;var Vb="PopperArrow",XR={top:"bottom",right:"left",bottom:"top",left:"right"},Gb=y.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=QR(Vb,r),o=XR[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(VR,{...s,ref:n,style:{...s.style,display:"block"}})})});Gb.displayName=Vb;function JR(e){return e!==null}var YR=e=>({name:"transformOrigin",options:e,fn(t){var x,v,p;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,h]=Kb(n),d={start:"0%",center:"50%",end:"100%"}[h],u=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((p=s.arrow)==null?void 0:p.y)??0)+l/2;let b="",m="";return c==="bottom"?(b=o?d:`${u}px`,m=`${-l}px`):c==="top"?(b=o?d:`${u}px`,m=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,m=o?d:`${g}px`):c==="left"&&(b=`${r.floating.width+l}px`,m=o?d:`${g}px`),{data:{x:b,y:m}}}});function Kb(e){const[t,n="center"]=e.split("-");return[t,n]}var ZR=Bb,eN=Hb,tN=Wb,nN=Gb;function rN(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},gs=new WeakMap,Ya=new WeakMap,Za={},kd=0,qb=function(e){return e&&(e.host||qb(e.parentNode))},iN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=qb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oN=function(e,t,n,r){var s=iN(t,Array.isArray(e)?e:[e]);Za[n]||(Za[n]=new WeakMap);var i=Za[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(u){if(a.has(u))h(u);else try{var g=u.getAttribute(r),b=g!==null&&g!=="false",m=(gs.get(u)||0)+1,x=(i.get(u)||0)+1;gs.set(u,m),i.set(u,x),o.push(u),m===1&&b&&Ya.set(u,!0),x===1&&u.setAttribute(n,"true"),b||u.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",u,v)}})};return h(t),a.clear(),kd++,function(){o.forEach(function(d){var u=gs.get(d)-1,g=i.get(d)-1;gs.set(d,u),i.set(d,g),u||(Ya.has(d)||d.removeAttribute(r),Ya.delete(d)),g||d.removeAttribute(n)}),kd--,kd||(gs=new WeakMap,gs=new WeakMap,Ya=new WeakMap,Za={})}},Qb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=sN(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),oN(r,s,n,"aria-hidden")):function(){return null}},wn=function(){return wn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wn.apply(this,arguments)};function Xb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function aN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Wl="right-scroll-bar-position",Vl="width-before-scroll-bar",lN="with-scroll-bars-hidden",cN="--removed-body-scroll-bar-size";function Pd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uN(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var dN=typeof window<"u"?y.useLayoutEffect:y.useEffect,jy=new WeakMap;function fN(e,t){var n=uN(null,function(r){return e.forEach(function(s){return Pd(s,r)})});return dN(function(){var r=jy.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Pd(a,null)}),i.forEach(function(a){s.has(a)||Pd(a,o)})}jy.set(n,e)},[e]),n}function hN(e){return e}function pN(e,t){t===void 0&&(t=hN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function mN(e){e===void 0&&(e={});var t=pN(null);return t.options=wn({async:!0,ssr:!1},e),t}var Jb=function(e){var t=e.sideCar,n=Xb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,wn({},n))};Jb.isSideCarExport=!0;function gN(e,t){return e.useMedium(t),Jb}var Yb=mN(),Id=function(){},hu=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:Id,onWheelCapture:Id,onTouchMoveCapture:Id}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,h=e.enabled,d=e.shards,u=e.sideCar,g=e.noIsolation,b=e.inert,m=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,p=e.gapMode,w=Xb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=u,S=fN([n,t]),E=wn(wn({},w),s);return y.createElement(y.Fragment,null,h&&y.createElement(_,{sideCar:Yb,removeScrollBar:c,shards:d,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:p}),o?y.cloneElement(y.Children.only(a),wn(wn({},E),{ref:S})):y.createElement(v,wn({},E,{className:l,ref:S}),a))});hu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hu.classNames={fullWidth:Vl,zeroRight:Wl};var yN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yN();return t&&e.setAttribute("nonce",t),e}function wN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vN())&&(wN(t,n),xN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_N=function(){var e=bN();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Zb=function(){var e=_N(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},SN={left:0,top:0,right:0,gap:0},Ad=function(e){return parseInt(e||"",10)||0},CN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ad(n),Ad(r),Ad(s)]},EN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SN;var t=CN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kN=Zb(),ti="data-scroll-locked",PN=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(lN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ti,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wl," .").concat(Wl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ti,`] {
    `).concat(cN,": ").concat(a,`px;
  }
`)},Fy=function(){var e=parseInt(document.body.getAttribute(ti)||"0",10);return isFinite(e)?e:0},IN=function(){y.useEffect(function(){return document.body.setAttribute(ti,(Fy()+1).toString()),function(){var e=Fy()-1;e<=0?document.body.removeAttribute(ti):document.body.setAttribute(ti,e.toString())}},[])},AN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;IN();var i=y.useMemo(function(){return EN(s)},[s]);return y.createElement(kN,{styles:PN(i,!t,s,n?"":"!important")})},rh=!1;if(typeof window<"u")try{var el=Object.defineProperty({},"passive",{get:function(){return rh=!0,!0}});window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{rh=!1}var ys=rh?{passive:!1}:!1,RN=function(e){return e.tagName==="TEXTAREA"},e_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!RN(e)&&n[t]==="visible")},NN=function(e){return e_(e,"overflowY")},TN=function(e){return e_(e,"overflowX")},Dy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=t_(e,r);if(s){var i=n_(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ON=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},t_=function(e,t){return e==="v"?NN(t):TN(t)},n_=function(e,t){return e==="v"?ON(t):MN(t)},jN=function(e,t){return e==="h"&&t==="rtl"?-1:1},FN=function(e,t,n,r,s){var i=jN(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,h=o>0,d=0,u=0;do{var g=n_(e,a),b=g[0],m=g[1],x=g[2],v=m-x-i*b;(b||v)&&t_(e,a)&&(d+=v,u+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(h&&Math.abs(d)<1||!h&&Math.abs(u)<1)&&(c=!0),c},tl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$y=function(e){return[e.deltaX,e.deltaY]},Ly=function(e){return e&&"current"in e?e.current:e},DN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$N=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LN=0,vs=[];function UN(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(LN++)[0],i=y.useState(Zb)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=aN([e.lockRef.current],(e.shards||[]).map(Ly),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=y.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=tl(m),p=n.current,w="deltaX"in m?m.deltaX:p[0]-v[0],_="deltaY"in m?m.deltaY:p[1]-v[1],S,E=m.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var k=Dy(C,E);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=Dy(C,E)),!k)return!1;if(!r.current&&"changedTouches"in m&&(w||_)&&(r.current=S),!S)return!0;var A=r.current||S;return FN(A,x,m,A==="h"?w:_)},[]),l=y.useCallback(function(m){var x=m;if(!(!vs.length||vs[vs.length-1]!==i)){var v="deltaY"in x?$y(x):tl(x),p=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&DN(S.delta,v)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(Ly).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?a(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(m,x,v,p){var w={name:m,delta:x,target:v,should:p,shadowParent:BN(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),h=y.useCallback(function(m){n.current=tl(m),r.current=void 0},[]),d=y.useCallback(function(m){c(m.type,$y(m),m.target,a(m,e.lockRef.current))},[]),u=y.useCallback(function(m){c(m.type,tl(m),m.target,a(m,e.lockRef.current))},[]);y.useEffect(function(){return vs.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:u}),document.addEventListener("wheel",l,ys),document.addEventListener("touchmove",l,ys),document.addEventListener("touchstart",h,ys),function(){vs=vs.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,ys),document.removeEventListener("touchmove",l,ys),document.removeEventListener("touchstart",h,ys)}},[]);var g=e.removeScrollBar,b=e.inert;return y.createElement(y.Fragment,null,b?y.createElement(i,{styles:$N(s)}):null,g?y.createElement(AN,{gapMode:e.gapMode}):null)}function BN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zN=gN(Yb,UN);var Up=y.forwardRef(function(e,t){return y.createElement(hu,wn({},e,{ref:t,sideCar:zN}))});Up.classNames=hu.classNames;var HN=[" ","Enter","ArrowUp","ArrowDown"],WN=[" ","Enter"],wa="Select",[pu,mu,VN]=Ox(wa),[Mi,tj]=ga(wa,[VN,Lb]),gu=Lb(),[GN,Fr]=Mi(wa),[KN,qN]=Mi(wa),r_=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:d,disabled:u,required:g,form:b}=e,m=gu(t),[x,v]=y.useState(null),[p,w]=y.useState(null),[_,S]=y.useState(!1),E=DA(c),[C=!1,k]=Cc({prop:r,defaultProp:s,onChange:i}),[A,R]=Cc({prop:o,defaultProp:a,onChange:l}),M=y.useRef(null),j=x?b||!!x.closest("form"):!0,[z,O]=y.useState(new Set),L=Array.from(z).map(U=>U.props.value).join(";");return f.jsx(ZR,{...m,children:f.jsxs(GN,{required:g,scope:t,trigger:x,onTriggerChange:v,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Zs(),value:A,onValueChange:R,open:C,onOpenChange:k,dir:E,triggerPointerDownPosRef:M,disabled:u,children:[f.jsx(pu.Provider,{scope:t,children:f.jsx(KN,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(U=>{O(W=>new Set(W).add(U))},[]),onNativeOptionRemove:y.useCallback(U=>{O(W=>{const P=new Set(W);return P.delete(U),P})},[]),children:n})}),j?f.jsxs(I_,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:d,value:A,onChange:U=>R(U.target.value),disabled:u,form:b,children:[A===void 0?f.jsx("option",{value:""}):null,Array.from(z)]},L):null]})})};r_.displayName=wa;var s_="SelectTrigger",i_=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=gu(n),o=Fr(s_,n),a=o.disabled||r,l=Pe(t,o.onTriggerChange),c=mu(n),h=y.useRef("touch"),[d,u,g]=A_(m=>{const x=c().filter(w=>!w.disabled),v=x.find(w=>w.value===o.value),p=R_(x,m,v);p!==void 0&&o.onValueChange(p.value)}),b=m=>{a||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(eN,{asChild:!0,...i,children:f.jsx(ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":P_(o.value)?"":void 0,...s,ref:l,onClick:re(s.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&b(m)}),onPointerDown:re(s.onPointerDown,m=>{h.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:re(s.onKeyDown,m=>{const x=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&u(m.key),!(x&&m.key===" ")&&HN.includes(m.key)&&(b(),m.preventDefault())})})})});i_.displayName=s_;var o_="SelectValue",a_=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=Fr(o_,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,d=Pe(t,l.onValueNodeChange);return st(()=>{c(h)},[c,h]),f.jsx(ae.span,{...a,ref:d,style:{pointerEvents:"none"},children:P_(l.value)?f.jsx(f.Fragment,{children:o}):i})});a_.displayName=o_;var QN="SelectIcon",l_=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return f.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});l_.displayName=QN;var XN="SelectPortal",c_=e=>f.jsx(iu,{asChild:!0,...e});c_.displayName=XN;var ls="SelectContent",u_=y.forwardRef((e,t)=>{const n=Fr(ls,e.__scopeSelect),[r,s]=y.useState();if(st(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ps.createPortal(f.jsx(d_,{scope:e.__scopeSelect,children:f.jsx(pu.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),i):null}return f.jsx(f_,{...e,ref:t})});u_.displayName=ls;var Vt=10,[d_,Dr]=Mi(ls),JN="SelectContentImpl",YN=Ei("SelectContent.RemoveScroll"),f_=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:u,collisionPadding:g,sticky:b,hideWhenDetached:m,avoidCollisions:x,...v}=e,p=Fr(ls,n),[w,_]=y.useState(null),[S,E]=y.useState(null),C=Pe(t,H=>_(H)),[k,A]=y.useState(null),[R,M]=y.useState(null),j=mu(n),[z,O]=y.useState(!1),L=y.useRef(!1);y.useEffect(()=>{if(w)return Qb(w)},[w]),Eb();const U=y.useCallback(H=>{const[J,..._e]=j().map(fe=>fe.ref.current),[te]=_e.slice(-1),de=document.activeElement;for(const fe of H)if(fe===de||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===J&&S&&(S.scrollTop=0),fe===te&&S&&(S.scrollTop=S.scrollHeight),fe==null||fe.focus(),document.activeElement!==de))return},[j,S]),W=y.useCallback(()=>U([k,w]),[U,k,w]);y.useEffect(()=>{z&&W()},[z,W]);const{onOpenChange:P,triggerPointerDownPosRef:N}=p;y.useEffect(()=>{if(w){let H={x:0,y:0};const J=te=>{var de,fe;H={x:Math.abs(Math.round(te.pageX)-(((de=N.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(te.pageY)-(((fe=N.current)==null?void 0:fe.y)??0))}},_e=te=>{H.x<=10&&H.y<=10?te.preventDefault():w.contains(te.target)||P(!1),document.removeEventListener("pointermove",J),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",_e,{capture:!0})}}},[w,P,N]),y.useEffect(()=>{const H=()=>P(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[P]);const[F,D]=A_(H=>{const J=j().filter(de=>!de.disabled),_e=J.find(de=>de.ref.current===document.activeElement),te=R_(J,H,_e);te&&setTimeout(()=>te.ref.current.focus())}),G=y.useCallback((H,J,_e)=>{const te=!L.current&&!_e;(p.value!==void 0&&p.value===J||te)&&(A(H),te&&(L.current=!0))},[p.value]),ce=y.useCallback(()=>w==null?void 0:w.focus(),[w]),le=y.useCallback((H,J,_e)=>{const te=!L.current&&!_e;(p.value!==void 0&&p.value===J||te)&&M(H)},[p.value]),be=r==="popper"?sh:h_,ge=be===sh?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:u,collisionPadding:g,sticky:b,hideWhenDetached:m,avoidCollisions:x}:{};return f.jsx(d_,{scope:n,content:w,viewport:S,onViewportChange:E,itemRefCallback:G,selectedItem:k,onItemLeave:ce,itemTextRefCallback:le,focusSelectedItem:W,selectedItemText:R,position:r,isPositioned:z,searchRef:F,children:f.jsx(Up,{as:YN,allowPinchZoom:!0,children:f.jsx(Rp,{asChild:!0,trapped:p.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:re(s,H=>{var J;(J=p.trigger)==null||J.focus({preventScroll:!0}),H.preventDefault()}),children:f.jsx(su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:f.jsx(be,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:H=>H.preventDefault(),...v,...ge,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:re(v.onKeyDown,H=>{const J=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!J&&H.key.length===1&&D(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let te=j().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(H.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const de=H.target,fe=te.indexOf(de);te=te.slice(fe+1)}setTimeout(()=>U(te)),H.preventDefault()}})})})})})})});f_.displayName=JN;var ZN="SelectItemAlignedPosition",h_=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Fr(ls,n),o=Dr(ls,n),[a,l]=y.useState(null),[c,h]=y.useState(null),d=Pe(t,C=>h(C)),u=mu(n),g=y.useRef(!1),b=y.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:p}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&m&&x&&v){const C=i.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(i.dir!=="rtl"){const de=R.left-k.left,fe=A.left-de,xt=C.left-fe,cn=C.width+xt,Li=Math.max(cn,k.width),Ui=window.innerWidth-Vt,Bi=by(fe,[Vt,Math.max(Vt,Ui-Li)]);a.style.minWidth=cn+"px",a.style.left=Bi+"px"}else{const de=k.right-R.right,fe=window.innerWidth-A.right-de,xt=window.innerWidth-C.right-fe,cn=C.width+xt,Li=Math.max(cn,k.width),Ui=window.innerWidth-Vt,Bi=by(fe,[Vt,Math.max(Vt,Ui-Li)]);a.style.minWidth=cn+"px",a.style.right=Bi+"px"}const M=u(),j=window.innerHeight-Vt*2,z=m.scrollHeight,O=window.getComputedStyle(c),L=parseInt(O.borderTopWidth,10),U=parseInt(O.paddingTop,10),W=parseInt(O.borderBottomWidth,10),P=parseInt(O.paddingBottom,10),N=L+U+z+P+W,F=Math.min(x.offsetHeight*5,N),D=window.getComputedStyle(m),G=parseInt(D.paddingTop,10),ce=parseInt(D.paddingBottom,10),le=C.top+C.height/2-Vt,be=j-le,ge=x.offsetHeight/2,H=x.offsetTop+ge,J=L+U+H,_e=N-J;if(J<=le){const de=M.length>0&&x===M[M.length-1].ref.current;a.style.bottom="0px";const fe=c.clientHeight-m.offsetTop-m.offsetHeight,xt=Math.max(be,ge+(de?ce:0)+fe+W),cn=J+xt;a.style.height=cn+"px"}else{const de=M.length>0&&x===M[0].ref.current;a.style.top="0px";const xt=Math.max(le,L+m.offsetTop+(de?G:0)+ge)+_e;a.style.height=xt+"px",m.scrollTop=J-le+m.offsetTop}a.style.margin=`${Vt}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[u,i.trigger,i.valueNode,a,c,m,x,v,i.dir,r]);st(()=>w(),[w]);const[_,S]=y.useState();st(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=y.useCallback(C=>{C&&b.current===!0&&(w(),p==null||p(),b.current=!1)},[w,p]);return f.jsx(tT,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:f.jsx(ae.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});h_.displayName=ZN;var eT="SelectPopperPosition",sh=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Vt,...i}=e,o=gu(n);return f.jsx(tN,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sh.displayName=eT;var[tT,Bp]=Mi(ls,{}),ih="SelectViewport",p_=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Dr(ih,n),o=Bp(ih,n),a=Pe(t,i.onViewportChange),l=y.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(pu.Slot,{scope:n,children:f.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:u}=o;if(u!=null&&u.current&&d){const g=Math.abs(l.current-h.scrollTop);if(g>0){const b=window.innerHeight-Vt*2,m=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),v=Math.max(m,x);if(v<b){const p=v+g,w=Math.min(b,p),_=p-w;d.style.height=w+"px",d.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});p_.displayName=ih;var m_="SelectGroup",[nT,rT]=Mi(m_),sT=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Zs();return f.jsx(nT,{scope:n,id:s,children:f.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});sT.displayName=m_;var g_="SelectLabel",y_=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rT(g_,n);return f.jsx(ae.div,{id:s.id,...r,ref:t})});y_.displayName=g_;var Ac="SelectItem",[iT,v_]=Mi(Ac),w_=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=Fr(Ac,n),l=Dr(Ac,n),c=a.value===r,[h,d]=y.useState(i??""),[u,g]=y.useState(!1),b=Pe(t,p=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,p,r,s)}),m=Zs(),x=y.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(iT,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:y.useCallback(p=>{d(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:f.jsx(pu.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:f.jsx(ae.div,{role:"option","aria-labelledby":m,"data-highlighted":u?"":void 0,"aria-selected":c&&u,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:re(o.onFocus,()=>g(!0)),onBlur:re(o.onBlur,()=>g(!1)),onClick:re(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:re(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:re(o.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:re(o.onPointerMove,p=>{var w;x.current=p.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:re(o.onKeyDown,p=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(WN.includes(p.key)&&v(),p.key===" "&&p.preventDefault())})})})})});w_.displayName=Ac;var ho="SelectItemText",x_=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Fr(ho,n),a=Dr(ho,n),l=v_(ho,n),c=qN(ho,n),[h,d]=y.useState(null),u=Pe(t,v=>d(v),l.onItemTextChange,v=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,v,l.value,l.disabled)}),g=h==null?void 0:h.textContent,b=y.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=c;return st(()=>(m(b),()=>x(b)),[m,x,b]),f.jsxs(f.Fragment,{children:[f.jsx(ae.span,{id:l.textId,...i,ref:u}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ps.createPortal(i.children,o.valueNode):null]})});x_.displayName=ho;var b_="SelectItemIndicator",__=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return v_(b_,n).isSelected?f.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});__.displayName=b_;var oh="SelectScrollUpButton",S_=y.forwardRef((e,t)=>{const n=Dr(oh,e.__scopeSelect),r=Bp(oh,e.__scopeSelect),[s,i]=y.useState(!1),o=Pe(t,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(E_,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});S_.displayName=oh;var ah="SelectScrollDownButton",C_=y.forwardRef((e,t)=>{const n=Dr(ah,e.__scopeSelect),r=Bp(ah,e.__scopeSelect),[s,i]=y.useState(!1),o=Pe(t,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(E_,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});C_.displayName=ah;var E_=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Dr("SelectScrollButton",n),o=y.useRef(null),a=mu(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),st(()=>{var h;const c=a().find(d=>d.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),f.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{l()})})}),oT="SelectSeparator",k_=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});k_.displayName=oT;var lh="SelectArrow",aT=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gu(n),i=Fr(lh,n),o=Dr(lh,n);return i.open&&o.position==="popper"?f.jsx(nN,{...s,...r,ref:t}):null});aT.displayName=lh;function P_(e){return e===""||e===void 0}var I_=y.forwardRef((e,t)=>{const{value:n,...r}=e,s=y.useRef(null),i=Pe(t,s),o=rN(n);return y.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const d=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(d)}},[o,n]),f.jsx(ou,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});I_.displayName="BubbleSelect";function A_(e){const t=Nt(e),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function R_(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=lT(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lT(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var cT=r_,N_=i_,uT=a_,dT=l_,fT=c_,T_=u_,hT=p_,O_=y_,M_=w_,pT=x_,mT=__,j_=S_,F_=C_,D_=k_;const $_=cT,L_=uT,zp=y.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(N_,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,f.jsx(dT,{asChild:!0,children:f.jsx(ob,{className:"h-4 w-4 opacity-50"})})]}));zp.displayName=N_.displayName;const U_=y.forwardRef(({className:e,...t},n)=>f.jsx(j_,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(FI,{className:"h-4 w-4"})}));U_.displayName=j_.displayName;const B_=y.forwardRef(({className:e,...t},n)=>f.jsx(F_,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(ob,{className:"h-4 w-4"})}));B_.displayName=F_.displayName;const Hp=y.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>f.jsx(fT,{children:f.jsxs(T_,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white dark:bg-gray-800 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[f.jsx(U_,{}),f.jsx(hT,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(B_,{})]})}));Hp.displayName=T_.displayName;const gT=y.forwardRef(({className:e,...t},n)=>f.jsx(O_,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gT.displayName=O_.displayName;const ni=y.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(M_,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(mT,{children:f.jsx(No,{className:"h-4 w-4"})})}),f.jsx(pT,{children:t})]}));ni.displayName=M_.displayName;const yT=y.forwardRef(({className:e,...t},n)=>f.jsx(D_,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));yT.displayName=D_.displayName;function vT({language:e,songTitle:t,songMood:n,midiData:r,currentFileName:s,fileInputRef:i,setSongTitle:o,setSongMood:a,analyzeMidi:l,resetState:c,generateAILyrics:h,moodOptions:d}){const u=d[e];return f.jsxs("div",{className:"w-full lg:w-1/3 space-y-6",children:[f.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[f.jsxs("h2",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(vy,{size:20}),e==="ja"?"MIDI ":"MIDI File"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx(Sn,{htmlFor:"midi_file",className:"mb-2",children:e==="ja"?"MIDI ":"Upload MIDI file"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"midi_file",ref:i,type:"file",accept:".mid,.midi",onChange:l,className:"hidden"}),f.jsx("div",{onClick:()=>{var g;return(g=i.current)==null?void 0:g.click()},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:f.jsxs("div",{className:"flex items-center text-muted-foreground w-full",children:[f.jsx(vy,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"flex-1 truncate",children:s||(e==="ja"?"MIDI":"Choose MIDI file")})]})})]})]}),r&&f.jsx("div",{className:"p-4 mb-4 text-sm text-primary-800 rounded-lg bg-primary-50 dark:bg-gray-700 dark:text-primary-400 flex flex-col",children:f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:e==="ja"?":":"Notes:"})," ",r.noteCount]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:e==="ja"?":":"Duration:"})," ",r.duration.toFixed(2),e==="ja"?"":"s"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:e==="ja"?":":"Avg Pitch:"})," ",r.averagePitch.toFixed(2)]})]})}),f.jsxs(tt,{variant:"outline",className:"w-full border-gray-200 dark:border-gray-600",onClick:c,children:[f.jsx(HI,{className:"mr-2 h-4 w-4"}),e==="ja"?"":"Reset"]})]}),f.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[f.jsxs("h2",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(TI,{size:20}),e==="ja"?"":"Song Details"]}),f.jsxs("div",{className:"mb-4",children:[f.jsx(Sn,{htmlFor:"song_title",className:"mb-2",children:e==="ja"?" ()":"Title (Optional)"}),f.jsx(Ap,{id:"song_title",type:"text",placeholder:e==="ja"?"":"Song title",value:t,onChange:g=>o(g.target.value)})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx(Sn,{htmlFor:"song_mood",className:"mb-2",children:e==="ja"?" ()":"Mood (Optional)"}),f.jsxs($_,{value:n,onValueChange:a,children:[f.jsx(zp,{id:"song_mood",children:f.jsx(L_,{placeholder:e==="ja"?"":"Select mood"})}),f.jsxs(Hp,{children:[f.jsx(ni,{value:"none",children:e==="ja"?"":"Select mood"}),u.map(g=>f.jsx(ni,{value:g,children:g},g))]})]})]}),f.jsxs(tt,{className:"w-full",onClick:()=>h(),disabled:!r,children:[f.jsx(cb,{className:"mr-2 h-4 w-4"}),e==="ja"?"":"Generate Prompt"]})]})]})}const wT=cu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),z_=y.forwardRef(({className:e,variant:t,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:se(wT({variant:t}),e),...n}));z_.displayName="Alert";const xT=y.forwardRef(({className:e,...t},n)=>f.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));xT.displayName="AlertTitle";const H_=y.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",e),...t}));H_.displayName="AlertDescription";function Uy({className:e,size:t="md",fullPage:n=!1,...r}){const s={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i=f.jsx("div",{className:se("inline-block animate-spin rounded-full border-4 border-solid border-primary-600 border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",s[t],e),role:"status","aria-label":"loading",...r});return n?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i}):i}function bT({lyrics:e,isLoading:t,isGeneratingAI:n,error:r,lyricsHistory:s,currentHistoryIndex:i,isCopied:o,navigateHistory:a,copyLyrics:l,language:c}){const h=!e&&!t&&!n&&!r;return f.jsx("div",{className:"w-full lg:w-2/3",children:f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[f.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(UI,{size:20}),c==="ja"?"":"Generated Lyrics"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>a("back"),disabled:i<=0||s.length===0,className:"h-8 w-8",children:f.jsx(MI,{className:"h-4 w-4"})}),f.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>a("forward"),disabled:i>=s.length-1||s.length===0,className:"h-8 w-8",children:f.jsx(jI,{className:"h-4 w-4"})})]}),f.jsx(tt,{variant:"ghost",size:"icon",onClick:l,disabled:!e,className:"h-8 w-8",children:o?f.jsx(No,{className:"h-4 w-4"}):f.jsx(LI,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"p-4 min-h-[50vh]",children:[t&&f.jsx("div",{className:"flex flex-col items-center justify-center h-full py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Uy,{className:"h-8 w-8 mb-4"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"MIDI...":"Analyzing MIDI file..."})]})}),n&&f.jsx("div",{className:"flex flex-col items-center justify-center h-full py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Uy,{className:"h-8 w-8 mb-4"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"AI...":"AI is generating lyrics..."})]})}),h&&f.jsx("div",{className:"flex flex-col items-center justify-center h-full py-12",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-primary-50 dark:bg-gray-700 mb-4",children:f.jsx(WI,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:c==="ja"?"MIDI":"Generate Lyrics from MIDI"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:c==="ja"?"MIDIAI":"Upload a MIDI file and generate lyrics that match your music using AI."}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-400",children:f.jsx(Pp,{className:"h-5 w-5"})}),f.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"MIDI":"Upload MIDI file"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-400",children:f.jsx(zI,{className:"h-5 w-5"})}),f.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"API":"Set API key (optional)"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-400",children:f.jsx(cb,{className:"h-5 w-5"})}),f.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"AI":"Generate lyrics with AI"})]})]})]})}),e&&!t&&!n&&f.jsx("pre",{className:"lyrics-container font-sans whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:e}),r&&f.jsxs(z_,{variant:"destructive",className:"mt-4",children:[f.jsx(ab,{className:"h-4 w-4 mr-2"}),f.jsx(H_,{children:r})]})]})]})})}var Wp="Dialog",[W_,nj]=ga(Wp),[_T,ln]=W_(Wp),V_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=y.useRef(null),l=y.useRef(null),[c=!1,h]=Cc({prop:r,defaultProp:s,onChange:i});return f.jsx(_T,{scope:t,triggerRef:a,contentRef:l,contentId:Zs(),titleId:Zs(),descriptionId:Zs(),open:c,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(d=>!d),[h]),modal:o,children:n})};V_.displayName=Wp;var G_="DialogTrigger",ST=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ln(G_,n),i=Pe(t,s.triggerRef);return f.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Kp(s.open),...r,ref:i,onClick:re(e.onClick,s.onOpenToggle)})});ST.displayName=G_;var Vp="DialogPortal",[CT,K_]=W_(Vp,{forceMount:void 0}),q_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=ln(Vp,t);return f.jsx(CT,{scope:t,forceMount:n,children:y.Children.map(r,o=>f.jsx(ya,{present:n||i.open,children:f.jsx(iu,{asChild:!0,container:s,children:o})}))})};q_.displayName=Vp;var Rc="DialogOverlay",Q_=y.forwardRef((e,t)=>{const n=K_(Rc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=ln(Rc,e.__scopeDialog);return i.modal?f.jsx(ya,{present:r||i.open,children:f.jsx(kT,{...s,ref:t})}):null});Q_.displayName=Rc;var ET=Ei("DialogOverlay.RemoveScroll"),kT=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ln(Rc,n);return f.jsx(Up,{as:ET,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(ae.div,{"data-state":Kp(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),cs="DialogContent",X_=y.forwardRef((e,t)=>{const n=K_(cs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=ln(cs,e.__scopeDialog);return f.jsx(ya,{present:r||i.open,children:i.modal?f.jsx(PT,{...s,ref:t}):f.jsx(IT,{...s,ref:t})})});X_.displayName=cs;var PT=y.forwardRef((e,t)=>{const n=ln(cs,e.__scopeDialog),r=y.useRef(null),s=Pe(t,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Qb(i)},[]),f.jsx(J_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:re(e.onFocusOutside,i=>i.preventDefault())})}),IT=y.forwardRef((e,t)=>{const n=ln(cs,e.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return f.jsx(J_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),J_=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=ln(cs,n),l=y.useRef(null),c=Pe(t,l);return Eb(),f.jsxs(f.Fragment,{children:[f.jsx(Rp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(su,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Kp(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(AT,{titleId:a.titleId}),f.jsx(NT,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Gp="DialogTitle",Y_=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ln(Gp,n);return f.jsx(ae.h2,{id:s.titleId,...r,ref:t})});Y_.displayName=Gp;var Z_="DialogDescription",eS=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ln(Z_,n);return f.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});eS.displayName=Z_;var tS="DialogClose",nS=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ln(tS,n);return f.jsx(ae.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});nS.displayName=tS;function Kp(e){return e?"open":"closed"}var rS="DialogTitleWarning",[rj,sS]=BP(rS,{contentName:cs,titleName:Gp,docsSlug:"dialog"}),AT=({titleId:e})=>{const t=sS(rS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},RT="DialogDescriptionWarning",NT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sS(RT).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},TT=V_,OT=q_,iS=Q_,oS=X_,aS=Y_,lS=eS,MT=nS;const cS=TT,jT=OT,uS=y.forwardRef(({className:e,...t},n)=>f.jsx(iS,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uS.displayName=iS.displayName;const qp=y.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(jT,{children:[f.jsx(uS,{}),f.jsxs(oS,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white dark:bg-gray-800 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,f.jsxs(MT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(ub,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qp.displayName=oS.displayName;const Qp=({className:e,...t})=>f.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qp.displayName="DialogHeader";const Xp=({className:e,...t})=>f.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xp.displayName="DialogFooter";const Jp=y.forwardRef(({className:e,...t},n)=>f.jsx(aS,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));Jp.displayName=aS.displayName;const FT=y.forwardRef(({className:e,...t},n)=>f.jsx(lS,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));FT.displayName=lS.displayName;function DT({apiKey:e,setApiKey:t,apiProvider:n,setApiProvider:r,onSubmit:s,onDelete:i,onClose:o}){console.log(`SettingsModal - API: ${n}`);const[a,l]=y.useState(e),[c,h]=y.useState(n||"anthropic");y.useEffect(()=>{if(c!==n){const u=localStorage.getItem(`ai_api_key_${c}`);l(u||""),console.log(`API: ${n}  ${c}`)}},[c,n]),y.useEffect(()=>{l(e),h(n)},[e,n]);const d=u=>{u.preventDefault(),t(a),r(c),s(u)};return f.jsx(cS,{open:!0,onOpenChange:o,children:f.jsxs(qp,{className:"sm:max-w-md",children:[f.jsx(Qp,{children:f.jsxs(Jp,{className:"flex items-center gap-2",children:[f.jsx(lb,{className:"h-5 w-5"}),""]})}),f.jsxs("form",{onSubmit:d,className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Sn,{htmlFor:"api_provider",className:"mb-1 block",children:"API "}),f.jsxs($_,{value:c,onValueChange:u=>h(u),children:[f.jsx(zp,{id:"api_provider",className:"w-full",children:f.jsx(L_,{placeholder:"API"})}),f.jsxs(Hp,{children:[f.jsx(ni,{value:"anthropic",children:"Anthropic (Claude 3.7 Sonnet)"}),f.jsx(ni,{value:"openai",children:"OpenAI (GPT-4o)"}),f.jsx(ni,{value:"google25",children:"Google (Gemini 2.0 Flash)"})]})]})]}),f.jsxs("div",{children:[f.jsx(Sn,{htmlFor:"api_key",className:"mb-1 block",children:c==="openai"?"OpenAI API ":c==="anthropic"?"Anthropic API ":"Google AI API "}),f.jsx(Ap,{type:"password",id:"api_key",placeholder:c==="openai"?"sk-...":c==="anthropic"?"sk-ant-...":"AIza...",value:a,onChange:u=>l(u.target.value),className:"mb-1"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c==="openai"?f.jsxs(f.Fragment,{children:["OpenAI API",f.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:underline",children:""}),""]}):c==="anthropic"?f.jsxs(f.Fragment,{children:["Anthropic API",f.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:underline",children:""}),""]}):f.jsxs(f.Fragment,{children:["Google AI API",f.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Google AI Studio"}),""]})})]})]}),f.jsx("div",{className:"flex items-center",children:f.jsxs(tt,{type:"button",variant:"ghost",className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-0 h-auto",onClick:i,children:[f.jsx(VI,{className:"h-4 w-4 mr-1"}),""]})})]}),f.jsxs(Xp,{className:"sm:justify-end",children:[f.jsx(tt,{type:"button",variant:"outline",onClick:o,children:""}),f.jsx(tt,{type:"submit",onClick:d,children:""})]})]})})}const dS=y.forwardRef(({className:e,...t},n)=>f.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-white dark:bg-gray-800 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));dS.displayName="Textarea";function $T({customPrompt:e,userPrompt:t,setCustomPrompt:n,onGenerate:r,onClose:s,apiKey:i,apiProvider:o="openai",language:a="ja"}){const[l,c]=y.useState(!1),[h,d]=y.useState(!1),[u,g]=y.useState(!1),b=async(x,v)=>{try{await navigator.clipboard.writeText(x),v==="system"?(c(!0),setTimeout(()=>c(!1),2e3)):v==="user"?(d(!0),setTimeout(()=>d(!1),2e3)):(g(!0),setTimeout(()=>g(!1),2e3))}catch(p){console.error(":",p)}},m=()=>{const x=a==="ja"?`
${e}


${t||""}`:`[System Prompt]
${e}

[User Prompt]
${t||""}`;b(x,"all")};return f.jsx(cS,{open:!0,onOpenChange:s,children:f.jsxs(qp,{className:"sm:max-w-xl max-h-screen overflow-y-auto",children:[f.jsx(Qp,{children:f.jsxs(Jp,{className:"flex items-center gap-2",children:[f.jsx(OI,{className:"h-5 w-5"}),a==="ja"?"AI":"Confirm AI Prompt Contents"]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a==="ja"?"":"The following detailed prompts will be used to generate lyrics. The system prompt can be edited as needed."}),f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded text-xs inline-flex items-center",children:[f.jsx("span",{className:"font-semibold mr-2",children:a==="ja"?"AI:":"Current AI Provider:"}),f.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:o==="openai"?"OpenAI (GPT-4o)":o==="google25"?"Google (Gemini 2.0 Flash)":"Anthropic (Claude 3 Sonnet)"})]})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx(Sn,{htmlFor:"custom_prompt",className:"font-semibold text-base",children:a==="ja"?"":"System Prompt"}),f.jsx(tt,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500 hover:text-gray-700",onClick:()=>b(e,"system"),children:l?f.jsxs(f.Fragment,{children:[f.jsx(No,{className:"h-4 w-4 mr-1"}),a==="ja"?"":"Copied"]}):f.jsxs(f.Fragment,{children:[f.jsx(wd,{className:"h-4 w-4 mr-1"}),a==="ja"?"":"Copy"]})})]}),f.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-md border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 text-sm font-mono whitespace-pre-wrap overflow-x-auto max-h-48 overflow-y-auto",children:e}),f.jsxs("div",{className:"mt-4",children:[f.jsx(Sn,{htmlFor:"edit_prompt",className:"mb-1 block",children:a==="ja"?"":"Edit System Prompt:"}),f.jsx(dS,{id:"edit_prompt",rows:5,value:e,onChange:x=>n(x.target.value),className:"resize-none text-gray-800 dark:text-gray-200 font-mono text-sm"})]})]}),t&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx(Sn,{htmlFor:"user_prompt",className:"font-semibold text-base",children:a==="ja"?"":"Detailed and Powerful User Prompt"}),f.jsx(tt,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500 hover:text-gray-700",onClick:()=>b(t,"user"),children:h?f.jsxs(f.Fragment,{children:[f.jsx(No,{className:"h-4 w-4 mr-1"}),a==="ja"?"":"Copied"]}):f.jsxs(f.Fragment,{children:[f.jsx(wd,{className:"h-4 w-4 mr-1"}),a==="ja"?"":"Copy"]})})]}),f.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-md border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 text-sm font-mono whitespace-pre-wrap overflow-x-auto max-h-80 overflow-y-auto",children:t}),f.jsx("p",{className:"mt-2 text-xs text-gray-500",children:a==="ja"?"MIDI(,)":"Note: This detailed prompt is generated based on MIDI data and temporary lyrics, and is used automatically. In temporary lyrics, commas (,) are used to specify breaks between melody and lyric phrases. This prompt cannot be edited."})]})]})]}),f.jsx("div",{className:"mt-4 text-xs text-gray-500 border-t pt-2",children:f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{children:a==="ja"?` ${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} APIAI`:`* If you haven't set up a ${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} API key, you can copy the prompts and use them with another AI service.`}),f.jsx(tt,{variant:"outline",size:"sm",className:"flex items-center gap-1 text-blue-600 border-blue-300 hover:bg-blue-50 h-8",onClick:m,children:u?f.jsxs(f.Fragment,{children:[f.jsx(No,{className:"h-4 w-4"}),a==="ja"?"":"All Copied"]}):f.jsxs(f.Fragment,{children:[f.jsx(wd,{className:"h-4 w-4"}),a==="ja"?"":"Copy All"]})})]})}),f.jsxs(Xp,{className:"sm:justify-end",children:[f.jsx(tt,{type:"button",variant:"outline",onClick:s,children:a==="ja"?"":"Cancel"}),f.jsx(tt,{type:"button",onClick:r,variant:"default",disabled:!i||i.trim()==="",className:`bg-blue-600 hover:bg-blue-700 text-white font-bold px-4 py-1 rounded-md ${!i||i.trim()===""?"opacity-50 cursor-not-allowed":""}`,children:!i||i.trim()===""?a==="ja"?`${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} API`:`Please set up your ${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} API key`:a==="ja"?"":"Generate with this prompt"})]})]})})}function LT({midiData:e,onTempLyricsUpdate:t,isVisible:n,currentFileName:r,language:s="ja"}){const[i,o]=y.useState(""),[a,l]=y.useState(""),[c,h]=y.useState(!1),[d,u]=y.useState(!1),[g,b]=y.useState(!1),m=y.useRef(null),x=y.useRef(null),v=y.useRef(s);y.useEffect(()=>{if(e){const C=!x.current||x.current.noteCount!==e.noteCount,k=v.current!==s;x.current={noteCount:e.noteCount,fileName:n?r:null},v.current=s;const A=p(e);C?(u(!1),h(!1),o(A),l(A),t(A)):d||(o(A),l(A),t(A))}},[e,r,n,t,d,s]);const p=C=>{const k=[],A=s==="ja"?"":"la",R=s==="ja"?"":"la-",M=s==="ja"?"":"la--";C.notes.forEach(O=>{const L=O.duration;L<=.125||L<=.25||L<=.5?k.push(A):L<=1?k.push(R):(L<=2,k.push(M))});const j=[];let z=[];return k.forEach((O,L)=>{z.push(O),((L+1)%4===0||L===k.length-1)&&(j.push(z.join("")),z=[])}),j.join("")},w=C=>{h(!0);const k=C.target.value;k.includes(",")&&u(!0),o(k)},_=()=>{h(!0)},S=()=>{h(!1)},E=()=>{o(a),t(a),h(!1)};return!n||!e?null:f.jsxs("div",{className:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pp,{className:"h-5 w-5 text-primary-600"}),f.jsx("h3",{className:"text-lg font-semibold",children:s==="ja"?"":"Temporary Lyrics Editor"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(tt,{variant:"outline",size:"sm",onClick:E,children:s==="ja"?"":"Reset"}),f.jsx(tt,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white font-bold flex items-center gap-1",onClick:()=>{t(i),b(!0),setTimeout(()=>{b(!1)},2e3)},disabled:!d,title:d?s==="ja"?"":"Apply changes":s==="ja"?"":"Please add commas before clicking",children:g?f.jsxs(f.Fragment,{children:[f.jsx(DI,{className:"h-4 w-4"}),s==="ja"?"":"Applied"]}):s==="ja"?"":"Apply Breaks to Prompt"})]})]}),f.jsxs("div",{children:[f.jsx(Sn,{htmlFor:"temp_lyrics",className:"mb-1 block",children:s==="ja"?"(,)":"Edit temporary lyrics (use commas (,) to mark melody and phrase breaks as needed):"}),f.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 pl-1",children:[f.jsx("span",{className:"font-semibold",children:s==="ja"?"":"Notation rules:"}),s==="ja"?f.jsx(f.Fragment,{children:"8:  / 4:  / 2:  / 1: "}):f.jsx(f.Fragment,{children:'Short notes (eighth notes and shorter): "la" / Quarter notes: "la-" / Half notes and longer: "la--" / Rests longer than one beat: "_" (placed after the previous phrase)'})]}),f.jsx("textarea",{id:"temp_lyrics",ref:m,rows:4,value:i,onChange:w,onFocus:_,onBlur:S,className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 font-mono",placeholder:s==="ja"?"MIDI (: )":"Temporary lyrics will appear when you upload a MIDI file (e.g., lalala)"})]}),f.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-semibold",children:s==="ja"?"":"How to use:"}),s==="ja"?"(,)":"To adjust breaks between melody and lyric phrases, manually add commas (,) as needed."]}),f.jsxs("p",{className:"mt-1",children:[f.jsx("span",{className:"font-semibold",children:s==="ja"?"":"Example:"}),s==="ja"?",":'"lalala"  treated as one phrase. "lala,la"  treated as two phrases.']}),f.jsxs("p",{className:"mt-1",children:[f.jsx("span",{className:"font-semibold",children:s==="ja"?"":"Tip:"}),s==="ja"?"AI":'Commas tell the AI "this is a phrase break" - setting them appropriately helps lyrics match the melody more naturally.']}),f.jsxs("p",{className:"mt-2 bg-yellow-100 dark:bg-yellow-800/30 p-2 rounded border border-yellow-200 dark:border-yellow-700 font-medium",children:[f.jsx("span",{className:"font-semibold",children:s==="ja"?"":"Important:"}),s==="ja"?"AI":'After adding commas, click the "Apply Breaks to Prompt" button before generating lyrics. This ensures the AI correctly understands melody and phrase breaks.']})]})]})}var fS={},yu={};function UT(e){var t=new ft(e),n=t.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=BT(n.data),s=[],i=0;!t.eof()&&i<r.numTracks;i++){var o=t.readChunk();if(o.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+o.id+"'";var a=zT(o.data);s.push(a)}return{header:r,tracks:s}}function BT(e){var t=new ft(e),n=t.readUInt16(),r=t.readUInt16(),s={format:n,numTracks:r},i=t.readUInt16();return i&32768?(s.framesPerSecond=256-(i>>8),s.ticksPerFrame=i&255):s.ticksPerBeat=i,s}function zT(e){for(var t=new ft(e),n=[];!t.eof();){var r=i();n.push(r)}return n;var s;function i(){var o={};o.deltaTime=t.readVarInt();var a=t.readUInt8();if((a&240)===240)if(a===255){o.meta=!0;var l=t.readUInt8(),c=t.readVarInt();switch(l){case 0:if(o.type="sequenceNumber",c!==2)throw"Expected length for sequenceNumber event is 2, got "+c;return o.number=t.readUInt16(),o;case 1:return o.type="text",o.text=t.readString(c),o;case 2:return o.type="copyrightNotice",o.text=t.readString(c),o;case 3:return o.type="trackName",o.text=t.readString(c),o;case 4:return o.type="instrumentName",o.text=t.readString(c),o;case 5:return o.type="lyrics",o.text=t.readString(c),o;case 6:return o.type="marker",o.text=t.readString(c),o;case 7:return o.type="cuePoint",o.text=t.readString(c),o;case 32:if(o.type="channelPrefix",c!=1)throw"Expected length for channelPrefix event is 1, got "+c;return o.channel=t.readUInt8(),o;case 33:if(o.type="portPrefix",c!=1)throw"Expected length for portPrefix event is 1, got "+c;return o.port=t.readUInt8(),o;case 47:if(o.type="endOfTrack",c!=0)throw"Expected length for endOfTrack event is 0, got "+c;return o;case 81:if(o.type="setTempo",c!=3)throw"Expected length for setTempo event is 3, got "+c;return o.microsecondsPerBeat=t.readUInt24(),o;case 84:if(o.type="smpteOffset",c!=5)throw"Expected length for smpteOffset event is 5, got "+c;var h=t.readUInt8(),d={0:24,32:25,64:29,96:30};return o.frameRate=d[h&96],o.hour=h&31,o.min=t.readUInt8(),o.sec=t.readUInt8(),o.frame=t.readUInt8(),o.subFrame=t.readUInt8(),o;case 88:if(o.type="timeSignature",c!=2&&c!=4)throw"Expected length for timeSignature event is 4 or 2, got "+c;return o.numerator=t.readUInt8(),o.denominator=1<<t.readUInt8(),c===4?(o.metronome=t.readUInt8(),o.thirtyseconds=t.readUInt8()):(o.metronome=36,o.thirtyseconds=8),o;case 89:if(o.type="keySignature",c!=2)throw"Expected length for keySignature event is 2, got "+c;return o.key=t.readInt8(),o.scale=t.readUInt8(),o;case 127:return o.type="sequencerSpecific",o.data=t.readBytes(c),o;default:return o.type="unknownMeta",o.data=t.readBytes(c),o.metatypeByte=l,o}}else if(a==240){o.type="sysEx";var c=t.readVarInt();return o.data=t.readBytes(c),o}else if(a==247){o.type="endSysEx";var c=t.readVarInt();return o.data=t.readBytes(c),o}else throw"Unrecognised MIDI event type byte: "+a;else{var u;if(a&128)u=t.readUInt8(),s=a;else{if(s===null)throw"Running status byte encountered before status byte";u=a,a=s,o.running=!0}var g=a>>4;switch(o.channel=a&15,g){case 8:return o.type="noteOff",o.noteNumber=u,o.velocity=t.readUInt8(),o;case 9:var b=t.readUInt8();return o.type=b===0?"noteOff":"noteOn",o.noteNumber=u,o.velocity=b,b===0&&(o.byte9=!0),o;case 10:return o.type="noteAftertouch",o.noteNumber=u,o.amount=t.readUInt8(),o;case 11:return o.type="controller",o.controllerType=u,o.value=t.readUInt8(),o;case 12:return o.type="programChange",o.programNumber=u,o;case 13:return o.type="channelAftertouch",o.amount=u,o;case 14:return o.type="pitchBend",o.value=u+(t.readUInt8()<<7)-8192,o;default:throw"Unrecognised MIDI event type: "+g}}}}function ft(e){this.buffer=e,this.bufferLen=this.buffer.length,this.pos=0}ft.prototype.eof=function(){return this.pos>=this.bufferLen};ft.prototype.readUInt8=function(){var e=this.buffer[this.pos];return this.pos+=1,e};ft.prototype.readInt8=function(){var e=this.readUInt8();return e&128?e-256:e};ft.prototype.readUInt16=function(){var e=this.readUInt8(),t=this.readUInt8();return(e<<8)+t};ft.prototype.readInt16=function(){var e=this.readUInt16();return e&32768?e-65536:e};ft.prototype.readUInt24=function(){var e=this.readUInt8(),t=this.readUInt8(),n=this.readUInt8();return(e<<16)+(t<<8)+n};ft.prototype.readInt24=function(){var e=this.readUInt24();return e&8388608?e-16777216:e};ft.prototype.readUInt32=function(){var e=this.readUInt8(),t=this.readUInt8(),n=this.readUInt8(),r=this.readUInt8();return(e<<24)+(t<<16)+(n<<8)+r};ft.prototype.readBytes=function(e){var t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=e,t};ft.prototype.readString=function(e){var t=this.readBytes(e);return String.fromCharCode.apply(null,t)};ft.prototype.readVarInt=function(){for(var e=0;!this.eof();){var t=this.readUInt8();if(t&128)e+=t&127,e<<=7;else return e+t}return e};ft.prototype.readChunk=function(){var e=this.readString(4),t=this.readUInt32(),n=this.readBytes(t);return{id:e,length:t,data:n}};var HT=UT;function WT(e,t){if(typeof e!="object")throw"Invalid MIDI data";t=t||{};var n=e.header||{},r=e.tracks||[],s,i=r.length,o=new $e;for(VT(o,n,i),s=0;s<i;s++)GT(o,r[s],t);return o.buffer}function VT(e,t,n){var r=t.format==null?1:t.format,s=128;t.timeDivision?s=t.timeDivision:t.ticksPerFrame&&t.framesPerSecond?s=-(t.framesPerSecond&255)<<8|t.ticksPerFrame&255:t.ticksPerBeat&&(s=t.ticksPerBeat&32767);var i=new $e;i.writeUInt16(r),i.writeUInt16(n),i.writeUInt16(s),e.writeChunk("MThd",i.buffer)}function GT(e,t,n){var r=new $e,s,i=t.length,o=null;for(s=0;s<i;s++)(n.running===!1||!n.running&&!t[s].running)&&(o=null),o=KT(r,t[s],o,n.useByte9ForNoteOff);e.writeChunk("MTrk",r.buffer)}function KT(e,t,n,r){var s=t.type,i=t.deltaTime,o=t.text||"",a=t.data||[],l=null;switch(e.writeVarInt(i),s){case"sequenceNumber":e.writeUInt8(255),e.writeUInt8(0),e.writeVarInt(2),e.writeUInt16(t.number);break;case"text":e.writeUInt8(255),e.writeUInt8(1),e.writeVarInt(o.length),e.writeString(o);break;case"copyrightNotice":e.writeUInt8(255),e.writeUInt8(2),e.writeVarInt(o.length),e.writeString(o);break;case"trackName":e.writeUInt8(255),e.writeUInt8(3),e.writeVarInt(o.length),e.writeString(o);break;case"instrumentName":e.writeUInt8(255),e.writeUInt8(4),e.writeVarInt(o.length),e.writeString(o);break;case"lyrics":e.writeUInt8(255),e.writeUInt8(5),e.writeVarInt(o.length),e.writeString(o);break;case"marker":e.writeUInt8(255),e.writeUInt8(6),e.writeVarInt(o.length),e.writeString(o);break;case"cuePoint":e.writeUInt8(255),e.writeUInt8(7),e.writeVarInt(o.length),e.writeString(o);break;case"channelPrefix":e.writeUInt8(255),e.writeUInt8(32),e.writeVarInt(1),e.writeUInt8(t.channel);break;case"portPrefix":e.writeUInt8(255),e.writeUInt8(33),e.writeVarInt(1),e.writeUInt8(t.port);break;case"endOfTrack":e.writeUInt8(255),e.writeUInt8(47),e.writeVarInt(0);break;case"setTempo":e.writeUInt8(255),e.writeUInt8(81),e.writeVarInt(3),e.writeUInt24(t.microsecondsPerBeat);break;case"smpteOffset":e.writeUInt8(255),e.writeUInt8(84),e.writeVarInt(5);var c={24:0,25:32,29:64,30:96},h=t.hour&31|c[t.frameRate];e.writeUInt8(h),e.writeUInt8(t.min),e.writeUInt8(t.sec),e.writeUInt8(t.frame),e.writeUInt8(t.subFrame);break;case"timeSignature":e.writeUInt8(255),e.writeUInt8(88),e.writeVarInt(4),e.writeUInt8(t.numerator);var d=Math.floor(Math.log(t.denominator)/Math.LN2)&255;e.writeUInt8(d),e.writeUInt8(t.metronome),e.writeUInt8(t.thirtyseconds||8);break;case"keySignature":e.writeUInt8(255),e.writeUInt8(89),e.writeVarInt(2),e.writeInt8(t.key),e.writeUInt8(t.scale);break;case"sequencerSpecific":e.writeUInt8(255),e.writeUInt8(127),e.writeVarInt(a.length),e.writeBytes(a);break;case"unknownMeta":t.metatypeByte!=null&&(e.writeUInt8(255),e.writeUInt8(t.metatypeByte),e.writeVarInt(a.length),e.writeBytes(a));break;case"sysEx":e.writeUInt8(240),e.writeVarInt(a.length),e.writeBytes(a);break;case"endSysEx":e.writeUInt8(247),e.writeVarInt(a.length),e.writeBytes(a);break;case"noteOff":var u=r!==!1&&t.byte9||r&&t.velocity==0?144:128;l=u|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteOn":l=144|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteAftertouch":l=160|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.amount);break;case"controller":l=176|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.controllerType),e.writeUInt8(t.value);break;case"programChange":l=192|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.programNumber);break;case"channelAftertouch":l=208|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.amount);break;case"pitchBend":l=224|t.channel,l!==n&&e.writeUInt8(l);var g=8192+t.value,b=g&127,m=g>>7&127;e.writeUInt8(b),e.writeUInt8(m);break;default:throw"Unrecognized event type: "+s}return l}function $e(){this.buffer=[]}$e.prototype.writeUInt8=function(e){this.buffer.push(e&255)};$e.prototype.writeInt8=$e.prototype.writeUInt8;$e.prototype.writeUInt16=function(e){var t=e>>8&255,n=e&255;this.writeUInt8(t),this.writeUInt8(n)};$e.prototype.writeInt16=$e.prototype.writeUInt16;$e.prototype.writeUInt24=function(e){var t=e>>16&255,n=e>>8&255,r=e&255;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(r)};$e.prototype.writeInt24=$e.prototype.writeUInt24;$e.prototype.writeUInt32=function(e){var t=e>>24&255,n=e>>16&255,r=e>>8&255,s=e&255;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(s)};$e.prototype.writeInt32=$e.prototype.writeUInt32;$e.prototype.writeBytes=function(e){this.buffer=this.buffer.concat(Array.prototype.slice.call(e,0))};$e.prototype.writeString=function(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r.push(e.codePointAt(t));this.writeBytes(r)};$e.prototype.writeVarInt=function(e){if(e<0)throw"Cannot write negative variable-length integer";if(e<=127)this.writeUInt8(e);else{var t=e,n=[];for(n.push(t&127),t>>=7;t;){var r=t&127|128;n.push(r),t>>=7}this.writeBytes(n.reverse())}};$e.prototype.writeChunk=function(e,t){this.writeString(e),this.writeUInt32(t.length),this.writeBytes(t)};var qT=WT;yu.parseMidi=HT;yu.writeMidi=qT;var Nc={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.insert=us.search=void 0;function hS(e,t,n){n===void 0&&(n="ticks");var r=0,s=e.length,i=s;if(s>0&&e[s-1][n]<=t)return s-1;for(;r<i;){var o=Math.floor(r+(i-r)/2),a=e[o],l=e[o+1];if(a[n]===t){for(var c=o;c<e.length;c++){var h=e[c];h[n]===t&&(o=c)}return o}else{if(a[n]<t&&l[n]>t)return o;a[n]>t?i=o:a[n]<t&&(r=o+1)}}return-1}us.search=hS;function QT(e,t,n){if(n===void 0&&(n="ticks"),e.length){var r=hS(e,t[n],n);e.splice(r+1,0,t)}else e.push(t)}us.insert=QT;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Header=e.keySignatureKeys=void 0;var t=us,n=new WeakMap;e.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function s(i){var o=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),i){n.set(this,i.header.ticksPerBeat),i.tracks.forEach(function(l){l.forEach(function(c){c.meta&&(c.type==="timeSignature"?o.timeSignatures.push({ticks:c.absoluteTime,timeSignature:[c.numerator,c.denominator]}):c.type==="setTempo"?o.tempos.push({bpm:6e7/c.microsecondsPerBeat,ticks:c.absoluteTime}):c.type==="keySignature"&&o.keySignatures.push({key:e.keySignatureKeys[c.key+7],scale:c.scale===0?"major":"minor",ticks:c.absoluteTime}))})});var a=0;i.tracks[0].forEach(function(l){a+=l.deltaTime,l.meta&&(l.type==="trackName"?o.name=l.text:(l.type==="text"||l.type==="cuePoint"||l.type==="marker"||l.type==="lyrics")&&o.meta.push({text:l.text,ticks:a,type:l.type}))}),this.update()}}return s.prototype.update=function(){var i=this,o=0,a=0;this.tempos.sort(function(l,c){return l.ticks-c.ticks}),this.tempos.forEach(function(l,c){var h=c>0?i.tempos[c-1].bpm:i.tempos[0].bpm,d=l.ticks/i.ppq-a,u=60/h*d;l.time=u+o,o=l.time,a+=d}),this.timeSignatures.sort(function(l,c){return l.ticks-c.ticks}),this.timeSignatures.forEach(function(l,c){var h=c>0?i.timeSignatures[c-1]:i.timeSignatures[0],d=(l.ticks-h.ticks)/i.ppq,u=d/h.timeSignature[0]/(h.timeSignature[1]/4);h.measures=h.measures||0,l.measures=u+h.measures})},s.prototype.ticksToSeconds=function(i){var o=(0,t.search)(this.tempos,i);if(o!==-1){var a=this.tempos[o],l=a.time,c=(i-a.ticks)/this.ppq;return l+60/a.bpm*c}else{var h=i/this.ppq;return 60/120*h}},s.prototype.ticksToMeasures=function(i){var o=(0,t.search)(this.timeSignatures,i);if(o!==-1){var a=this.timeSignatures[o],l=(i-a.ticks)/this.ppq;return a.measures+l/(a.timeSignature[0]/a.timeSignature[1])/4}else return i/this.ppq/4},Object.defineProperty(s.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),s.prototype.secondsToTicks=function(i){var o=(0,t.search)(this.tempos,i,"time");if(o!==-1){var a=this.tempos[o],l=a.time,c=i-l,h=c/(60/a.bpm);return Math.round(a.ticks+h*this.ppq)}else{var d=i/.5;return Math.round(d*this.ppq)}},s.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(i){return{bpm:i.bpm,ticks:i.ticks}}),timeSignatures:this.timeSignatures}},s.prototype.fromJSON=function(i){this.name=i.name,this.tempos=i.tempos.map(function(o){return Object.assign({},o)}),this.timeSignatures=i.timeSignatures.map(function(o){return Object.assign({},o)}),this.keySignatures=i.keySignatures.map(function(o){return Object.assign({},o)}),this.meta=i.meta.map(function(o){return Object.assign({},o)}),n.set(this,i.ppq),this.update()},s.prototype.setTempo=function(i){this.tempos=[{bpm:i,ticks:0}],this.update()},s}();e.Header=r})(Nc);var ra={},Yp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ControlChange=e.controlChangeIds=e.controlChangeNames=void 0,e.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},e.controlChangeIds=Object.keys(e.controlChangeNames).reduce(function(s,i){return s[e.controlChangeNames[i]]=i,s},{});var t=new WeakMap,n=new WeakMap,r=function(){function s(i,o){t.set(this,o),n.set(this,i.controllerType),this.ticks=i.absoluteTime,this.value=i.value}return Object.defineProperty(s.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return e.controlChangeNames[this.number]?e.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"time",{get:function(){var i=t.get(this);return i.ticksToSeconds(this.ticks)},set:function(i){var o=t.get(this);this.ticks=o.secondsToTicks(i)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},s}();e.ControlChange=r})(Yp);var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.createControlChanges=void 0;var nl=Yp;function XT(){return new Proxy({},{get:function(e,t){if(e[t])return e[t];if(nl.controlChangeIds.hasOwnProperty(t))return e[nl.controlChangeIds[t]]},set:function(e,t,n){return nl.controlChangeIds.hasOwnProperty(t)?e[nl.controlChangeIds[t]]=n:e[t]=n,!0}})}vu.createControlChanges=XT;var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.PitchBend=void 0;var Rd=new WeakMap,JT=function(){function e(t,n){Rd.set(this,n),this.ticks=t.absoluteTime,this.value=t.value}return Object.defineProperty(e.prototype,"time",{get:function(){var t=Rd.get(this);return t.ticksToSeconds(this.ticks)},set:function(t){var n=Rd.get(this);this.ticks=n.secondsToTicks(t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},e}();wu.PitchBend=JT;var xu={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.DrumKitByPatchID=Er.InstrumentFamilyByID=Er.instrumentByPatchID=void 0;Er.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];Er.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];Er.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(xu,"__esModule",{value:!0});xu.Instrument=void 0;var rl=Er,By=new WeakMap,YT=function(){function e(t,n){if(this.number=0,By.set(this,n),this.number=0,t){var r=t.find(function(s){return s.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.percussion?rl.DrumKitByPatchID[this.number]:rl.instrumentByPatchID[this.number]},set:function(t){var n=rl.instrumentByPatchID.indexOf(t);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){return this.percussion?"drums":rl.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percussion",{get:function(){var t=By.get(this);return t.channel===9},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},e.prototype.fromJSON=function(t){this.number=t.number},e}();xu.Instrument=YT;var bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.Note=void 0;function ZT(e){var t=Math.floor(e/12)-1;return pS(e)+t.toString()}function pS(e){var t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=e%12;return t[n]}function e2(e){var t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return t.indexOf(e)}var t2=function(){var e=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,t={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=e.exec(n),s=r[1],i=r[2],o=t[s.toLowerCase()];return o+(parseInt(i,10)+1)*12}}(),ws=new WeakMap,n2=function(){function e(t,n,r){ws.set(this,r),this.midi=t.midi,this.velocity=t.velocity,this.noteOffVelocity=n.velocity,this.ticks=t.ticks,this.durationTicks=n.ticks-t.ticks}return Object.defineProperty(e.prototype,"name",{get:function(){return ZT(this.midi)},set:function(t){this.midi=t2(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(t){var n=t-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pitch",{get:function(){return pS(this.midi)},set:function(t){this.midi=12*(this.octave+1)+e2(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var t=ws.get(this);return t.ticksToSeconds(this.ticks+this.durationTicks)-t.ticksToSeconds(this.ticks)},set:function(t){var n=ws.get(this),r=n.secondsToTicks(this.time+t);this.durationTicks=r-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){var t=ws.get(this);return t.ticksToSeconds(this.ticks)},set:function(t){var n=ws.get(this);this.ticks=n.secondsToTicks(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bars",{get:function(){var t=ws.get(this);return t.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},e}();bu.Note=n2;Object.defineProperty(ra,"__esModule",{value:!0});ra.Track=void 0;var Nd=us,r2=Yp,s2=vu,i2=wu,zy=xu,o2=bu,sl=new WeakMap,a2=function(){function e(t,n){var r=this;if(this.name="",this.notes=[],this.controlChanges=(0,s2.createControlChanges)(),this.pitchBends=[],sl.set(this,n),t){var s=t.find(function(u){return u.type==="trackName"});this.name=s?s.text:""}if(this.instrument=new zy.Instrument(t,this),this.channel=0,t){for(var i=t.filter(function(u){return u.type==="noteOn"}),o=t.filter(function(u){return u.type==="noteOff"}),a=function(){var u=i.shift();l.channel=u.channel;var g=o.findIndex(function(m){return m.noteNumber===u.noteNumber&&m.absoluteTime>=u.absoluteTime});if(g!==-1){var b=o.splice(g,1)[0];l.addNote({durationTicks:b.absoluteTime-u.absoluteTime,midi:u.noteNumber,noteOffVelocity:b.velocity/127,ticks:u.absoluteTime,velocity:u.velocity/127})}},l=this;i.length;)a();var c=t.filter(function(u){return u.type==="controller"});c.forEach(function(u){r.addCC({number:u.controllerType,ticks:u.absoluteTime,value:u.value/127})});var h=t.filter(function(u){return u.type==="pitchBend"});h.forEach(function(u){r.addPitchBend({ticks:u.absoluteTime,value:u.value/Math.pow(2,13)})});var d=t.find(function(u){return u.type==="endOfTrack"});this.endOfTrackTicks=d!==void 0?d.absoluteTime:void 0}}return e.prototype.addNote=function(t){var n=sl.get(this),r=new o2.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(r,t),(0,Nd.insert)(this.notes,r,"ticks"),this},e.prototype.addCC=function(t){var n=sl.get(this),r=new r2.ControlChange({controllerType:t.number},n);return delete t.number,Object.assign(r,t),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),(0,Nd.insert)(this.controlChanges[r.number],r,"ticks"),this},e.prototype.addPitchBend=function(t){var n=sl.get(this),r=new i2.PitchBend({},n);return Object.assign(r,t),(0,Nd.insert)(this.pitchBends,r,"ticks"),this},Object.defineProperty(e.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var t=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var r=this.notes[n].time+this.notes[n].duration;t<r&&(t=r)}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var t=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var r=this.notes[n].ticks+this.notes[n].durationTicks;t<r&&(t=r)}return t},enumerable:!1,configurable:!0}),e.prototype.fromJSON=function(t){var n=this;this.name=t.name,this.channel=t.channel,this.instrument=new zy.Instrument(void 0,this),this.instrument.fromJSON(t.instrument),t.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=t.endOfTrackTicks);for(var r in t.controlChanges)t.controlChanges[r]&&t.controlChanges[r].forEach(function(s){n.addCC({number:s.number,ticks:s.ticks,value:s.value})});t.notes.forEach(function(s){n.addNote({durationTicks:s.durationTicks,midi:s.midi,ticks:s.ticks,velocity:s.velocity})})},e.prototype.toJSON=function(){for(var t={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(t[n]=this.controlChanges[n].map(function(s){return s.toJSON()}));var r={channel:this.channel,controlChanges:t,pitchBends:this.pitchBends.map(function(s){return s.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(s){return s.toJSON()})};return this.endOfTrackTicks!==void 0&&(r.endOfTrackTicks=this.endOfTrackTicks),r},e}();ra.Track=a2;var _u={};function l2(e){var t=[];return mS(e,t),t}function mS(e,t){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?mS(r,t):t.push(r)}}const c2=Object.freeze(Object.defineProperty({__proto__:null,flatten:l2},Symbol.toStringTag,{value:"Module"})),u2=sC(c2);var Qn=Ts&&Ts.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(_u,"__esModule",{value:!0});_u.encode=void 0;var d2=yu,f2=Nc,h2=u2;function p2(e,t){return[{absoluteTime:e.ticks,channel:t,deltaTime:0,noteNumber:e.midi,type:"noteOn",velocity:Math.floor(e.velocity*127)},{absoluteTime:e.ticks+e.durationTicks,channel:t,deltaTime:0,noteNumber:e.midi,type:"noteOff",velocity:Math.floor(e.noteOffVelocity*127)}]}function m2(e){return(0,h2.flatten)(e.notes.map(function(t){return p2(t,e.channel)}))}function g2(e,t){return{absoluteTime:e.ticks,channel:t,controllerType:e.number,deltaTime:0,type:"controller",value:Math.floor(e.value*127)}}function y2(e){for(var t=[],n=0;n<127;n++)e.controlChanges.hasOwnProperty(n)&&e.controlChanges[n].forEach(function(r){t.push(g2(r,e.channel))});return t}function v2(e,t){return{absoluteTime:e.ticks,channel:t,deltaTime:0,type:"pitchBend",value:e.value}}function w2(e){var t=[];return e.pitchBends.forEach(function(n){t.push(v2(n,e.channel))}),t}function x2(e){return{absoluteTime:0,channel:e.channel,deltaTime:0,programNumber:e.instrument.number,type:"programChange"}}function b2(e){return{absoluteTime:0,deltaTime:0,meta:!0,text:e,type:"trackName"}}function _2(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/e.bpm),type:"setTempo"}}function S2(e){return{absoluteTime:e.ticks,deltaTime:0,denominator:e.timeSignature[1],meta:!0,metronome:24,numerator:e.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function C2(e){var t=f2.keySignatureKeys.indexOf(e.key);return{absoluteTime:e.ticks,deltaTime:0,key:t+7,meta:!0,scale:e.scale==="major"?0:1,type:"keySignature"}}function E2(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,text:e.text,type:e.type}}function k2(e){var t={header:{format:1,numTracks:e.tracks.length+1,ticksPerBeat:e.header.ppq},tracks:Qn([Qn(Qn(Qn(Qn([{absoluteTime:0,deltaTime:0,meta:!0,text:e.header.name,type:"trackName"}],e.header.keySignatures.map(function(n){return C2(n)}),!0),e.header.meta.map(function(n){return E2(n)}),!0),e.header.tempos.map(function(n){return _2(n)}),!0),e.header.timeSignatures.map(function(n){return S2(n)}),!0)],e.tracks.map(function(n){return Qn(Qn(Qn([b2(n.name),x2(n)],m2(n),!0),y2(n),!0),w2(n),!0)}),!0)};return t.tracks=t.tracks.map(function(n){n=n.sort(function(s,i){return s.absoluteTime-i.absoluteTime});var r=0;return n.forEach(function(s){s.deltaTime=s.absoluteTime-r,r=s.absoluteTime,delete s.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,d2.writeMidi)(t))}_u.encode=k2;(function(e){var t=Ts&&Ts.__awaiter||function(d,u,g,b){function m(x){return x instanceof g?x:new g(function(v){v(x)})}return new(g||(g=Promise))(function(x,v){function p(S){try{_(b.next(S))}catch(E){v(E)}}function w(S){try{_(b.throw(S))}catch(E){v(E)}}function _(S){S.done?x(S.value):m(S.value).then(p,w)}_((b=b.apply(d,u||[])).next())})},n=Ts&&Ts.__generator||function(d,u){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},b,m,x,v;return v={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function p(_){return function(S){return w([_,S])}}function w(_){if(b)throw new TypeError("Generator is already executing.");for(;g;)try{if(b=1,m&&(x=_[0]&2?m.return:_[0]?m.throw||((x=m.return)&&x.call(m),0):m.next)&&!(x=x.call(m,_[1])).done)return x;switch(m=0,x&&(_=[_[0]&2,x.value]),_[0]){case 0:case 1:x=_;break;case 4:return g.label++,{value:_[1],done:!1};case 5:g.label++,m=_[1],_=[0];continue;case 7:_=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(_[0]===6||_[0]===2)){g=0;continue}if(_[0]===3&&(!x||_[1]>x[0]&&_[1]<x[3])){g.label=_[1];break}if(_[0]===6&&g.label<x[1]){g.label=x[1],x=_;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(_);break}x[2]&&g.ops.pop(),g.trys.pop();continue}_=u.call(d,g)}catch(S){_=[6,S],m=0}finally{b=x=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Header=e.Track=e.Midi=void 0;var r=yu,s=Nc,i=ra,o=_u,a=function(){function d(u){var g=this,b=null;if(u){var m=u instanceof ArrayBuffer?new Uint8Array(u):u;b=(0,r.parseMidi)(m),b.tracks.forEach(function(x){var v=0;x.forEach(function(p){v+=p.deltaTime,p.absoluteTime=v})}),b.tracks=h(b.tracks)}this.header=new s.Header(b),this.tracks=[],u&&(this.tracks=b.tracks.map(function(x){return new i.Track(x,g.header)}),b.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return d.fromUrl=function(u){return t(this,void 0,void 0,function(){var g,b;return n(this,function(m){switch(m.label){case 0:return[4,fetch(u)];case 1:return g=m.sent(),g.ok?[4,g.arrayBuffer()]:[3,3];case 2:return b=m.sent(),[2,new d(b)];case 3:throw new Error("Could not load '".concat(u,"'"))}})})},Object.defineProperty(d.prototype,"name",{get:function(){return this.header.name},set:function(u){this.header.name=u},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"duration",{get:function(){var u=this.tracks.map(function(g){return g.duration});return Math.max.apply(Math,u)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationTicks",{get:function(){var u=this.tracks.map(function(g){return g.durationTicks});return Math.max.apply(Math,u)},enumerable:!1,configurable:!0}),d.prototype.addTrack=function(){var u=new i.Track(void 0,this.header);return this.tracks.push(u),u},d.prototype.toArray=function(){return(0,o.encode)(this)},d.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(u){return u.toJSON()})}},d.prototype.fromJSON=function(u){var g=this;this.header=new s.Header,this.header.fromJSON(u.header),this.tracks=u.tracks.map(function(b){var m=new i.Track(void 0,g.header);return m.fromJSON(b),m})},d.prototype.clone=function(){var u=new d;return u.fromJSON(this.toJSON()),u},d}();e.Midi=a;var l=ra;Object.defineProperty(e,"Track",{enumerable:!0,get:function(){return l.Track}});var c=Nc;Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return c.Header}});function h(d){for(var u=[],g=0;g<d.length;g++)for(var b=u.length,m=new Map,x=Array(16).fill(0),v=0,p=d[g];v<p.length;v++){var w=p[v],_=b,S=w.channel;if(S!==void 0){w.type==="programChange"&&(x[S]=w.programNumber);var E=x[S],C="".concat(E," ").concat(S);m.has(C)?_=m.get(C):(_=b+m.size,m.set(C,_))}u[_]||u.push([]),u[_].push(w)}return u}})(fS);function P2(){const[e,t]=y.useState(null),[n,r]=y.useState(null),[s,i]=y.useState(!1),[o,a]=y.useState(null),l=y.useRef(null),c=y.useRef({fileName:null,data:null}),h=y.useCallback(()=>{console.log("..."),t(null),a(null),r(null),c.current={fileName:null,data:null},l.current&&(l.current.value="")},[]),d=y.useCallback(async u=>{if(!u.target.files||!u.target.files[0])return;const g=u.target.files[0];if(g.name===c.current.fileName&&c.current.data){console.log(":",g.name);return}i(!0),a(null),t(null),r(null);try{const b=await g.arrayBuffer(),m=new fS.Midi(b);let x=0,v=0;const p=[];m.tracks.forEach(_=>{_.notes.forEach(S=>{x++,v+=S.midi,p.push({name:S.name,duration:S.duration,time:S.time,velocity:S.velocity})})}),p.sort((_,S)=>_.time-S.time);const w={noteCount:x,duration:m.duration,averagePitch:x>0?v/x:0,notes:p};r(g.name),t(w),c.current={fileName:g.name,data:w}}catch(b){console.error("MIDI:",b),a(`MIDI: ${b instanceof Error?b.message:""}`)}finally{i(!1)}},[]);return{midiData:e,currentFileName:n,isLoading:s,error:o,fileInputRef:l,analyzeMidi:d,resetState:h}}const ch="RFC3986",uh={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},I2="RFC1738",A2=Array.isArray,dn=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Td=1024,R2=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=Td){const l=i.length>=Td?i.slice(a,a+Td):i,c=[];for(let h=0;h<l.length;++h){let d=l.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===I2&&(d===40||d===41)){c[c.length]=l.charAt(h);continue}if(d<128){c[c.length]=dn[d];continue}if(d<2048){c[c.length]=dn[192|d>>6]+dn[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=dn[224|d>>12]+dn[128|d>>6&63]+dn[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|l.charCodeAt(h)&1023),c[c.length]=dn[240|d>>18]+dn[128|d>>12&63]+dn[128|d>>6&63]+dn[128|d&63]}o+=c.join("")}return o};function N2(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Hy(e,t){if(A2(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const T2=Object.prototype.hasOwnProperty,gS={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},hn=Array.isArray,O2=Array.prototype.push,yS=function(e,t){O2.apply(e,hn(t)?t:[t])},M2=Date.prototype.toISOString,je={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:R2,encodeValuesOnly:!1,format:ch,formatter:uh[ch],indices:!1,serializeDate(e){return M2.call(e)},skipNulls:!1,strictNullHandling:!1};function j2(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Od={};function vS(e,t,n,r,s,i,o,a,l,c,h,d,u,g,b,m,x,v){let p=e,w=v,_=0,S=!1;for(;(w=w.get(Od))!==void 0&&!S;){const R=w.get(e);if(_+=1,typeof R<"u"){if(R===_)throw new RangeError("Cyclic object value");S=!0}typeof w.get(Od)>"u"&&(_=0)}if(typeof c=="function"?p=c(t,p):p instanceof Date?p=u==null?void 0:u(p):n==="comma"&&hn(p)&&(p=Hy(p,function(R){return R instanceof Date?u==null?void 0:u(R):R})),p===null){if(i)return l&&!m?l(t,je.encoder,x,"key",g):t;p=""}if(j2(p)||N2(p)){if(l){const R=m?t:l(t,je.encoder,x,"key",g);return[(b==null?void 0:b(R))+"="+(b==null?void 0:b(l(p,je.encoder,x,"value",g)))]}return[(b==null?void 0:b(t))+"="+(b==null?void 0:b(String(p)))]}const E=[];if(typeof p>"u")return E;let C;if(n==="comma"&&hn(p))m&&l&&(p=Hy(p,l)),C=[{value:p.length>0?p.join(",")||null:void 0}];else if(hn(c))C=c;else{const R=Object.keys(p);C=h?R.sort(h):R}const k=a?String(t).replace(/\./g,"%2E"):String(t),A=r&&hn(p)&&p.length===1?k+"[]":k;if(s&&hn(p)&&p.length===0)return A+"[]";for(let R=0;R<C.length;++R){const M=C[R],j=typeof M=="object"&&typeof M.value<"u"?M.value:p[M];if(o&&j===null)continue;const z=d&&a?M.replace(/\./g,"%2E"):M,O=hn(p)?typeof n=="function"?n(A,z):A:A+(d?"."+z:"["+z+"]");v.set(e,_);const L=new WeakMap;L.set(Od,v),yS(E,vS(j,O,n,r,s,i,o,a,n==="comma"&&m&&hn(p)?null:l,c,h,d,u,g,b,m,x,L))}return E}function F2(e=je){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||je.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=ch;if(typeof e.format<"u"){if(!T2.call(uh,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=uh[n];let s=je.filter;(typeof e.filter=="function"||hn(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in gS?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=je.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:je.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:je.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:je.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:je.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?je.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:je.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:je.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:je.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:je.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:je.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:je.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:je.strictNullHandling}}function D2(e,t={}){let n=e;const r=F2(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):hn(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const a=gS[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const c=new WeakMap;for(let u=0;u<s.length;++u){const g=s[u];r.skipNulls&&n[g]===null||yS(o,vS(n[g],g,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const h=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}const Is="4.96.2";let Wy=!1,To,wS,xS,dh,bS,_S,SS,CS,ES;function $2(e,t={auto:!1}){if(Wy)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(To)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${To}'\``);Wy=t.auto,To=e.kind,wS=e.fetch,xS=e.FormData,dh=e.File,bS=e.ReadableStream,_S=e.getMultipartRequestOptions,SS=e.getDefaultAgent,CS=e.fileFromPath,ES=e.isFsReadStream}let L2=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function U2({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new L2(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const kS=()=>{To||$2(U2(),{auto:!0})};kS();class V extends Error{}let wt=class fh extends V{constructor(t,n,r,s){super(`${fh.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Su({message:r,cause:ph(n)});const i=n==null?void 0:n.error;return t===400?new PS(t,i,r,s):t===401?new IS(t,i,r,s):t===403?new AS(t,i,r,s):t===404?new RS(t,i,r,s):t===409?new NS(t,i,r,s):t===422?new TS(t,i,r,s):t===429?new OS(t,i,r,s):t>=500?new MS(t,i,r,s):new fh(t,i,r,s)}},Ut=class extends wt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},Su=class extends wt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},Zp=class extends Su{constructor({message:t}={}){super({message:t??"Request timed out."})}},PS=class extends wt{},IS=class extends wt{},AS=class extends wt{},RS=class extends wt{},NS=class extends wt{},TS=class extends wt{},OS=class extends wt{},MS=class extends wt{};class jS extends V{constructor(){super("Could not parse response content as the length limit was reached")}}class FS extends V{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var il=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Ur=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},_t;let Cu=class{constructor(){_t.set(this,void 0),this.buffer=new Uint8Array,il(this,_t,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=B2(this.buffer,Ur(this,_t,"f")))!=null;){if(i.carriage&&Ur(this,_t,"f")==null){il(this,_t,i.index,"f");continue}if(Ur(this,_t,"f")!=null&&(i.index!==Ur(this,_t,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Ur(this,_t,"f")-1))),this.buffer=this.buffer.slice(Ur(this,_t,"f")),il(this,_t,null,"f");continue}const o=Ur(this,_t,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),il(this,_t,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new V(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new V(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new V("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}};_t=new WeakMap;Cu.NEWLINE_CHARS=new Set([`
`,"\r"]);Cu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function B2(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function z2(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function DS(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let sa=class po{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of H2(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new wt(void 0,a.error,void 0,GS(t.headers));yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new wt(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new po(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Cu,a=DS(t);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new po(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new po(()=>s(t),this.controller),new po(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new bS({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}};async function*H2(e,t){if(!e.body)throw t.abort(),new V("Attempted to iterate over a response with no body");const n=new V2,r=new Cu,s=DS(e.body);for await(const i of W2(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*W2(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=z2(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}let V2=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=G2(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function G2(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const $S=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",LS=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Eu(e),Eu=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",K2=e=>LS(e)||$S(e)||ES(e);async function US(e,t,n){var s;if(e=await e,LS(e))return e;if($S(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Eu(i)?[await i.arrayBuffer()]:[i];return new dh(o,t,n)}const r=await q2(e);if(t||(t=X2(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new dh(r,t,n)}async function q2(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Eu(e))t.push(await e.arrayBuffer());else if(J2(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${Q2(e)}`);return t}function Q2(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function X2(e){var t;return Md(e.name)||Md(e.filename)||((t=Md(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Md=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},J2=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Vy=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Pi=async e=>{const t=await Y2(e.body);return _S(t,e)},Y2=async e=>{const t=new xS;return await Promise.all(Object.entries(e||{}).map(([n,r])=>hh(t,n,r))),t},hh=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(K2(n)){const r=await US(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>hh(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>hh(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ri={},Z2=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},eO=function(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ol;kS();async function BS(e){var o;const{response:t}=e;if(e.options.stream)return kr("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):sa.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const a=await t.json();return kr("response",t.status,t.url,t.headers,a),zS(a,t)}const i=await t.text();return kr("response",t.status,t.url,t.headers,i),i}function zS(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}let HS=class WS extends Promise{constructor(t,n=BS){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new WS(this.responsePromise,async n=>zS(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},tO=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=jd("maxRetries",n),this.timeout=jd("timeout",r),this.httpAgent=s,this.fetch=i??wS}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...oO(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${uO()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Eu(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var m;const r={...t},{method:s,path:i,query:o,headers:a={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:Vy(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(l),h=this.buildURL(i,o);"timeout"in r&&jd("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const d=r.httpAgent??this.httpAgent??SS(h),u=r.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&u>(d.options.timeout??0)&&(d.options.timeout=u),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const g=this.buildHeaders({options:r,headers:a,contentLength:c,retryCount:n});return{req:{method:s,...l&&{body:l},headers:g,...d&&{agent:d},signal:r.signal??null},url:h,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return Qy(i,o),Qy(i,n),Vy(t.body)&&To!=="node"&&delete i["content-type"],ll(o,"x-stainless-retry-count")===void 0&&ll(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),ll(o,"x-stainless-timeout")===void 0&&ll(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return wt.generate(t,n,r,s)}request(t,n=null){return new HS(this.makeRequest(t,n))}async makeRequest(t,n){var d,u;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),kr("request",o,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new Ut;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(ph);if(c instanceof Error){if((u=r.signal)!=null&&u.aborted)throw new Ut;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new Zp:new Su({cause:c})}const h=GS(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const p=`retrying, ${n} attempts remaining`;return kr(`response (error; ${p})`,c.status,o,h),this.retryRequest(r,n,h)}const g=await c.text().catch(p=>ph(p).message),b=aO(g),m=b?void 0:g;throw kr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,h,m),this.makeStatusError(c.status,b,m,h)}return{response:c,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new nO(this,r,t)}buildURL(t,n){const r=cO(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return KS(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new V(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await xa(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Is}`}},VS=class{constructor(t,n,r,s){ol.set(this,void 0),Z2(this,ol,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new V("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await eO(this,ol,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(ol=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}},nO=class extends HS{constructor(t,n,r){super(n,async s=>new r(t,s.response,await BS(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}};const GS=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),rO={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ne=e=>typeof e=="object"&&e!==null&&!KS(e)&&Object.keys(e).every(t=>qS(rO,t)),sO=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Is,"X-Stainless-OS":Ky(Deno.build.os),"X-Stainless-Arch":Gy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Is,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Is,"X-Stainless-OS":Ky(process.platform),"X-Stainless-Arch":Gy(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=iO();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Is,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Is,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function iO(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Gy=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Ky=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let qy;const oO=()=>qy??(qy=sO()),aO=e=>{try{return JSON.parse(e)}catch{return}},lO=/^[a-z][a-z0-9+.-]*:/i,cO=e=>lO.test(e),xa=e=>new Promise(t=>setTimeout(t,e)),jd=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new V(`${e} must be an integer`);if(t<0)throw new V(`${e} must be a positive integer`);return t},ph=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},al=e=>{var t,n,r,s;if(typeof process<"u")return((t=ri==null?void 0:ri[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function KS(e){if(!e)return!0;for(const t in e)return!1;return!0}function qS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qy(e,t){for(const n in t){if(!qS(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}const Xy=new Set(["authorization","api-key"]);function kr(e,...t){if(typeof process<"u"&&(ri==null?void 0:ri.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)Xy.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in r)Xy.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const uO=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),dO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",fO=e=>typeof(e==null?void 0:e.get)=="function",ll=(e,t)=>{var r;const n=t.toLowerCase();if(fO(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},hO=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Fd(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}let ku=class extends VS{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}};class Ge extends VS{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}let X=class{constructor(t){this._client=t}},QS=class extends X{list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,pO,{query:n,...r})}},Pu=class extends X{constructor(){super(...arguments),this.messages=new QS(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/chat/completions",Iu,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Iu extends Ge{}class pO extends Ge{}Pu.ChatCompletionsPage=Iu;Pu.Messages=QS;let Au=class extends X{constructor(){super(...arguments),this.completions=new Pu(this._client)}};Au.Completions=Pu;Au.ChatCompletionsPage=Iu;class XS extends X{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class JS extends X{create(t,n){return this._client.post("/audio/transcriptions",Pi({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class YS extends X{create(t,n){return this._client.post("/audio/translations",Pi({body:t,...n,__metadata:{model:t.model}}))}}class ba extends X{constructor(){super(...arguments),this.transcriptions=new JS(this._client),this.translations=new YS(this._client),this.speech=new XS(this._client)}}ba.Transcriptions=JS;ba.Translations=YS;ba.Speech=XS;let em=class extends X{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/batches",tm,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}};class tm extends Ge{}em.BatchesPage=tm;var Gt=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Se=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},mh,Gl,Kl,mo,go,ql,yo,Tn,vo,Tc,Oc,As,ZS;class nm{constructor(){mh.add(this),this.controller=new AbortController,Gl.set(this,void 0),Kl.set(this,()=>{}),mo.set(this,()=>{}),go.set(this,void 0),ql.set(this,()=>{}),yo.set(this,()=>{}),Tn.set(this,{}),vo.set(this,!1),Tc.set(this,!1),Oc.set(this,!1),As.set(this,!1),Gt(this,Gl,new Promise((t,n)=>{Gt(this,Kl,t,"f"),Gt(this,mo,n,"f")}),"f"),Gt(this,go,new Promise((t,n)=>{Gt(this,ql,t,"f"),Gt(this,yo,n,"f")}),"f"),Se(this,Gl,"f").catch(()=>{}),Se(this,go,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Se(this,mh,"m",ZS).bind(this))},0)}_connected(){this.ended||(Se(this,Kl,"f").call(this),this._emit("connect"))}get ended(){return Se(this,vo,"f")}get errored(){return Se(this,Tc,"f")}get aborted(){return Se(this,Oc,"f")}abort(){this.controller.abort()}on(t,n){return(Se(this,Tn,"f")[t]||(Se(this,Tn,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Se(this,Tn,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Se(this,Tn,"f")[t]||(Se(this,Tn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Gt(this,As,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Gt(this,As,!0,"f"),await Se(this,go,"f")}_emit(t,...n){if(Se(this,vo,"f"))return;t==="end"&&(Gt(this,vo,!0,"f"),Se(this,ql,"f").call(this));const r=Se(this,Tn,"f")[t];if(r&&(Se(this,Tn,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Se(this,As,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Se(this,mo,"f").call(this,s),Se(this,yo,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Se(this,As,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Se(this,mo,"f").call(this,s),Se(this,yo,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Gl=new WeakMap,Kl=new WeakMap,mo=new WeakMap,go=new WeakMap,ql=new WeakMap,yo=new WeakMap,Tn=new WeakMap,vo=new WeakMap,Tc=new WeakMap,Oc=new WeakMap,As=new WeakMap,mh=new WeakSet,ZS=function(t){if(Gt(this,Tc,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Ut),t instanceof Ut)return Gt(this,Oc,!0,"f"),this._emit("abort",t);if(t instanceof V)return this._emit("error",t);if(t instanceof Error){const n=new V(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new V(String(t)))};var B=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},bt=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},He,gh,pn,Ql,Qt,qr,Vs,Wr,Mc,Ct,Xl,Jl,Oo,wo,xo,Jy,Yy,Zy,ev,tv,nv,rv;class en extends nm{constructor(){super(...arguments),He.add(this),gh.set(this,[]),pn.set(this,{}),Ql.set(this,{}),Qt.set(this,void 0),qr.set(this,void 0),Vs.set(this,void 0),Wr.set(this,void 0),Mc.set(this,void 0),Ct.set(this,void 0),Xl.set(this,void 0),Jl.set(this,void 0),Oo.set(this,void 0)}[(gh=new WeakMap,pn=new WeakMap,Ql=new WeakMap,Qt=new WeakMap,qr=new WeakMap,Vs=new WeakMap,Wr=new WeakMap,Mc=new WeakMap,Ct=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Oo=new WeakMap,He=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new en;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=sa.fromReadableStream(t,this.controller);for await(const o of s)B(this,He,"m",wo).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new Ut;return this._addRun(B(this,He,"m",xo).call(this))}toReadableStream(){return new sa(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new en;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await t.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(const h of l)B(this,He,"m",wo).call(this,h);if((c=l.controller.signal)!=null&&c.aborted)throw new Ut;return this._addRun(B(this,He,"m",xo).call(this))}static createThreadAssistantStream(t,n,r){const s=new en;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new en;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return B(this,Xl,"f")}currentRun(){return B(this,Jl,"f")}currentMessageSnapshot(){return B(this,Qt,"f")}currentRunStepSnapshot(){return B(this,Oo,"f")}async finalRunSteps(){return await this.done(),Object.values(B(this,pn,"f"))}async finalMessages(){return await this.done(),Object.values(B(this,Ql,"f"))}async finalRun(){if(await this.done(),!B(this,qr,"f"))throw Error("Final run was not received.");return B(this,qr,"f")}async _createThreadAssistantStream(t,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of o)B(this,He,"m",wo).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Ut;return this._addRun(B(this,He,"m",xo).call(this))}async _createAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const c of a)B(this,He,"m",wo).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Ut;return this._addRun(B(this,He,"m",xo).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Fd(i)&&Fd(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!Fd(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}wo=function(t){if(!this.ended)switch(bt(this,Xl,t,"f"),B(this,He,"m",Zy).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":B(this,He,"m",rv).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":B(this,He,"m",Yy).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":B(this,He,"m",Jy).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},xo=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");if(!B(this,qr,"f"))throw Error("Final run has not been received");return B(this,qr,"f")},Jy=function(t){const[n,r]=B(this,He,"m",tv).call(this,t,B(this,Qt,"f"));bt(this,Qt,n,"f"),B(this,Ql,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=B(this,Vs,"f")){if(B(this,Wr,"f"))switch(B(this,Wr,"f").type){case"text":this._emit("textDone",B(this,Wr,"f").text,B(this,Qt,"f"));break;case"image_file":this._emit("imageFileDone",B(this,Wr,"f").image_file,B(this,Qt,"f"));break}bt(this,Vs,s.index,"f")}bt(this,Wr,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(B(this,Vs,"f")!==void 0){const s=t.data.content[B(this,Vs,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,B(this,Qt,"f"));break;case"text":this._emit("textDone",s.text,B(this,Qt,"f"));break}}B(this,Qt,"f")&&this._emit("messageDone",t.data),bt(this,Qt,void 0,"f")}},Yy=function(t){const n=B(this,He,"m",ev).call(this,t);switch(bt(this,Oo,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==B(this,Mc,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(B(this,Ct,"f")&&this._emit("toolCallDone",B(this,Ct,"f")),bt(this,Mc,i.index,"f"),bt(this,Ct,n.step_details.tool_calls[i.index],"f"),B(this,Ct,"f")&&this._emit("toolCallCreated",B(this,Ct,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":bt(this,Oo,void 0,"f"),t.data.step_details.type=="tool_calls"&&B(this,Ct,"f")&&(this._emit("toolCallDone",B(this,Ct,"f")),bt(this,Ct,void 0,"f")),this._emit("runStepDone",t.data,n);break}},Zy=function(t){B(this,gh,"f").push(t),this._emit("event",t)},ev=function(t){switch(t.event){case"thread.run.step.created":return B(this,pn,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=B(this,pn,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=en.accumulateDelta(n,r.delta);B(this,pn,"f")[t.data.id]=s}return B(this,pn,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":B(this,pn,"f")[t.data.id]=t.data;break}if(B(this,pn,"f")[t.data.id])return B(this,pn,"f")[t.data.id];throw new Error("No snapshot available")},tv=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=B(this,He,"m",nv).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},nv=function(t,n){return en.accumulateDelta(n,t)},rv=function(t){switch(bt(this,Jl,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":bt(this,qr,t.data,"f"),B(this,Ct,"f")&&(this._emit("toolCallDone",B(this,Ct,"f")),bt(this,Ct,void 0,"f"));break}};class rm extends X{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/assistants",sm,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class sm extends Ge{}rm.AssistantsPage=sm;function sv(e){return typeof e.parse=="function"}const si=e=>(e==null?void 0:e.role)==="assistant",e1=e=>(e==null?void 0:e.role)==="function",t1=e=>(e==null?void 0:e.role)==="tool";function im(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function _a(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function mO(e,t){return!t||!n1(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:om(e,t)}function om(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new jS;if(r.finish_reason==="content_filter")throw new FS;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>yO(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?gO(t,r.message.content):null}}});return{...e,choices:n}}function gO(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function yO(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:_a(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function vO(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return _a(n)||(n==null?void 0:n.function.strict)||!1}function n1(e){var t;return im(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>_a(n)||n.type==="function"&&n.function.strict===!0))??!1}function wO(e){for(const t of e??[]){if(t.type!=="function")throw new V(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new V(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ht=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ye,yh,jc,vh,wh,xh,r1,bh;const iv=10;class s1 extends nm{constructor(){super(...arguments),Ye.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(e1(t)||t1(t))&&t.content)this._emit("functionCallResult",t.content);else if(si(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(si(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new V("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),ht(this,Ye,"m",yh).call(this)}async finalMessage(){return await this.done(),ht(this,Ye,"m",jc).call(this)}async finalFunctionCall(){return await this.done(),ht(this,Ye,"m",vh).call(this)}async finalFunctionCallResult(){return await this.done(),ht(this,Ye,"m",wh).call(this)}async totalUsage(){return await this.done(),ht(this,Ye,"m",xh).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=ht(this,Ye,"m",jc).call(this);n&&this._emit("finalMessage",n);const r=ht(this,Ye,"m",yh).call(this);r&&this._emit("finalContent",r);const s=ht(this,Ye,"m",vh).call(this);s&&this._emit("finalFunctionCall",s);const i=ht(this,Ye,"m",wh).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",ht(this,Ye,"m",xh).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ht(this,Ye,"m",r1).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(om(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var u;const s="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=iv}=r||{},h={};for(const g of n.functions)h[g.name||g.function.name]=g;const d=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<c;++g){const m=(u=(await this._createChatCompletion(t,{...a,function_call:i,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:u.message;if(!m)throw new V("missing message in ChatCompletion response");if(!m.function_call)return;const{name:x,arguments:v}=m.function_call,p=h[x];if(p){if(l&&l!==x){const E=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:x,content:E});continue}}else{const E=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${d.map(C=>JSON.stringify(C.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:E});continue}let w;try{w=sv(p)?await p.parse(v):v}catch(E){this._addMessage({role:s,name:x,content:E instanceof Error?E.message:String(E)});continue}const _=await p.function(w,this),S=ht(this,Ye,"m",bh).call(this,_);if(this._addMessage({role:s,name:x,content:S}),l)return}}async _runTools(t,n,r){var g,b,m;const s="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:c=iv}=r||{},h=n.tools.map(x=>{if(_a(x)){if(!x.$callback)throw new V("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),d={};for(const x of h)x.type==="function"&&(d[x.function.name||x.function.function.name]=x.function);const u="tools"in n?h.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<c;++x){const p=(b=(await this._createChatCompletion(t,{...a,tool_choice:i,tools:u,messages:[...this.messages]},r)).choices[0])==null?void 0:b.message;if(!p)throw new V("missing message in ChatCompletion response");if(!((m=p.tool_calls)!=null&&m.length))return;for(const w of p.tool_calls){if(w.type!=="function")continue;const _=w.id,{name:S,arguments:E}=w.function,C=d[S];if(C){if(l&&l!==S){const M=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:_,content:M});continue}}else{const M=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(d).map(j=>JSON.stringify(j)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:_,content:M});continue}let k;try{k=sv(C)?await C.parse(E):E}catch(M){const j=M instanceof Error?M.message:String(M);this._addMessage({role:s,tool_call_id:_,content:j});continue}const A=await C.function(k,this),R=ht(this,Ye,"m",bh).call(this,A);if(this._addMessage({role:s,tool_call_id:_,content:R}),l)return}}}}Ye=new WeakSet,yh=function(){return ht(this,Ye,"m",jc).call(this).content??null},jc=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(si(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new V("stream ended without producing a ChatCompletionMessage with role=assistant")},vh=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(si(s)&&(s!=null&&s.function_call))return s.function_call;if(si(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},wh=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(e1(n)&&n.content!=null||t1(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},xh=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},r1=function(t){if(t.n!=null&&t.n>1)throw new V("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},bh=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ia extends s1{static runFunctions(t,n,r){const s=new ia,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new ia,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),si(t)&&t.content&&this._emit("content",t.content)}}const i1=1,o1=2,a1=4,l1=8,c1=16,u1=32,d1=64,f1=128,h1=256,p1=f1|h1,m1=c1|u1|p1|d1,g1=i1|o1|m1,y1=a1|l1,xO=g1|y1,Le={STR:i1,NUM:o1,ARR:a1,OBJ:l1,NULL:c1,BOOL:u1,NAN:d1,INFINITY:f1,MINUS_INFINITY:h1,INF:p1,SPECIAL:m1,ATOM:g1,COLLECTION:y1,ALL:xO};class bO extends Error{}class _O extends Error{}function SO(e,t=Le.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return CO(e.trim(),t)}const CO=(e,t)=>{const n=e.length;let r=0;const s=u=>{throw new bO(`${u} at position ${r}`)},i=u=>{throw new _O(`${u} at position ${r}`)},o=()=>(d(),r>=n&&s("Unexpected end of input"),e[r]==='"'?a():e[r]==="{"?l():e[r]==="["?c():e.substring(r,r+4)==="null"||Le.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Le.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Le.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Le.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Le.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Le.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),a=()=>{const u=r;let g=!1;for(r++;r<n&&(e[r]!=='"'||g&&e[r-1]==="\\");)g=e[r]==="\\"?!g:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(u,++r-Number(g)))}catch(b){i(String(b))}else if(Le.STR&t)try{return JSON.parse(e.substring(u,r-Number(g))+'"')}catch{return JSON.parse(e.substring(u,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const u={};try{for(;e[r]!=="}";){if(d(),r>=n&&Le.OBJ&t)return u;const g=a();d(),r++;try{const b=o();Object.defineProperty(u,g,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(Le.OBJ&t)return u;throw b}d(),e[r]===","&&r++}}catch{if(Le.OBJ&t)return u;s("Expected '}' at end of object")}return r++,u},c=()=>{r++;const u=[];try{for(;e[r]!=="]";)u.push(o()),d(),e[r]===","&&r++}catch{if(Le.ARR&t)return u;s("Expected ']' at end of array")}return r++,u},h=()=>{if(r===0){e==="-"&&Le.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(g){if(Le.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(g))}}const u=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Le.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(u,r))}catch{e.substring(u,r)==="-"&&Le.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(u,e.lastIndexOf("e")))}catch(b){i(String(b))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},ov=e=>SO(e,Le.ALL^Le.NUM);var xs=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},he=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Me,In,bs,Xn,Dd,cl,$d,Ld,Ud,ul,Bd,av;class oa extends s1{constructor(t){super(),Me.add(this),In.set(this,void 0),bs.set(this,void 0),Xn.set(this,void 0),xs(this,In,t,"f"),xs(this,bs,[],"f")}get currentChatCompletionSnapshot(){return he(this,Xn,"f")}static fromReadableStream(t){const n=new oa(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new oa(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),he(this,Me,"m",Dd).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)he(this,Me,"m",$d).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ut;return this._addChatCompletion(he(this,Me,"m",ul).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),he(this,Me,"m",Dd).call(this),this._connected();const s=sa.fromReadableStream(t,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(he(this,Me,"m",ul).call(this)),he(this,Me,"m",$d).call(this,a),i=a.id;if((o=s.controller.signal)!=null&&o.aborted)throw new Ut;return this._addChatCompletion(he(this,Me,"m",ul).call(this))}[(In=new WeakMap,bs=new WeakMap,Xn=new WeakMap,Me=new WeakSet,Dd=function(){this.ended||xs(this,Xn,void 0,"f")},cl=function(n){let r=he(this,bs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},he(this,bs,"f")[n.index]=r,r)},$d=function(n){var s,i,o,a,l,c,h,d,u,g,b,m,x,v,p;if(this.ended)return;const r=he(this,Me,"m",av).call(this,n);this._emit("chunk",n,r);for(const w of n.choices){const _=r.choices[w.index];w.delta.content!=null&&((s=_.message)==null?void 0:s.role)==="assistant"&&((i=_.message)!=null&&i.content)&&(this._emit("content",w.delta.content,_.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:_.message.content,parsed:_.message.parsed})),w.delta.refusal!=null&&((o=_.message)==null?void 0:o.role)==="assistant"&&((a=_.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:_.message.refusal}),((l=w.logprobs)==null?void 0:l.content)!=null&&((c=_.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=w.logprobs)==null?void 0:h.content,snapshot:((d=_.logprobs)==null?void 0:d.content)??[]}),((u=w.logprobs)==null?void 0:u.refusal)!=null&&((g=_.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(b=w.logprobs)==null?void 0:b.refusal,snapshot:((m=_.logprobs)==null?void 0:m.refusal)??[]});const S=he(this,Me,"m",cl).call(this,_);_.finish_reason&&(he(this,Me,"m",Ud).call(this,_),S.current_tool_call_index!=null&&he(this,Me,"m",Ld).call(this,_,S.current_tool_call_index));for(const E of w.delta.tool_calls??[])S.current_tool_call_index!==E.index&&(he(this,Me,"m",Ud).call(this,_),S.current_tool_call_index!=null&&he(this,Me,"m",Ld).call(this,_,S.current_tool_call_index)),S.current_tool_call_index=E.index;for(const E of w.delta.tool_calls??[]){const C=(x=_.message.tool_calls)==null?void 0:x[E.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(v=C.function)==null?void 0:v.name,index:E.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((p=E.function)==null?void 0:p.arguments)??""}):(C==null||C.type,void 0))}}},Ld=function(n,r){var o,a,l;if(he(this,Me,"m",cl).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=he(this,In,"f"))==null?void 0:a.tools)==null?void 0:l.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:_a(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Ud=function(n){var s,i;const r=he(this,Me,"m",cl).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=he(this,Me,"m",Bd).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ul=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=he(this,Xn,"f");if(!n)throw new V("request ended without sending any chunks");return xs(this,Xn,void 0,"f"),xs(this,bs,[],"f"),EO(n,he(this,In,"f"))},Bd=function(){var r;const n=(r=he(this,In,"f"))==null?void 0:r.response_format;return im(n)?n:null},av=function(n){var r,s,i,o;let a=he(this,Xn,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=xs(this,Xn,{...c,choices:[]},"f");for(const{delta:h,finish_reason:d,index:u,logprobs:g=null,...b}of n.choices){let m=a.choices[u];if(m||(m=a.choices[u]={finish_reason:d,index:u,message:{},logprobs:g,...b}),g)if(!m.logprobs)m.logprobs=Object.assign({},g);else{const{content:E,refusal:C,...k}=g;Object.assign(m.logprobs,k),E&&((r=m.logprobs).content??(r.content=[]),m.logprobs.content.push(...E)),C&&((s=m.logprobs).refusal??(s.refusal=[]),m.logprobs.refusal.push(...C))}if(d&&(m.finish_reason=d,he(this,In,"f")&&n1(he(this,In,"f")))){if(d==="length")throw new jS;if(d==="content_filter")throw new FS}if(Object.assign(m,b),!h)continue;const{content:x,refusal:v,function_call:p,role:w,tool_calls:_,...S}=h;if(Object.assign(m.message,S),v&&(m.message.refusal=(m.message.refusal||"")+v),w&&(m.message.role=w),p&&(m.message.function_call?(p.name&&(m.message.function_call.name=p.name),p.arguments&&((i=m.message.function_call).arguments??(i.arguments=""),m.message.function_call.arguments+=p.arguments)):m.message.function_call=p),x&&(m.message.content=(m.message.content||"")+x,!m.message.refusal&&he(this,Me,"m",Bd).call(this)&&(m.message.parsed=ov(m.message.content))),_){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:E,id:C,type:k,function:A,...R}of _){const M=(o=m.message.tool_calls)[E]??(o[E]={});Object.assign(M,R),C&&(M.id=C),k&&(M.type=k),A&&(M.function??(M.function={name:A.name??"",arguments:""})),A!=null&&A.name&&(M.function.name=A.name),A!=null&&A.arguments&&(M.function.arguments+=A.arguments,vO(he(this,In,"f"),M)&&(M.function.parsed_arguments=ov(M.function.arguments)))}}}return a},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new sa(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function EO(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...a}=e,l={...a,id:n,choices:r.map(({message:c,finish_reason:h,index:d,logprobs:u,...g})=>{if(!h)throw new V(`missing finish_reason for choice ${d}`);const{content:b=null,function_call:m,tool_calls:x,...v}=c,p=c.role;if(!p)throw new V(`missing role for choice ${d}`);if(m){const{arguments:w,name:_}=m;if(w==null)throw new V(`missing function_call.arguments for choice ${d}`);if(!_)throw new V(`missing function_call.name for choice ${d}`);return{...g,message:{content:b,function_call:{arguments:w,name:_},role:p,refusal:c.refusal??null},finish_reason:h,index:d,logprobs:u}}return x?{...g,index:d,finish_reason:h,logprobs:u,message:{...v,role:p,content:b,refusal:c.refusal??null,tool_calls:x.map((w,_)=>{const{function:S,type:E,id:C,...k}=w,{arguments:A,name:R,...M}=S||{};if(C==null)throw new V(`missing choices[${d}].tool_calls[${_}].id
${dl(e)}`);if(E==null)throw new V(`missing choices[${d}].tool_calls[${_}].type
${dl(e)}`);if(R==null)throw new V(`missing choices[${d}].tool_calls[${_}].function.name
${dl(e)}`);if(A==null)throw new V(`missing choices[${d}].tool_calls[${_}].function.arguments
${dl(e)}`);return{...k,id:C,type:E,function:{...M,name:R,arguments:A}}})}}:{...g,message:{...v,content:b,role:p,refusal:c.refusal??null},finish_reason:h,index:d,logprobs:u}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return mO(l,t)}function dl(e){return JSON.stringify(e)}class ii extends oa{static fromReadableStream(t){const n=new ii(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new ii(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new ii(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let v1=class extends X{parse(t,n){return wO(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>om(r,t))}runFunctions(t,n){return t.stream?ii.runFunctions(this._client,t,n):ia.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?ii.runTools(this._client,t,n):ia.runTools(this._client,t,n)}stream(t,n){return oa.createChatCompletion(this._client,t,n)}};class _h extends X{constructor(){super(...arguments),this.completions=new v1(this._client)}}(function(e){e.Completions=v1})(_h||(_h={}));class w1 extends X{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class x1 extends X{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ru extends X{constructor(){super(...arguments),this.sessions=new w1(this._client),this.transcriptionSessions=new x1(this._client)}}Ru.Sessions=w1;Ru.TranscriptionSessions=x1;let am=class extends X{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,lm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}};class lm extends Ge{}am.MessagesPage=lm;class cm extends X{retrieve(t,n,r,s={},i){return Ne(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return Ne(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,um,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class um extends Ge{}cm.RunStepsPage=um;let Sa=class extends X{constructor(){super(...arguments),this.steps=new cm(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,dm,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return en.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await xa(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return en.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return en.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}};class dm extends Ge{}Sa.RunsPage=dm;Sa.Steps=cm;Sa.RunStepsPage=um;class ji extends X{constructor(){super(...arguments),this.runs=new Sa(this._client),this.messages=new am(this._client)}create(t={},n){return Ne(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return en.createThreadAssistantStream(t,this._client.beta.threads,n)}}ji.Runs=Sa;ji.RunsPage=dm;ji.Messages=am;ji.MessagesPage=lm;let Fi=class extends X{constructor(){super(...arguments),this.realtime=new Ru(this._client),this.chat=new _h(this._client),this.assistants=new rm(this._client),this.threads=new ji(this._client)}};Fi.Realtime=Ru;Fi.Assistants=rm;Fi.AssistantsPage=sm;Fi.Threads=ji;let b1=class extends X{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}};class _1 extends X{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&kr("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(kr("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=hO(l)}),o)))}}class fm extends X{retrieve(t,n,r,s){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,s)}list(t,n,r={},s){return Ne(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,hm,{query:r,...s})}}class hm extends Ge{}fm.OutputItemListResponsesPage=hm;class Ca extends X{constructor(){super(...arguments),this.outputItems=new fm(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,pm,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class pm extends Ge{}Ca.RunListResponsesPage=pm;Ca.OutputItems=fm;Ca.OutputItemListResponsesPage=hm;class Ea extends X{constructor(){super(...arguments),this.runs=new Ca(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/evals",mm,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class mm extends Ge{}Ea.EvalListResponsesPage=mm;Ea.Runs=Ca;Ea.RunListResponsesPage=pm;let gm=class extends X{create(t,n){return this._client.post("/files",Pi({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/files",ym,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await xa(n),o=await this.retrieve(t),Date.now()-i>r)throw new Zp({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}};class ym extends Ge{}gm.FileObjectsPage=ym;class vm extends X{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,wm,{body:n,method:"post",...r})}retrieve(t,n={},r){return Ne(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class wm extends ku{}vm.PermissionCreateResponsesPage=wm;let Nu=class extends X{constructor(){super(...arguments),this.permissions=new vm(this._client)}};Nu.Permissions=vm;Nu.PermissionCreateResponsesPage=wm;class xm extends X{list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,bm,{query:n,...r})}}class bm extends Ge{}xm.FineTuningJobCheckpointsPage=bm;class Di extends X{constructor(){super(...arguments),this.checkpoints=new xm(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",_m,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Ne(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Sm,{query:n,...r})}}class _m extends Ge{}class Sm extends Ge{}Di.FineTuningJobsPage=_m;Di.FineTuningJobEventsPage=Sm;Di.Checkpoints=xm;Di.FineTuningJobCheckpointsPage=bm;class $i extends X{constructor(){super(...arguments),this.jobs=new Di(this._client),this.checkpoints=new Nu(this._client)}}$i.Jobs=Di;$i.FineTuningJobsPage=_m;$i.FineTuningJobEventsPage=Sm;$i.Checkpoints=Nu;class S1 extends X{createVariation(t,n){return this._client.post("/images/variations",Pi({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Pi({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}let Cm=class extends X{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Em,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}};class Em extends ku{}Cm.ModelsPage=Em;class C1 extends X{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function kO(e,t){return!t||!IO(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:E1(e,t)}function E1(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:NO(t,s)};if(s.type==="message"){const i=s.content.map(o=>o.type==="output_text"?{...o,parsed:PO(t,o.text)}:o);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||k1(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function PO(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function IO(e){var t;return!!im((t=e.text)==null?void 0:t.format)}function AO(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function RO(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function NO(e,t){const n=RO(e.tools??[],t.name);return{...t,...t,parsed_arguments:AO(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function k1(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class P1 extends X{list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,OO,{query:n,...r})}}var _s=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Jn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ss,fl,Yn,hl,lv,cv,uv,dv;class km extends nm{constructor(t){super(),Ss.add(this),fl.set(this,void 0),Yn.set(this,void 0),hl.set(this,void 0),_s(this,fl,t,"f")}static createResponse(t,n,r){const s=new km(n);return s._run(()=>s._createResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Jn(this,Ss,"m",lv).call(this);const i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)Jn(this,Ss,"m",cv).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Ut;return Jn(this,Ss,"m",uv).call(this)}[(fl=new WeakMap,Yn=new WeakMap,hl=new WeakMap,Ss=new WeakSet,lv=function(){this.ended||_s(this,Yn,void 0,"f")},cv=function(n){if(this.ended)return;const r=Jn(this,Ss,"m",dv).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new V(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new V(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},uv=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=Jn(this,Yn,"f");if(!n)throw new V("request ended without sending any events");_s(this,Yn,void 0,"f");const r=TO(n,Jn(this,fl,"f"));return _s(this,hl,r,"f"),r},dv=function(n){let r=Jn(this,Yn,"f");if(!r){if(n.type!=="response.created")throw new V(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=_s(this,Yn,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new V(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new V(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new V(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{_s(this,Yn,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Jn(this,hl,"f");if(!t)throw new V("stream ended without producing a ChatCompletion");return t}}function TO(e,t){return kO(e,t)}class Pm extends X{constructor(){super(...arguments),this.inputItems=new P1(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&k1(r),r))}retrieve(t,n={},r){return Ne(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...r})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>E1(r,t))}stream(t,n){return km.createResponse(this._client,t,n)}}class OO extends Ge{}Pm.InputItems=P1;class I1 extends X{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Pi({body:n,...r}))}}class Im extends X{constructor(){super(...arguments),this.parts=new I1(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}Im.Parts=I1;const MO=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class Tu extends X{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ne(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Ou,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await xa(a);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Am,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ou extends Ge{}class Am extends ku{}Tu.VectorStoreFilesPage=Ou;Tu.FileContentResponsesPage=Am;class A1 extends X{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return Ne(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Ou,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await xa(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...r];async function h(u){for(let g of u){const b=await a.files.create({file:g,purpose:"assistants"},s);c.push(b.id)}}const d=Array(o).fill(l).map(h);return await MO(d),await this.createAndPoll(t,{file_ids:c})}}class $r extends X{constructor(){super(...arguments),this.files=new Tu(this._client),this.fileBatches=new A1(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Ne(t)?this.list({},t):this._client.getAPIList("/vector_stores",Rm,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Nm,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Rm extends Ge{}class Nm extends ku{}$r.VectorStoresPage=Rm;$r.VectorStoreSearchResponsesPage=Nm;$r.Files=Tu;$r.VectorStoreFilesPage=Ou;$r.FileContentResponsesPage=Am;$r.FileBatches=A1;var R1;class Q extends tO{constructor({baseURL:t=al("OPENAI_BASE_URL"),apiKey:n=al("OPENAI_API_KEY"),organization:r=al("OPENAI_ORG_ID")??null,project:s=al("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new V("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&dO())throw new V(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new b1(this),this.chat=new Au(this),this.embeddings=new _1(this),this.files=new gm(this),this.images=new S1(this),this.audio=new ba(this),this.moderations=new C1(this),this.models=new Cm(this),this.fineTuning=new $i(this),this.vectorStores=new $r(this),this.beta=new Fi(this),this.batches=new em(this),this.uploads=new Im(this),this.responses=new Pm(this),this.evals=new Ea(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return D2(t,{arrayFormat:"brackets"})}}R1=Q;Q.OpenAI=R1;Q.DEFAULT_TIMEOUT=6e5;Q.OpenAIError=V;Q.APIError=wt;Q.APIConnectionError=Su;Q.APIConnectionTimeoutError=Zp;Q.APIUserAbortError=Ut;Q.NotFoundError=RS;Q.ConflictError=NS;Q.RateLimitError=OS;Q.BadRequestError=PS;Q.AuthenticationError=IS;Q.InternalServerError=MS;Q.PermissionDeniedError=AS;Q.UnprocessableEntityError=TS;Q.toFile=US;Q.fileFromPath=CS;Q.Completions=b1;Q.Chat=Au;Q.ChatCompletionsPage=Iu;Q.Embeddings=_1;Q.Files=gm;Q.FileObjectsPage=ym;Q.Images=S1;Q.Audio=ba;Q.Moderations=C1;Q.Models=Cm;Q.ModelsPage=Em;Q.FineTuning=$i;Q.VectorStores=$r;Q.VectorStoresPage=Rm;Q.VectorStoreSearchResponsesPage=Nm;Q.Beta=Fi;Q.Batches=em;Q.BatchesPage=tm;Q.Uploads=Im;Q.Responses=Pm;Q.Evals=Ea;Q.EvalListResponsesPage=mm;var fv;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(fv||(fv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hv;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(hv||(hv={}));var pv;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(pv||(pv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=["user","model","function","system"];var gv;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(gv||(gv={}));var yv;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(yv||(yv={}));var vv;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(vv||(vv={}));var wv;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(wv||(wv={}));var Mo;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Mo||(Mo={}));var xv;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(xv||(xv={}));var bv;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(bv||(bv={}));var _v;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(_v||(_v={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Cs extends nt{constructor(t,n){super(t),this.response=n}}class N1 extends nt{constructor(t,n,r,s){super(t),this.status=n,this.statusText=r,this.errorDetails=s}}class Pr extends nt{}class T1 extends nt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="https://generativelanguage.googleapis.com",FO="v1beta",DO="0.24.1",$O="genai-js";var ds;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ds||(ds={}));class LO{constructor(t,n,r,s,i){this.model=t,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||FO;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||jO}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function UO(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${$O}/${DO}`),t.join(" ")}async function BO(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",UO(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new Pr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new Pr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Pr(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function zO(e,t,n,r,s,i){const o=new LO(e,t,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},GO(i)),{method:"POST",headers:await BO(o),body:s})}}async function ka(e,t,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await zO(e,t,n,r,s,i);return HO(a,l,o)}async function HO(e,t,n=fetch){let r;try{r=await n(e,t)}catch(s){WO(s,e)}return r.ok||await VO(r,e),r}function WO(e,t){let n=e;throw n.name==="AbortError"?(n=new T1(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof N1||e instanceof Pr||(n=new nt(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function VO(e,t){let n="",r;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new N1(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function GO(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Yl(e.candidates[0]))throw new Cs(`${or(e)}`,e);return KO(e)}else if(e.promptFeedback)throw new Cs(`Text not available. ${or(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Yl(e.candidates[0]))throw new Cs(`${or(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Sv(e)[0]}else if(e.promptFeedback)throw new Cs(`Function call not available. ${or(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Yl(e.candidates[0]))throw new Cs(`${or(e)}`,e);return Sv(e)}else if(e.promptFeedback)throw new Cs(`Function call not available. ${or(e)}`,e)},e}function KO(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Sv(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const qO=[Mo.RECITATION,Mo.SAFETY,Mo.LANGUAGE];function Yl(e){return!!e.finishReason&&qO.includes(e.finishReason)}function or(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];Yl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function aa(e){return this instanceof aa?(this.v=e,this):new aa(e)}function QO(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(u){r[u]&&(s[u]=function(g){return new Promise(function(b,m){i.push([u,g,b,m])>1||a(u,g)})})}function a(u,g){try{l(r[u](g))}catch(b){d(i[0][3],b)}}function l(u){u.value instanceof aa?Promise.resolve(u.value.v).then(c,h):d(i[0][2],u)}function c(u){a("next",u)}function h(u){a("throw",u)}function d(u,g){u(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function XO(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=ZO(t),[r,s]=n.tee();return{stream:YO(r),response:JO(s)}}async function JO(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Tm(eM(t));t.push(s)}}function YO(e){return QO(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield aa(n.read());if(s)break;yield yield aa(Tm(r))}})}function ZO(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new nt("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(Cv),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new nt(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(Cv)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new T1("Request aborted when reading from the stream"):a=new nt("Error reading from the stream"),a})}}})}function eM(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(e,t,n,r){const s=await ka(t,ds.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return XO(s)}async function M1(e,t,n,r){const i=await(await ka(t,ds.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Tm(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function la(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return tM(t)}function tM(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),r=!0);if(r&&s)throw new nt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new nt("No content is provided for sending chat message.");return r?t:n}function nM(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new Pr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(s)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=la(e);r.contents=[i]}return{generateContentRequest:r}}function Ev(e){let t;return e.contents?t=e:t={contents:[la(e)]},e.systemInstruction&&(t.systemInstruction=j1(e.systemInstruction)),t}function rM(e){return typeof e=="string"||Array.isArray(e)?{content:la(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],sM={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function iM(e){let t=!1;for(const n of e){const{role:r,parts:s}=n;if(!t&&r!=="user")throw new nt(`First content should be with role 'user', got ${r}`);if(!mv.includes(r))throw new nt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(mv)}`);if(!Array.isArray(s))throw new nt("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new nt("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of kv)l in a&&(i[l]+=1);const o=sM[r];for(const a of kv)if(!o.includes(a)&&i[a]>0)throw new nt(`Content with role '${r}' can't contain '${a}' part`);t=!0}}function Pv(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="SILENT_ERROR";class oM{constructor(t,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(iM(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const c=la(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n);let u;return this._sendPromise=this._sendPromise.then(()=>M1(this._apiKey,this.model,h,d)).then(g=>{var b;if(Pv(g.response)){this._history.push(c);const m=Object.assign({parts:[],role:"model"},(b=g.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(m)}else{const m=or(g.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}u=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,u}async sendMessageStream(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const c=la(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),u=O1(this._apiKey,this.model,h,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(g=>{throw new Error(Iv)}).then(g=>g.response).then(g=>{if(Pv(g)){this._history.push(c);const b=Object.assign({},g.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=or(g);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(g=>{g.message!==Iv&&console.error(g)}),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(e,t,n,r){return(await ka(t,ds.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(e,t,n,r){return(await ka(t,ds.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function cM(e,t,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await ka(t,ds.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=j1(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const s=Ev(t),i=Object.assign(Object.assign({},this._requestOptions),n);return M1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(t,n={}){var r;const s=Ev(t),i=Object.assign(Object.assign({},this._requestOptions),n);return O1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(t){var n;return new oM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=nM(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return aM(this.apiKey,this.model,r,s)}async embedContent(t,n={}){const r=rM(t),s=Object.assign(Object.assign({},this._requestOptions),n);return lM(this.apiKey,this.model,r,s)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return cM(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new nt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Av(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Pr("Cached content must contain a `name` field.");if(!t.model)throw new Pr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new Pr(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Av(this.apiKey,i,r)}}const Rs="0.37.0";let Rv=!1,jo,F1,Sh,D1,$1,L1;function dM(e,t={auto:!1}){if(Rv)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${e.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(jo)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${e.kind}'\` after \`import '@anthropic-ai/sdk/shims/${jo}'\``);Rv=t.auto,jo=e.kind,F1=e.fetch,Sh=e.File,D1=e.ReadableStream,$1=e.getDefaultAgent,L1=e.fileFromPath}class fM{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function hM({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new fM(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:o=>!1}}jo||dM(hM(),{auto:!0});class ne extends Error{}class it extends ne{constructor(t,n,r,s){super(`${it.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["request-id"],this.error=n}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Mu({message:r,cause:Ch(n)});const i=n;return t===400?new B1(t,i,r,s):t===401?new z1(t,i,r,s):t===403?new H1(t,i,r,s):t===404?new W1(t,i,r,s):t===409?new V1(t,i,r,s):t===422?new G1(t,i,r,s):t===429?new K1(t,i,r,s):t>=500?new q1(t,i,r,s):new it(t,i,r,s)}}class tn extends it{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Mu extends it{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class U1 extends Mu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class B1 extends it{}class z1 extends it{}class H1 extends it{}class W1 extends it{}class V1 extends it{}class G1 extends it{}class K1 extends it{}class q1 extends it{}var pl=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Br=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},St;class Pa{constructor(){St.set(this,void 0),this.buffer=new Uint8Array,pl(this,St,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=pM(this.buffer,Br(this,St,"f")))!=null;){if(i.carriage&&Br(this,St,"f")==null){pl(this,St,i.index,"f");continue}if(Br(this,St,"f")!=null&&(i.index!==Br(this,St,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Br(this,St,"f")-1))),this.buffer=this.buffer.slice(Br(this,St,"f")),pl(this,St,null,"f");continue}const o=Br(this,St,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),pl(this,St,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new ne(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new ne(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new ne("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}St=new WeakMap;Pa.NEWLINE_CHARS=new Set([`
`,"\r"]);Pa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pM(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function mM(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function Om(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class xn{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of gM(t,n)){if(o.event==="completion")try{yield JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event==="message_start"||o.event==="message_delta"||o.event==="message_stop"||o.event==="content_block_start"||o.event==="content_block_delta"||o.event==="content_block_stop")try{yield JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event!=="ping"&&o.event==="error")throw it.generate(void 0,`SSE Error: ${o.data}`,o.data,J1(t.headers))}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new xn(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Pa,a=Om(t);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new xn(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new xn(()=>s(t),this.controller),new xn(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new D1({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*gM(e,t){if(!e.body)throw t.abort(),new ne("Attempted to iterate over a response with no body");const n=new vM,r=new Pa,s=Om(e.body);for await(const i of yM(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*yM(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=mM(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class vM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=wM(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function wM(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const xM=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",bM=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&ju(e),ju=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function";async function _M(e,t,n){var s;if(e=await e,bM(e))return e;if(xM(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=ju(i)?[await i.arrayBuffer()]:[i];return new Sh(o,t,n)}const r=await SM(e);if(t||(t=EM(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Sh(r,t,n)}async function SM(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(ju(e))t.push(await e.arrayBuffer());else if(kM(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${CM(e)}`);return t}function CM(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function EM(e){var t;return zd(e.name)||zd(e.filename)||((t=zd(e.path))==null?void 0:t.split(/[\\/]/).pop())}const zd=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},kM=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Nv=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var oi={},PM=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},IM=function(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ml;async function Q1(e){const{response:t}=e;if(e.options.stream)return ai("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):xn.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return ai("response",t.status,t.url,t.headers,i),X1(i,t)}const s=await t.text();return ai("response",t.status,t.url,t.headers,s),s}function X1(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}class Fu extends Promise{constructor(t,n=Q1){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Fu(this.responsePromise,async n=>X1(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class AM{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=Hd("maxRetries",n),this.timeout=Hd("timeout",r),this.httpAgent=s,this.fetch=i??F1}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...jM(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${UM()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&ju(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var b;t={...t};const{method:r,path:s,query:i,headers:o={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Nv(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(s,i);"timeout"in t&&Hd("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const h=t.httpAgent??this.httpAgent??$1(c),d=t.timeout+1e3;typeof((b=h==null?void 0:h.options)==null?void 0:b.timeout)=="number"&&d>(h.options.timeout??0)&&(h.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const u=this.buildHeaders({options:t,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:u,...h&&{agent:h},signal:t.signal??null},url:c,timeout:t.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return jv(i,o),jv(i,n),Nv(t.body)&&jo!=="node"&&delete i["content-type"],gl(o,"x-stainless-retry-count")===void 0&&gl(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),gl(o,"x-stainless-timeout")===void 0&&gl(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,n),i}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new ne("Streaming is strongly recommended for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-python#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return it.generate(t,n,r,s)}request(t,n=null){return new Fu(this.makeRequest(t,n))}async makeRequest(t,n){var d,u;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),ai("request",o,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new tn;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(Ch);if(c instanceof Error){if((u=r.signal)!=null&&u.aborted)throw new tn;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new U1:new Mu({cause:c})}const h=J1(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const p=`retrying, ${n} attempts remaining`;return ai(`response (error; ${p})`,c.status,o,h),this.retryRequest(r,n,h)}const g=await c.text().catch(p=>Ch(p).message),b=FM(g),m=b?void 0:g;throw ai(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,h,m),this.makeStatusError(c.status,b,m,h)}return{response:c,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new NM(this,r,t)}buildURL(t,n){const r=$M(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Fc(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ne(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};l.method&&(l.method=l.method.toUpperCase());const c=60*1e3,h=setTimeout(()=>{var d,u;if(l&&((d=l==null?void 0:l.agent)!=null&&d.sockets))for(const g of Object.values((u=l==null?void 0:l.agent)==null?void 0:u.sockets).flat())g!=null&&g.setKeepAlive&&g.setKeepAlive(!0,c)},c);return this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a),clearTimeout(h)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await LM(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Rs}`}}class RM{constructor(t,n,r,s){ml.set(this,void 0),PM(this,ml,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new ne("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await IM(this,ml,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(ml=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class NM extends Fu{constructor(t,n,r){super(n,async s=>new r(t,s.response,await Q1(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const J1=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),TM={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},cr=e=>typeof e=="object"&&e!==null&&!Fc(e)&&Object.keys(e).every(t=>Y1(TM,t)),OM=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rs,"X-Stainless-OS":Ov(Deno.build.os),"X-Stainless-Arch":Tv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rs,"X-Stainless-OS":Ov(process.platform),"X-Stainless-Arch":Tv(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=MM();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function MM(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const Tv=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Ov=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Mv;const jM=()=>Mv??(Mv=OM()),FM=e=>{try{return JSON.parse(e)}catch{return}},DM=/^[a-z][a-z0-9+.-]*:/i,$M=e=>DM.test(e),LM=e=>new Promise(t=>setTimeout(t,e)),Hd=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ne(`${e} must be an integer`);if(t<0)throw new ne(`${e} must be a positive integer`);return t},Ch=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(String(e))},Wd=e=>{var t,n,r,s;if(typeof process<"u")return((t=oi==null?void 0:oi[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function Fc(e){if(!e)return!0;for(const t in e)return!1;return!0}function Y1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jv(e,t){for(const n in t){if(!Y1(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function ai(e,...t){typeof process<"u"&&(oi==null?void 0:oi.DEBUG)==="true"&&console.log(`Anthropic:DEBUG:${e}`,...t)}const UM=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),BM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",zM=e=>typeof(e==null?void 0:e.get)=="function",gl=(e,t)=>{var r;const n=t.toLowerCase();if(zM(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};class Du extends RM{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var n;if((n=this.options.query)!=null&&n.before_id){const r=this.first_id;return r?{params:{before_id:r}}:null}const t=this.last_id;return t?{params:{after_id:t}}:null}}class Lr{constructor(t){this._client=t}}let Mm=class extends Lr{retrieve(t,n){return this._client.get(`/v1/models/${t}?beta=true`,n)}list(t={},n){return cr(t)?this.list({},t):this._client.getAPIList("/v1/models?beta=true",jm,{query:t,...n})}};class jm extends Du{}Mm.BetaModelInfosPage=jm;class $u{constructor(t,n){this.iterator=t,this.controller=n}async*decoder(){const t=new Pa;for await(const n of this.iterator)for(const r of t.decode(n))yield JSON.parse(r);for(const n of t.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,n){if(!t.body)throw n.abort(),new ne("Attempted to iterate over a response with no body");return new $u(Om(t.body),n)}}let Fm=class extends Lr{create(t,n){const{betas:r,...s}=t;return this._client.post("/v1/messages/batches?beta=true",{body:s,...n,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...n==null?void 0:n.headers}})}retrieve(t,n={},r){if(cr(n))return this.retrieve(t,{},n);const{betas:s}=n;return this._client.get(`/v1/messages/batches/${t}?beta=true`,{...r,headers:{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),...r==null?void 0:r.headers}})}list(t={},n){if(cr(t))return this.list({},t);const{betas:r,...s}=t;return this._client.getAPIList("/v1/messages/batches?beta=true",Dm,{query:s,...n,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...n==null?void 0:n.headers}})}delete(t,n={},r){if(cr(n))return this.delete(t,{},n);const{betas:s}=n;return this._client.delete(`/v1/messages/batches/${t}?beta=true`,{...r,headers:{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),...r==null?void 0:r.headers}})}cancel(t,n={},r){if(cr(n))return this.cancel(t,{},n);const{betas:s}=n;return this._client.post(`/v1/messages/batches/${t}/cancel?beta=true`,{...r,headers:{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),...r==null?void 0:r.headers}})}async results(t,n={},r){if(cr(n))return this.results(t,{},n);const s=await this.retrieve(t);if(!s.results_url)throw new ne(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:i}=n;return this._client.get(s.results_url,{...r,headers:{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})._thenUnwrap((o,a)=>$u.fromResponse(a.response,a.controller))}};class Dm extends Du{}Fm.BetaMessageBatchesPage=Dm;const HM=e=>{let t=0,n=[];for(;t<e.length;){let r=e[t];if(r==="\\"){t++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),t++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),t++;continue}if(r==="["){n.push({type:"paren",value:"["}),t++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),t++;continue}if(r===":"){n.push({type:"separator",value:":"}),t++;continue}if(r===","){n.push({type:"delimiter",value:","}),t++;continue}if(r==='"'){let a="",l=!1;for(r=e[++t];r!=='"';){if(t===e.length){l=!0;break}if(r==="\\"){if(t++,t===e.length){l=!0;break}a+=r+e[t],r=e[++t]}else a+=r,r=e[++t]}r=e[++t],l||n.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){t++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let a="";for(r==="-"&&(a+=r,r=e[++t]);r&&i.test(r)||r===".";)a+=r,r=e[++t];n.push({type:"number",value:a});continue}let o=/[a-z]/i;if(r&&o.test(r)){let a="";for(;r&&o.test(r)&&t!==e.length;)a+=r,r=e[++t];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{t++;continue}continue}t++}return n},Ns=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),Ns(e);case"number":let n=t.value[t.value.length-1];if(n==="."||n==="-")return e=e.slice(0,e.length-1),Ns(e);case"string":let r=e[e.length-2];if((r==null?void 0:r.type)==="delimiter")return e=e.slice(0,e.length-1),Ns(e);if((r==null?void 0:r.type)==="brace"&&r.value==="{")return e=e.slice(0,e.length-1),Ns(e);break;case"delimiter":return e=e.slice(0,e.length-1),Ns(e)}return e},WM=e=>{let t=[];return e.map(n=>{n.type==="brace"&&(n.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(n=>{n==="}"?e.push({type:"brace",value:"}"}):n==="]"&&e.push({type:"paren",value:"]"})}),e},VM=e=>{let t="";return e.map(n=>{switch(n.type){case"string":t+='"'+n.value+'"';break;default:t+=n.value;break}}),t},Z1=e=>JSON.parse(VM(WM(Ns(HM(e)))));var Xe=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Y=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Mt,Zn,Yi,yl,Zi,eo,vl,to,An,no,wl,xl,Es,bl,_l,Vd,Fv,Gd,Kd,qd,Qd,Dv;const $v="__json_buf";class Dc{constructor(){Mt.add(this),this.messages=[],this.receivedMessages=[],Zn.set(this,void 0),this.controller=new AbortController,Yi.set(this,void 0),yl.set(this,()=>{}),Zi.set(this,()=>{}),eo.set(this,void 0),vl.set(this,()=>{}),to.set(this,()=>{}),An.set(this,{}),no.set(this,!1),wl.set(this,!1),xl.set(this,!1),Es.set(this,!1),bl.set(this,void 0),_l.set(this,void 0),Gd.set(this,t=>{if(Xe(this,wl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new tn),t instanceof tn)return Xe(this,xl,!0,"f"),this._emit("abort",t);if(t instanceof ne)return this._emit("error",t);if(t instanceof Error){const n=new ne(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new ne(String(t)))}),Xe(this,Yi,new Promise((t,n)=>{Xe(this,yl,t,"f"),Xe(this,Zi,n,"f")}),"f"),Xe(this,eo,new Promise((t,n)=>{Xe(this,vl,t,"f"),Xe(this,to,n,"f")}),"f"),Y(this,Yi,"f").catch(()=>{}),Y(this,eo,"f").catch(()=>{})}get response(){return Y(this,bl,"f")}get request_id(){return Y(this,_l,"f")}async withResponse(){const t=await Y(this,Yi,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new Dc;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const s=new Dc;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},Y(this,Gd,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Y(this,Mt,"m",Kd).call(this);const{response:i,data:o}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(i);for await(const l of o)Y(this,Mt,"m",qd).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new tn;Y(this,Mt,"m",Qd).call(this)}_connected(t){this.ended||(Xe(this,bl,t,"f"),Xe(this,_l,t==null?void 0:t.headers.get("request-id"),"f"),Y(this,yl,"f").call(this,t),this._emit("connect"))}get ended(){return Y(this,no,"f")}get errored(){return Y(this,wl,"f")}get aborted(){return Y(this,xl,"f")}abort(){this.controller.abort()}on(t,n){return(Y(this,An,"f")[t]||(Y(this,An,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Y(this,An,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Y(this,An,"f")[t]||(Y(this,An,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Xe(this,Es,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Xe(this,Es,!0,"f"),await Y(this,eo,"f")}get currentMessage(){return Y(this,Zn,"f")}async finalMessage(){return await this.done(),Y(this,Mt,"m",Vd).call(this)}async finalText(){return await this.done(),Y(this,Mt,"m",Fv).call(this)}_emit(t,...n){if(Y(this,no,"f"))return;t==="end"&&(Xe(this,no,!0,"f"),Y(this,vl,"f").call(this));const r=Y(this,An,"f")[t];if(r&&(Y(this,An,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Y(this,Es,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,Zi,"f").call(this,s),Y(this,to,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Y(this,Es,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Y(this,Zi,"f").call(this,s),Y(this,to,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",Y(this,Mt,"m",Vd).call(this))}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Y(this,Mt,"m",Kd).call(this),this._connected(null);const s=xn.fromReadableStream(t,this.controller);for await(const o of s)Y(this,Mt,"m",qd).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new tn;Y(this,Mt,"m",Qd).call(this)}[(Zn=new WeakMap,Yi=new WeakMap,yl=new WeakMap,Zi=new WeakMap,eo=new WeakMap,vl=new WeakMap,to=new WeakMap,An=new WeakMap,no=new WeakMap,wl=new WeakMap,xl=new WeakMap,Es=new WeakMap,bl=new WeakMap,_l=new WeakMap,Gd=new WeakMap,Mt=new WeakSet,Vd=function(){if(this.receivedMessages.length===0)throw new ne("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Fv=function(){if(this.receivedMessages.length===0)throw new ne("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new ne("stream ended without producing a content block with type=text");return n.join(" ")},Kd=function(){this.ended||Xe(this,Zn,void 0,"f")},qd=function(n){if(this.ended)return;const r=Y(this,Mt,"m",Dv).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{s.type==="tool_use"&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Xe(this,Zn,r,"f");break}}},Qd=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");const n=Y(this,Zn,"f");if(!n)throw new ne("request ended without sending any chunks");return Xe(this,Zn,void 0,"f"),n},Dv=function(n){let r=Y(this,Zn,"f");if(n.type==="message_start"){if(r)throw new ne(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new ne(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(s.text+=n.delta.text);break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(s.citations??(s.citations=[]),s.citations.push(n.delta.citation));break}case"input_json_delta":{if((s==null?void 0:s.type)==="tool_use"){let i=s[$v]||"";i+=n.delta.partial_json,Object.defineProperty(s,$v,{value:i,enumerable:!1,writable:!0}),i&&(s.input=Z1(i))}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(s.thinking+=n.delta.thinking);break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(s.signature=n.delta.signature);break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new xn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const Lv={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};let Lu=class extends Lr{constructor(){super(...arguments),this.batches=new Fm(this._client)}create(t,n){const{betas:r,...s}=t;return s.model in Lv&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${Lv[s.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages?beta=true",{body:s,timeout:this._client._options.timeout??(s.stream?6e5:this._client._calculateNonstreamingTimeout(s.max_tokens)),...n,headers:{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0,...n==null?void 0:n.headers},stream:t.stream??!1})}stream(t,n){return Dc.createMessage(this,t,n)}countTokens(t,n){const{betas:r,...s}=t;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...n,headers:{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString(),...n==null?void 0:n.headers}})}};Lu.Batches=Fm;Lu.BetaMessageBatchesPage=Dm;class Ia extends Lr{constructor(){super(...arguments),this.models=new Mm(this._client),this.messages=new Lu(this._client)}}Ia.Models=Mm;Ia.BetaModelInfosPage=jm;Ia.Messages=Lu;class eC extends Lr{create(t,n){return this._client.post("/v1/complete",{body:t,timeout:this._client._options.timeout??6e5,...n,stream:t.stream??!1})}}class $m extends Lr{create(t,n){return this._client.post("/v1/messages/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/v1/messages/batches/${t}`,n)}list(t={},n){return cr(t)?this.list({},t):this._client.getAPIList("/v1/messages/batches",Lm,{query:t,...n})}delete(t,n){return this._client.delete(`/v1/messages/batches/${t}`,n)}cancel(t,n){return this._client.post(`/v1/messages/batches/${t}/cancel`,n)}async results(t,n){const r=await this.retrieve(t);if(!r.results_url)throw new ne(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})._thenUnwrap((s,i)=>$u.fromResponse(i.response,i.controller))}}class Lm extends Du{}$m.MessageBatchesPage=Lm;var Je=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Z=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},jt,er,ro,Sl,so,io,Cl,oo,Rn,ao,El,kl,ks,Pl,Il,Xd,Uv,Jd,Yd,Zd,ef,Bv;const zv="__json_buf";class $c{constructor(){jt.add(this),this.messages=[],this.receivedMessages=[],er.set(this,void 0),this.controller=new AbortController,ro.set(this,void 0),Sl.set(this,()=>{}),so.set(this,()=>{}),io.set(this,void 0),Cl.set(this,()=>{}),oo.set(this,()=>{}),Rn.set(this,{}),ao.set(this,!1),El.set(this,!1),kl.set(this,!1),ks.set(this,!1),Pl.set(this,void 0),Il.set(this,void 0),Jd.set(this,t=>{if(Je(this,El,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new tn),t instanceof tn)return Je(this,kl,!0,"f"),this._emit("abort",t);if(t instanceof ne)return this._emit("error",t);if(t instanceof Error){const n=new ne(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new ne(String(t)))}),Je(this,ro,new Promise((t,n)=>{Je(this,Sl,t,"f"),Je(this,so,n,"f")}),"f"),Je(this,io,new Promise((t,n)=>{Je(this,Cl,t,"f"),Je(this,oo,n,"f")}),"f"),Z(this,ro,"f").catch(()=>{}),Z(this,io,"f").catch(()=>{})}get response(){return Z(this,Pl,"f")}get request_id(){return Z(this,Il,"f")}async withResponse(){const t=await Z(this,ro,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new $c;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const s=new $c;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},Z(this,Jd,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Z(this,jt,"m",Yd).call(this);const{response:i,data:o}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(i);for await(const l of o)Z(this,jt,"m",Zd).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new tn;Z(this,jt,"m",ef).call(this)}_connected(t){this.ended||(Je(this,Pl,t,"f"),Je(this,Il,t==null?void 0:t.headers.get("request-id"),"f"),Z(this,Sl,"f").call(this,t),this._emit("connect"))}get ended(){return Z(this,ao,"f")}get errored(){return Z(this,El,"f")}get aborted(){return Z(this,kl,"f")}abort(){this.controller.abort()}on(t,n){return(Z(this,Rn,"f")[t]||(Z(this,Rn,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=Z(this,Rn,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(Z(this,Rn,"f")[t]||(Z(this,Rn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Je(this,ks,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Je(this,ks,!0,"f"),await Z(this,io,"f")}get currentMessage(){return Z(this,er,"f")}async finalMessage(){return await this.done(),Z(this,jt,"m",Xd).call(this)}async finalText(){return await this.done(),Z(this,jt,"m",Uv).call(this)}_emit(t,...n){if(Z(this,ao,"f"))return;t==="end"&&(Je(this,ao,!0,"f"),Z(this,Cl,"f").call(this));const r=Z(this,Rn,"f")[t];if(r&&(Z(this,Rn,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!Z(this,ks,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Z(this,so,"f").call(this,s),Z(this,oo,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!Z(this,ks,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Z(this,so,"f").call(this,s),Z(this,oo,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",Z(this,jt,"m",Xd).call(this))}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Z(this,jt,"m",Yd).call(this),this._connected(null);const s=xn.fromReadableStream(t,this.controller);for await(const o of s)Z(this,jt,"m",Zd).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new tn;Z(this,jt,"m",ef).call(this)}[(er=new WeakMap,ro=new WeakMap,Sl=new WeakMap,so=new WeakMap,io=new WeakMap,Cl=new WeakMap,oo=new WeakMap,Rn=new WeakMap,ao=new WeakMap,El=new WeakMap,kl=new WeakMap,ks=new WeakMap,Pl=new WeakMap,Il=new WeakMap,Jd=new WeakMap,jt=new WeakSet,Xd=function(){if(this.receivedMessages.length===0)throw new ne("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Uv=function(){if(this.receivedMessages.length===0)throw new ne("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new ne("stream ended without producing a content block with type=text");return n.join(" ")},Yd=function(){this.ended||Je(this,er,void 0,"f")},Zd=function(n){if(this.ended)return;const r=Z(this,jt,"m",Bv).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{s.type==="tool_use"&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Je(this,er,r,"f");break}}},ef=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");const n=Z(this,er,"f");if(!n)throw new ne("request ended without sending any chunks");return Je(this,er,void 0,"f"),n},Bv=function(n){let r=Z(this,er,"f");if(n.type==="message_start"){if(r)throw new ne(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new ne(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(s.text+=n.delta.text);break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(s.citations??(s.citations=[]),s.citations.push(n.delta.citation));break}case"input_json_delta":{if((s==null?void 0:s.type)==="tool_use"){let i=s[zv]||"";i+=n.delta.partial_json,Object.defineProperty(s,zv,{value:i,enumerable:!1,writable:!0}),i&&(s.input=Z1(i))}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(s.thinking+=n.delta.thinking);break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(s.signature=n.delta.signature);break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new xn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class Uu extends Lr{constructor(){super(...arguments),this.batches=new $m(this._client)}create(t,n){return t.model in Hv&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${Hv[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:t,timeout:this._client._options.timeout??(t.stream?6e5:this._client._calculateNonstreamingTimeout(t.max_tokens)),...n,stream:t.stream??!1})}stream(t,n){return $c.createMessage(this,t,n)}countTokens(t,n){return this._client.post("/v1/messages/count_tokens",{body:t,...n})}}const Hv={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};Uu.Batches=$m;Uu.MessageBatchesPage=Lm;class Um extends Lr{retrieve(t,n){return this._client.get(`/v1/models/${t}`,n)}list(t={},n){return cr(t)?this.list({},t):this._client.getAPIList("/v1/models",Bm,{query:t,...n})}}class Bm extends Du{}Um.ModelInfosPage=Bm;var tC;class pe extends AM{constructor({baseURL:t=Wd("ANTHROPIC_BASE_URL"),apiKey:n=Wd("ANTHROPIC_API_KEY")??null,authToken:r=Wd("ANTHROPIC_AUTH_TOKEN")??null,...s}={}){const i={apiKey:n,authToken:r,...s,baseURL:t||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&BM())throw new ne(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new eC(this),this.messages=new Uu(this),this.models=new Um(this),this.beta=new Ia(this),this._options=i,this.apiKey=n,this.authToken=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(t,n){if(!(this.apiKey&&t["x-api-key"])&&n["x-api-key"]!==null&&!(this.authToken&&t.authorization)&&n.authorization!==null)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(t){const n=this.apiKeyAuth(t),r=this.bearerAuth(t);return n!=null&&!Fc(n)?n:r!=null&&!Fc(r)?r:{}}apiKeyAuth(t){return this.apiKey==null?{}:{"X-Api-Key":this.apiKey}}bearerAuth(t){return this.authToken==null?{}:{Authorization:`Bearer ${this.authToken}`}}}tC=pe;pe.Anthropic=tC;pe.HUMAN_PROMPT=`

Human:`;pe.AI_PROMPT=`

Assistant:`;pe.DEFAULT_TIMEOUT=6e5;pe.AnthropicError=ne;pe.APIError=it;pe.APIConnectionError=Mu;pe.APIConnectionTimeoutError=U1;pe.APIUserAbortError=tn;pe.NotFoundError=W1;pe.ConflictError=V1;pe.RateLimitError=K1;pe.BadRequestError=B1;pe.AuthenticationError=z1;pe.InternalServerError=q1;pe.PermissionDeniedError=H1;pe.UnprocessableEntityError=G1;pe.toFile=_M;pe.fileFromPath=L1;pe.Completions=eC;pe.Messages=Uu;pe.Models=Um;pe.ModelInfosPage=Bm;pe.Beta=Ia;const{HUMAN_PROMPT:Gj,AI_PROMPT:Kj}=pe,Ps="anthropic";function GM(){const[e,t]=y.useState(""),[n,r]=y.useState(Ps),[s,i]=y.useState(null);y.useEffect(()=>{console.log(": API");{console.log(" : APIanthropic"),localStorage.setItem("ai_provider",Ps),r(Ps);const l=localStorage.getItem(`ai_api_key_${Ps}`),c=localStorage.getItem("ai_api_key");l?t(l):c&&t(c);return}},[]),y.useEffect(()=>{if(!e){i(null);return}if(n==="openai"){const l=new Q({apiKey:e,dangerouslyAllowBrowser:!0});i({openai:l,provider:"openai"})}else if(n==="google25"){const l=new uM(e);i({google:l,provider:n})}else if(n==="anthropic"){const l=new pe({apiKey:e,dangerouslyAllowBrowser:!0});i({anthropic:l,provider:"anthropic"})}},[e,n]);const o=y.useCallback(l=>{l.preventDefault();const c=`ai_api_key_${n}`;e?(localStorage.setItem(c,e),localStorage.setItem("ai_api_key",e),localStorage.setItem("ai_provider",n)):(localStorage.removeItem(c),localStorage.removeItem("ai_api_key"))},[e,n]),a=y.useCallback(()=>{console.log(" APIAPI"),t(""),localStorage.removeItem(`ai_api_key_${n}`),localStorage.removeItem("ai_api_key"),r(Ps),localStorage.setItem("ai_provider",Ps),i(null)},[n]);return{aiClient:s,apiKey:e,apiProvider:n,setApiKey:t,setApiProvider:r,handleApiKeySubmit:o,handleApiKeyDelete:a,isClientReady:!!s}}function KM({midiData:e,currentFileName:t,language:n,songTitle:r,songMood:s,customPrompt:i,setCustomPrompt:o,setShowPromptPreview:a,customTempLyrics:l=""}){const[c,h]=y.useState(""),[d,u]=y.useState(!1),[g,b]=y.useState(null),[m,x]=y.useState([]),[v,p]=y.useState(-1),[w,_]=y.useState(!1),[S,E]=y.useState(""),{aiClient:C,apiKey:k,apiProvider:A,setApiKey:R,setApiProvider:M,handleApiKeySubmit:j,handleApiKeyDelete:z}=GM();y.useEffect(()=>{var N;if(c&&(m.length===0||((N=m[v])==null?void 0:N.lyrics)!==c)){const F=[...m.slice(0,v+1),{lyrics:c,timestamp:Date.now()}];x(F),p(F.length-1)}},[c,m,v]),y.useEffect(()=>{t&&(x([]),p(-1))},[t]);const O=y.useCallback(N=>{const F=N.notes.slice(0,20).map(_e=>`${_e.name}(${_e.duration.toFixed(2)}s)`).join(", "),D={veryShort:0,short:0,eighth:0,quarter:0,half:0,whole:0},G=[];N.notes.forEach(_e=>{const te=_e.duration;te<=.125?(D.veryShort++,G.push("")):te<=.25?(D.short++,G.push("")):te<=.5?(D.eighth++,G.push("")):te<=1?(D.quarter++,G.push("")):te<=2?(D.half++,G.push("")):(D.whole++,G.push(""))});const ce=[];let le=[];G.forEach((_e,te)=>{le.push(_e),((te+1)%4===0||te===G.length-1)&&(ce.push(le.join(",")),le=[])});let be=ce.join("  ");l&&l.trim()&&(be=l);const ge=s&&s!=="none"?s:"",H=n==="ja"?`MIDI
: ${r||""}
: ${ge}
: `:`You are a professional lyricist. Based on the analysis information of the provided MIDI file, please generate lyrics that perfectly match the melody.
Song title: ${r||"Not specified"}
Song mood: ${s&&s!=="none"?s:"Not specified"}
Lyrics language: English`,J=n==="ja"?`

:
: ${r||""}
: ${ge}

:
32: ${D.veryShort}
16: ${D.short}
8: ${D.eighth}
4: ${D.quarter}
2: ${D.half}
: ${D.whole}


1. :
   - ${N.noteCount}
   - 11
   - 

2. :
   - 32: 1
   - 16: 1
   - 8: 1
   - 4: 2
   - 2: 2
   - : 2

3. :
   - 
   - 
   - 
   - 
   - 

4. :
   
   (,)

:
- 8: 
- 4: 
- 2: 
- 1: 
- (,)

:
${be}

 (): ${F}

:
- 
- ${r?`${r}`:""}
- ${s&&s!=="none"?`${s}`:""}
- 
- `:`Please generate lyrics that perfectly match the note pattern.

Song settings:
Title: ${r||"Not specified"}
Mood: ${s&&s!=="none"?s:"Not specified"}

Note pattern details:
32nd notes and shorter: ${D.veryShort}
16th notes: ${D.short}
8th notes: ${D.eighth}
Quarter notes: ${D.quarter}
Half notes: ${D.half}
Whole notes and longer: ${D.whole}

Absolute constraints:
1. Strict matching of note count:
   - Generate syllables that correspond to ${N.noteCount} notes
   - Basically use 1 syllable per note
   - Maximum number of syllables changes according to note length

2. Strict correspondence between note length and number of syllables:
   - 32nd notes and shorter: 1 syllable only
   - 16th notes: 1 syllable only
   - 8th notes: 1 syllable only
   - Quarter notes: maximum 2 syllables
   - Half notes: maximum 2 syllables
   - Whole notes and longer: maximum 2 syllables

3. Expression and format:
   - Do not include unnecessary explanations, preambles, or comments
   - Do not add extra characters or spaces
   - Maintain a natural flow of English
   - Do not consider previous generation results
   - Make the content match the title and song mood

4. Note pattern order and phrase grouping:
   Please generate lyrics according to the following note pattern.
   If separated by commas (,), treat them as one phrase.

Temporary lyrics notation rules:
- Short notes (eighth notes and shorter): "la"
- Quarter notes: "la-"
- Half notes and longer: "la--"
- Rests longer than one beat: "_" (placed after the previous phrase)
- Commas (,) indicate breaks between melody and lyric phrases, and notes separated by commas are treated as one phrase

Current phrase grouping:
${be}

Initial note sequence (partial): ${F}

Instructions:
- Create natural lyrics that match the rhythm and length of the notes in the melody.
- ${r?`Consider the song title "${r}".`:""}
- ${s&&s!=="none"?`Reflect the mood "${s}" in the lyrics.`:""}
- Generate the lyrics in English.
- Output only the lyrics, no explanations or preambles are needed.`;return{systemPrompt:H,userPrompt:J}},[n,r,s,l]),L=N=>{const F=N==="back"?Math.max(0,v-1):Math.min(m.length-1,v+1);F!==v&&(p(F),h(m[F].lyrics))},U=y.useCallback(()=>{c&&navigator.clipboard.writeText(c).then(()=>{_(!0),setTimeout(()=>{_(!1)},2e3)}).catch(N=>{console.error(":",N),b("")})},[c]),W=async(N=!1)=>{if(!e){b("MIDI");return}const F=O(e),D=N?i:F.systemPrompt,G=F.userPrompt;if(!N){o(D),a(!0);return}if(N&&!i&&o(D),!C){b("API");return}u(!0),b(null);try{console.log("AI:",{provider:A,systemContent:D,userContent:G});let ce="";if(A==="openai"&&C.openai){const le=await C.openai.chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:D},{role:"user",content:G}],temperature:.7,max_tokens:1500});console.log("OpenAI:",le),ce=le.choices[0].message.content||""}else if(A==="google25"&&C.google){const be=C.google.getGenerativeModel({model:"gemini-2.0-flash"}),ge=`${D}

${G}`,J=(await be.generateContent(ge)).response;console.log("Google AI:",J),ce=J.text()||""}else if(A==="anthropic"&&C.anthropic){const be=await C.anthropic.messages.create({model:"claude-3-7-sonnet-20250219",max_tokens:1024,messages:[{role:"user",content:`${D}

${G}`}]});if(console.log("Anthropic:",be),be.content&&be.content.length>0){const ge=be.content[0];ge.type==="text"&&(ce=ge.text||"")}}ce?h(ce.trim()):b("AI")}catch(ce){console.error("AI:",ce),b(`AI: ${ce.message||""}`)}finally{u(!1)}},P=y.useCallback(N=>{if(N){const F=O(N);E(F.userPrompt)}},[O]);return y.useEffect(()=>{e&&P(e)},[e,P]),{lyrics:c,error:g,isGeneratingAI:d,lyricsHistory:m,currentHistoryIndex:v,isCopied:w,apiKey:k,setApiKey:R,apiProvider:A,setApiProvider:M,generateAILyrics:W,navigateHistory:L,copyLyrics:U,handleApiKeySubmit:j,handleApiKeyDelete:z,currentUserPrompt:S}}function Wv({className:e="",slot:t,format:n="auto",responsive:r=!0}){const s=y.useRef(null);y.useEffect(()=>{try{s.current&&typeof window<"u"&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(o){console.error("AdSense error:",o)}},[]);const i=n==="horizontal"?{display:"block",maxWidth:"100%",height:"90px",overflow:"hidden"}:n==="rectangle"?{display:"inline-block",maxWidth:"100%",height:"250px",overflow:"hidden"}:n==="vertical"?{display:"inline-block",maxWidth:"100%",height:"600px",overflow:"hidden"}:{display:"block",maxWidth:"100%",overflow:"hidden"};return f.jsxs("div",{ref:s,className:`ad-container p-2 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg ${e}`,"data-testid":"ad-container",children:[f.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Advertisement"}),f.jsx("ins",{className:"adsbygoogle",style:i,"data-ad-client":"ca-pub-8761387357073771","data-ad-slot":"1485764027","data-ad-format":"auto","data-full-width-responsive":"true"})]})}const qM={ja:["","","","","","","","","","","",""],en:["Cheerful","Melancholic","Intense","Calm","Romantic","Energetic","Sad","Hopeful","Danceable","Mysterious","Emotional","Powerful"]};function QM(){y.useEffect(()=>{try{const J=localStorage.getItem("ai_provider");console.log(`MidiLyricsGeneratorlocalStorage: ai_provider=${J}`),J||(console.log(" APIantrhopic"),localStorage.setItem("ai_provider","anthropic"))}catch(J){console.error(":",J)}},[]);const[e,t]=y.useState("ja"),[n,r]=y.useState("ja"),[s,i]=y.useState(!1),[o,a]=y.useState(!1),[l,c]=y.useState(""),[h,d]=y.useState(""),[u,g]=y.useState(""),[b,m]=y.useState(!1),[x,v]=y.useState(""),{midiData:p,currentFileName:w,isLoading:_,error:S,fileInputRef:E,analyzeMidi:C,resetState:k}=P2(),{lyrics:A,error:R,isGeneratingAI:M,lyricsHistory:j,currentHistoryIndex:z,isCopied:O,apiKey:L,setApiKey:U,apiProvider:W,setApiProvider:P,generateAILyrics:N,navigateHistory:F,copyLyrics:D,handleApiKeySubmit:G,handleApiKeyDelete:ce,currentUserPrompt:le}=KM({midiData:p,currentFileName:w,language:n,songTitle:l,songMood:h,customPrompt:u,setCustomPrompt:g,setShowPromptPreview:a,customTempLyrics:x}),be=S||R;y.useEffect(()=>{p?m(!0):(m(!1),v(""))},[p]);const ge=J=>{v(J)};y.useEffect(()=>{},[p,x]);const H=()=>{t(J=>J==="ja"?"en":"ja")};return f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[f.jsxs("header",{className:"mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-primary-600 dark:text-primary-400",children:f.jsx(Pp,{size:32})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"MIDI Lyrics Generator"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"inline-flex items-center p-2 text-sm font-medium text-center text-primary-700 bg-primary-50 rounded-lg dark:text-primary-400 dark:bg-gray-800",children:[f.jsx(BI,{className:"mr-2",size:20}),f.jsx("div",{className:"rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:f.jsx("button",{type:"button",onClick:H,className:"px-3 py-1 font-medium transition-colors bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:e==="ja"?"English":""})})]}),f.jsxs("div",{className:"inline-flex items-center p-2 text-sm font-medium text-center text-primary-700 bg-primary-50 rounded-lg dark:text-primary-400 dark:bg-gray-800",children:[f.jsx("span",{className:"mr-2",children:e==="ja"?"":"Lyrics Lang"}),f.jsxs("div",{className:"flex rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[f.jsx("button",{type:"button",onClick:()=>r("ja"),"aria-pressed":n==="ja",className:`px-3 py-1 transition-colors ${n==="ja"?"bg-primary-200 text-gray-900 font-semibold dark:bg-primary-900 dark:text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:"JA"}),f.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600"}),f.jsx("button",{type:"button",onClick:()=>r("en"),"aria-pressed":n==="en",className:`px-3 py-1 transition-colors ${n==="en"?"bg-primary-200 text-gray-900 font-semibold dark:bg-primary-900 dark:text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:"EN"})]})]}),f.jsx("button",{type:"button",onClick:()=>i(!0),className:"inline-flex items-center p-2 text-sm font-medium text-center text-gray-500 bg-white rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700",children:f.jsx(lb,{size:20})})]})]}),f.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-sm",children:[f.jsx("div",{className:"font-medium mb-2 text-blue-800 dark:text-blue-300",children:e==="ja"?"MIDI/":"Generate Japanese/English lyrics from MIDI files"}),f.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300",children:e==="ja"?f.jsxs(f.Fragment,{children:[f.jsx("li",{children:"MIDIAIA"}),f.jsxs("li",{children:["AI ",f.jsx("strong",{children:"Anthropic Claude 3.7 Sonnet"}),"",f.jsx("strong",{children:"OpenAI GPT-4o"})," ",f.jsx("strong",{children:"Google Gemini 2.0 Flash"})," API"]}),f.jsx("li",{children:""}),f.jsx("li",{className:"bg-yellow-100 dark:bg-yellow-800/30 p-2 rounded border border-yellow-200 dark:border-yellow-700 font-medium",children:"APIAI"})]}):f.jsxs(f.Fragment,{children:[f.jsx("li",{children:"Upload a MIDI file and generate lyrics that match the melody (Tip: For better results, create separate MIDI files for verse, chorus, etc.)"}),f.jsxs("li",{children:["Uses the latest AI models ",f.jsx("strong",{children:"Anthropic Claude 3.7 Sonnet"}),", ",f.jsx("strong",{children:"OpenAI GPT-4o"}),", or ",f.jsx("strong",{children:"Google Gemini 2.0 Flash"})," (set API key via settings button in the top-right)"]}),f.jsx("li",{children:"Create lyrics in both Japanese and English (switch language with the button in the top-right)"}),f.jsxs("li",{className:"bg-yellow-100 dark:bg-yellow-800/30 p-2 rounded border border-yellow-200 dark:border-yellow-700 font-medium",children:[f.jsx("strong",{children:"Important:"})," Even without an API key, you can generate and copy the prompts to use with other AI services"]})]})}),f.jsxs("div",{className:"mt-3 text-xs flex flex-wrap gap-3",children:[f.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),e==="ja"?`AI: ${W==="openai"?"OpenAI GPT-4o":W==="google25"?"Google Gemini 2.0 Flash":"Anthropic Claude 3.7 Sonnet"}`:`AI Model: ${W==="openai"?"OpenAI GPT-4o":W==="google25"?"Google Gemini 2.0 Flash":"Anthropic Claude 3.7 Sonnet"}`]}),f.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[f.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),e==="ja"?`: UI=${e==="ja"?"":""}, =${n==="ja"?"":""}`:`Current Settings: UI Lang=${e==="ja"?"Japanese":"English"}, Lyrics Lang=${n==="ja"?"Japanese":"English"}`]})]})]}),f.jsx("div",{className:"my-6",children:f.jsx(Wv,{className:"mx-auto"})})]}),f.jsx(LT,{midiData:p,onTempLyricsUpdate:ge,isVisible:b,currentFileName:w,language:e}),f.jsxs("main",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx(vT,{language:e,songTitle:l,songMood:h,midiData:p,currentFileName:w,fileInputRef:E,setSongTitle:c,setSongMood:d,analyzeMidi:C,resetState:k,generateAILyrics:N,moodOptions:qM}),f.jsx(bT,{lyrics:A,isLoading:_,isGeneratingAI:M,error:be,lyricsHistory:j,currentHistoryIndex:z,isCopied:O,navigateHistory:F,copyLyrics:D,language:e})]}),f.jsxs("div",{className:"mt-12 mb-8 max-w-4xl mx-auto",children:[f.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx($I,{size:20}),e==="ja"?"":"Frequently Asked Questions"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e==="ja"?"Q: APIAnthropic/OpenAI/Google":"Q: Where are the API keys (Anthropic/OpenAI/Google) stored?"}),f.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:e==="ja"?f.jsx("p",{children:"APIlocalStorage(1)  (2)  (3) / (4) APIAPI"}):f.jsx("p",{children:`API keys are stored in the browser's "localStorage". This has the following characteristics: (1) LocalStorage is saved within the browser and not sent to any server (2) It automatically loads when you open the app again in the same browser on the same device (3) It's not preserved across different browsers, devices, or when using private/incognito mode (4) It's deleted when browser history or cache is cleared. From a security perspective, API keys are stored only on the user's device and not on the app's server side, eliminating the risk of data leaks from the server. If using a public computer, it's recommended to delete the API key after use.`})})]}),f.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e==="ja"?"Q: MIDI":"Q: Where are uploaded MIDI files sent?"}),f.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:e==="ja"?f.jsx("p",{children:"MIDI(1)  (2) MIDI (3)  (4) MIDI (5) MIDIMIDI"}):f.jsx("p",{children:"Uploaded MIDI files are processed only within the browser and are not sent to any server. Specifically: (1) Files are loaded into the browser's memory (2) MIDI files are parsed and analyzed within the browser (3) Only the analysis results (number of notes, duration, pitch, etc.) are used within the app (4) The MIDI file itself is not saved and exists temporarily only in the browser's memory (5) When the browser is closed or the page is reloaded, the loaded MIDI data is erased. This system is designed with privacy and security in mind, ensuring that MIDI file data is never transmitted externally."})})]})]})]}),s&&f.jsx(DT,{apiKey:L,setApiKey:U,apiProvider:W,setApiProvider:P,onSubmit:G,onDelete:ce,onClose:()=>i(!1)}),o&&f.jsx($T,{customPrompt:u,userPrompt:le,setCustomPrompt:g,onGenerate:()=>{a(!1),N(!0)},onClose:()=>a(!1),apiKey:L,apiProvider:W,language:e}),f.jsx("div",{className:"mt-12 mb-6",children:f.jsx(Wv,{className:"mx-auto"})}),f.jsx("footer",{className:"mt-8 text-center text-gray-500 text-sm dark:text-gray-400",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," MIDI Lyrics Generator by Mayu. All rights reserved."]})})]})}function XM(){return f.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:f.jsx(QM,{})})}function JM(){return f.jsxs(oP,{children:[f.jsx(ry,{path:"/",component:XM}),f.jsx(ry,{component:TA})]})}function YM(){return f.jsxs(NP,{client:MP,children:[f.jsx(JM,{}),f.jsx(PA,{})]})}(function(){try{console.log(": ");const t=localStorage.getItem("ai_provider");!t||!["openai","google25","anthropic"].includes(t)?(console.log(`: API${t}anthropic`),localStorage.setItem("ai_provider","anthropic")):console.log(`: API: ${t}`)}catch(t){console.error(":",t)}})();hx(document.getElementById("root")).render(f.jsx(YM,{}));
