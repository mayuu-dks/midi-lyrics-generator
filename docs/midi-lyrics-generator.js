(function(Uo){typeof define=="function"&&define.amd?define(Uo):Uo()})(function(){"use strict";function Uo(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Tp={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=Symbol.for("react.element"),Eb=Symbol.for("react.portal"),Ib=Symbol.for("react.fragment"),Pb=Symbol.for("react.strict_mode"),Ab=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Rb=Symbol.for("react.context"),Tb=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Ob=Symbol.for("react.memo"),jb=Symbol.for("react.lazy"),Mp=Symbol.iterator;function $b(e){return e===null||typeof e!="object"?null:(e=Mp&&e[Mp]||e["@@iterator"],typeof e=="function"?e:null)}var Op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,$p={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Op}Wr.prototype.isReactComponent={},Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dp(){}Dp.prototype=Wr.prototype;function zc(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Op}var Wc=zc.prototype=new Dp;Wc.constructor=zc,jp(Wc,Wr.prototype),Wc.isPureReactComponent=!0;var Fp=Array.isArray,Lp=Object.prototype.hasOwnProperty,Hc={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function Bp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Lp.call(t,r)&&!Up.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ri,type:e,key:i,ref:o,props:s,_owner:Hc.current}}function Db(e,t){return{$$typeof:ri,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ri}function Fb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zp=/\/+/g;function Gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fb(""+e.key):t.toString(36)}function Bo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ri:case Eb:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Gc(o,0):r,Fp(s)?(n="",e!=null&&(n=e.replace(zp,"$&/")+"/"),Bo(s,t,n,"",function(c){return c})):s!=null&&(Vc(s)&&(s=Db(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Fp(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Gc(i,a);o+=Bo(i,t,n,l,s)}else if(l=$b(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Gc(i,a++),o+=Bo(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zo(e,t,n){if(e==null)return e;var r=[],s=0;return Bo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Lb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Wo={transition:null},Ub={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:Hc};function Wp(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:zo,forEach:function(e,t,n){zo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zo(e,function(){t++}),t},toArray:function(e){return zo(e,function(t){return t})||[]},only:function(e){if(!Vc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},Q.Component=Wr,Q.Fragment=Ib,Q.Profiler=Ab,Q.PureComponent=zc,Q.StrictMode=Pb,Q.Suspense=Mb,Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ub,Q.act=Wp,Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Hc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Lp.call(t,l)&&!Up.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ri,type:e.type,key:s,ref:i,props:r,_owner:o}},Q.createContext=function(e){return e={$$typeof:Rb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nb,_context:e},e.Consumer=e},Q.createElement=Bp,Q.createFactory=function(e){var t=Bp.bind(null,e);return t.type=e,t},Q.createRef=function(){return{current:null}},Q.forwardRef=function(e){return{$$typeof:Tb,render:e}},Q.isValidElement=Vc,Q.lazy=function(e){return{$$typeof:jb,_payload:{_status:-1,_result:e},_init:Lb}},Q.memo=function(e,t){return{$$typeof:Ob,type:e,compare:t===void 0?null:t}},Q.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}},Q.unstable_act=Wp,Q.useCallback=function(e,t){return Ze.current.useCallback(e,t)},Q.useContext=function(e){return Ze.current.useContext(e)},Q.useDebugValue=function(){},Q.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)},Q.useEffect=function(e,t){return Ze.current.useEffect(e,t)},Q.useId=function(){return Ze.current.useId()},Q.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)},Q.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)},Q.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)},Q.useMemo=function(e,t){return Ze.current.useMemo(e,t)},Q.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)},Q.useRef=function(e){return Ze.current.useRef(e)},Q.useState=function(e){return Ze.current.useState(e)},Q.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)},Q.useTransition=function(){return Ze.current.useTransition()},Q.version="18.3.1",Tp.exports=Q;var x=Tp.exports;const dn=Rp(x),Bb=Uo({__proto__:null,default:dn},[x]);var Kc={},Hp={exports:{}},ft={},Vp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,N){var M=I.length;I.push(N);e:for(;0<M;){var j=M-1>>>1,q=I[j];if(0<s(q,N))I[j]=N,I[M]=q,M=j;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var N=I[0],M=I.pop();if(M!==N){I[0]=M;e:for(var j=0,q=I.length,ge=q>>>1;j<ge;){var le=2*(j+1)-1,be=I[le],te=le+1,F=I[te];if(0>s(be,M))te<q&&0>s(F,be)?(I[j]=F,I[te]=M,j=te):(I[j]=be,I[le]=M,j=le);else if(te<q&&0>s(F,M))I[j]=F,I[te]=M,j=te;else break e}}return N}function s(I,N){var M=I.sortIndex-N.sortIndex;return M!==0?M:I.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,u=3,m=!1,v=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=I)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function b(I){if(g=!1,w(I),!v)if(n(l)!==null)v=!0,W(S);else{var N=n(c);N!==null&&G(b,N.startTime-I)}}function S(I,N){v=!1,g&&(g=!1,y(E),E=-1),m=!0;var M=u;try{for(w(N),d=n(l);d!==null&&(!(d.expirationTime>N)||I&&!T());){var j=d.callback;if(typeof j=="function"){d.callback=null,u=d.priorityLevel;var q=j(d.expirationTime<=N);N=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),w(N)}else r(l);d=n(l)}if(d!==null)var ge=!0;else{var le=n(c);le!==null&&G(b,le.startTime-N),ge=!1}return ge}finally{d=null,u=M,m=!1}}var k=!1,C=null,E=-1,P=5,A=-1;function T(){return!(e.unstable_now()-A<P)}function O(){if(C!==null){var I=e.unstable_now();A=I;var N=!0;try{N=C(!0,I)}finally{N?U():(k=!1,C=null)}}else k=!1}var U;if(typeof f=="function")U=function(){f(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=O,U=function(){z.postMessage(null)}}else U=function(){_(O,0)};function W(I){C=I,k||(k=!0,U())}function G(I,N){E=_(function(){I(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,W(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(u){case 1:case 2:case 3:var N=3;break;default:N=u}var M=u;u=N;try{return I()}finally{u=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=u;u=I;try{return N()}finally{u=M}},e.unstable_scheduleCallback=function(I,N,M){var j=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?j+M:j):M=j,I){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,I={id:h++,callback:N,priorityLevel:I,startTime:M,expirationTime:q,sortIndex:-1},M>j?(I.sortIndex=M,t(c,I),n(l)===null&&I===n(c)&&(g?(y(E),E=-1):g=!0,G(b,M-j))):(I.sortIndex=q,t(l,I),v||m||(v=!0,W(S))),I},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(I){var N=u;return function(){var M=u;u=N;try{return I.apply(this,arguments)}finally{u=M}}}})(Gp),Vp.exports=Gp;var zb=Vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=x,ht=zb;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kp=new Set,si={};function vr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(si[e]=t,e=0;e<t.length;e++)Kp.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,Hb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qp={},Xp={};function Vb(e){return qc.call(Xp,e)?!0:qc.call(qp,e)?!1:Hb.test(e)?Xp[e]=!0:(qp[e]=!0,!1)}function Gb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kb(e,t,n,r){if(t===null||typeof t>"u"||Gb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new et(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new et(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new et(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new et(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Fe[e]=new et(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Fe[e]=new et(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Fe[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xc=/[\-:]([a-z])/g;function Jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xc,Jc);Fe[t]=new et(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xc,Jc);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xc,Jc);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)}),Fe.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,n,r){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kb(t,n,s,r)&&(n=null),r||s===null?Vb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=Wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),Yp=Symbol.for("react.offscreen"),Zp=Symbol.iterator;function ii(e){return e===null||typeof e!="object"?null:(e=Zp&&e[Zp]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,su;function oi(e){if(su===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);su=t&&t[1]||""}return`
`+su+e}var iu=!1;function ou(e,t){if(!e||iu)return"";iu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{iu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oi(e):""}function qb(e){switch(e.tag){case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 2:case 15:return e=ou(e.type,!1),e;case 11:return e=ou(e.type.render,!1),e;case 1:return e=ou(e.type,!0),e;default:return""}}function au(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Vr:return"Portal";case Zc:return"Profiler";case Yc:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qp:return(e.displayName||"Context")+".Consumer";case Jp:return(e._context.displayName||"Context")+".Provider";case eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:au(e.type)||"Memo";case Rn:t=e._payload,e=e._init;try{return au(e(t))}catch{}}return null}function Xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return au(t);case 8:return t===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function em(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jb(e){var t=em(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=Jb(e))}function tm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=em(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lu(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rm(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function cu(e,t){rm(e,t);var n=Tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uu(e,t.type,n):t.hasOwnProperty("defaultValue")&&uu(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uu(e,t,n){(t!=="number"||Go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ai=Array.isArray;function Kr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function du(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function im(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ai(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tn(n)}}function om(e,t){var n=Tn(t.value),r=Tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function am(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ko,cm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qb=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(e){Qb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ci[t]=ci[e]})});function um(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ci.hasOwnProperty(e)&&ci[e]?(""+t).trim():t+"px"}function dm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=um(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Yb=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hu(e,t){if(t){if(Yb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function pu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yu=null,qr=null,Xr=null;function fm(e){if(e=Ri(e)){if(typeof yu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ga(t),yu(e.stateNode,e.type,t))}}function hm(e){qr?Xr?Xr.push(e):Xr=[e]:qr=e}function pm(){if(qr){var e=qr,t=Xr;if(Xr=qr=null,fm(e),t)for(e=0;e<t.length;e++)fm(t[e])}}function mm(e,t){return e(t)}function gm(){}var vu=!1;function ym(e,t,n){if(vu)return e(t,n);vu=!0;try{return mm(e,t,n)}finally{vu=!1,(qr!==null||Xr!==null)&&(gm(),pm())}}function ui(e,t){var n=e.stateNode;if(n===null)return null;var r=ga(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var wu=!1;if(fn)try{var di={};Object.defineProperty(di,"passive",{get:function(){wu=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{wu=!1}function Zb(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var fi=!1,qo=null,Xo=!1,xu=null,eS={onError:function(e){fi=!0,qo=e}};function tS(e,t,n,r,s,i,o,a,l){fi=!1,qo=null,Zb.apply(eS,arguments)}function nS(e,t,n,r,s,i,o,a,l){if(tS.apply(this,arguments),fi){if(fi){var c=qo;fi=!1,qo=null}else throw Error(R(198));Xo||(Xo=!0,xu=c)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wm(e){if(wr(e)!==e)throw Error(R(188))}function rS(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wm(s),e;if(i===r)return wm(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function xm(e){return e=rS(e),e!==null?_m(e):null}function _m(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_m(e);if(t!==null)return t;e=e.sibling}return null}var bm=ht.unstable_scheduleCallback,Sm=ht.unstable_cancelCallback,sS=ht.unstable_shouldYield,iS=ht.unstable_requestPaint,Ie=ht.unstable_now,oS=ht.unstable_getCurrentPriorityLevel,_u=ht.unstable_ImmediatePriority,Cm=ht.unstable_UserBlockingPriority,Jo=ht.unstable_NormalPriority,aS=ht.unstable_LowPriority,km=ht.unstable_IdlePriority,Qo=null,Xt=null;function lS(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Qo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:dS,cS=Math.log,uS=Math.LN2;function dS(e){return e>>>=0,e===0?32:31-(cS(e)/uS|0)|0}var Yo=64,Zo=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ea(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hi(a):(i&=o,i!==0&&(r=hi(i)))}else o=n&~s,o!==0?r=hi(o):i!==0&&(r=hi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),s=1<<n,r|=e[n],t&=~s;return r}function fS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ot(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=fS(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Em(){var e=Yo;return Yo<<=1,!(Yo&4194240)&&(Yo=64),e}function Su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function pS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Cu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var re=0;function Im(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pm,ku,Am,Nm,Rm,Eu=!1,ta=[],Mn=null,On=null,jn=null,mi=new Map,gi=new Map,$n=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tm(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function yi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ri(t),t!==null&&ku(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gS(e,t,n,r,s){switch(t){case"focusin":return Mn=yi(Mn,e,t,n,r,s),!0;case"dragenter":return On=yi(On,e,t,n,r,s),!0;case"mouseover":return jn=yi(jn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mi.set(i,yi(mi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gi.set(i,yi(gi.get(i)||null,e,t,n,r,s)),!0}return!1}function Mm(e){var t=xr(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=vm(n),t!==null){e.blockedOn=t,Rm(e.priority,function(){Am(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mu=r,n.target.dispatchEvent(r),mu=null}else return t=Ri(n),t!==null&&ku(t),e.blockedOn=n,!1;t.shift()}return!0}function Om(e,t,n){na(e)&&n.delete(t)}function yS(){Eu=!1,Mn!==null&&na(Mn)&&(Mn=null),On!==null&&na(On)&&(On=null),jn!==null&&na(jn)&&(jn=null),mi.forEach(Om),gi.forEach(Om)}function vi(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,yS)))}function wi(e){function t(s){return vi(s,e)}if(0<ta.length){vi(ta[0],e);for(var n=1;n<ta.length;n++){var r=ta[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&vi(Mn,e),On!==null&&vi(On,e),jn!==null&&vi(jn,e),mi.forEach(t),gi.forEach(t),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)Mm(n),n.blockedOn===null&&$n.shift()}var Jr=hn.ReactCurrentBatchConfig,ra=!0;function vS(e,t,n,r){var s=re,i=Jr.transition;Jr.transition=null;try{re=1,Iu(e,t,n,r)}finally{re=s,Jr.transition=i}}function wS(e,t,n,r){var s=re,i=Jr.transition;Jr.transition=null;try{re=4,Iu(e,t,n,r)}finally{re=s,Jr.transition=i}}function Iu(e,t,n,r){if(ra){var s=Pu(e,t,n,r);if(s===null)Vu(e,t,r,sa,n),Tm(e,r);else if(gS(s,e,t,n,r))r.stopPropagation();else if(Tm(e,r),t&4&&-1<mS.indexOf(e)){for(;s!==null;){var i=Ri(s);if(i!==null&&Pm(i),i=Pu(e,t,n,r),i===null&&Vu(e,t,r,sa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vu(e,t,r,null,n)}}var sa=null;function Pu(e,t,n,r){if(sa=null,e=gu(r),e=xr(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sa=e,null}function jm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oS()){case _u:return 1;case Cm:return 4;case Jo:case aS:return 16;case km:return 536870912;default:return 16}default:return 16}}var Dn=null,Au=null,ia=null;function $m(){if(ia)return ia;var e,t=Au,n=t.length,r,s="value"in Dn?Dn.value:Dn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ia=s.slice(e,1<r?1-r:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function aa(){return!0}function Dm(){return!1}function pt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?aa:Dm,this.isPropagationStopped=Dm,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=pt(Qr),xi=ye({},Qr,{view:0,detail:0}),xS=pt(xi),Ru,Tu,_i,la=ye({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Ru=e.screenX-_i.screenX,Tu=e.screenY-_i.screenY):Tu=Ru=0,_i=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Tu}}),Fm=pt(la),_S=ye({},la,{dataTransfer:0}),bS=pt(_S),SS=ye({},xi,{relatedTarget:0}),Mu=pt(SS),CS=ye({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=pt(CS),ES=ye({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IS=pt(ES),PS=ye({},Qr,{data:0}),Lm=pt(PS),AS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RS[e])?!!t[e]:!1}function Ou(){return TS}var MS=ye({},xi,{key:function(e){if(e.key){var t=AS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OS=pt(MS),jS=ye({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=pt(jS),$S=ye({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),DS=pt($S),FS=ye({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=pt(FS),US=ye({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BS=pt(US),zS=[9,13,27,32],ju=fn&&"CompositionEvent"in window,bi=null;fn&&"documentMode"in document&&(bi=document.documentMode);var WS=fn&&"TextEvent"in window&&!bi,Bm=fn&&(!ju||bi&&8<bi&&11>=bi),zm=" ",Wm=!1;function Hm(e,t){switch(e){case"keyup":return zS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function HS(e,t){switch(e){case"compositionend":return Vm(t);case"keypress":return t.which!==32?null:(Wm=!0,zm);case"textInput":return e=t.data,e===zm&&Wm?null:e;default:return null}}function VS(e,t){if(Yr)return e==="compositionend"||!ju&&Hm(e,t)?(e=$m(),ia=Au=Dn=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bm&&t.locale!=="ko"?null:t.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GS[e.type]:t==="textarea"}function Km(e,t,n,r){hm(r),t=ha(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Si=null,Ci=null;function KS(e){dg(e,0)}function ca(e){var t=rs(e);if(tm(t))return e}function qS(e,t){if(e==="change")return t}var qm=!1;if(fn){var $u;if(fn){var Du="oninput"in document;if(!Du){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Du=typeof Xm.oninput=="function"}$u=Du}else $u=!1;qm=$u&&(!document.documentMode||9<document.documentMode)}function Jm(){Si&&(Si.detachEvent("onpropertychange",Qm),Ci=Si=null)}function Qm(e){if(e.propertyName==="value"&&ca(Ci)){var t=[];Km(t,Ci,e,gu(e)),ym(KS,t)}}function XS(e,t,n){e==="focusin"?(Jm(),Si=t,Ci=n,Si.attachEvent("onpropertychange",Qm)):e==="focusout"&&Jm()}function JS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(Ci)}function QS(e,t){if(e==="click")return ca(t)}function YS(e,t){if(e==="input"||e==="change")return ca(t)}function ZS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:ZS;function ki(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qc.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zm(e,t){var n=Ym(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ym(n)}}function eg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tg(){for(var e=window,t=Go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Go(e.document)}return t}function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e1(e){var t=tg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eg(n.ownerDocument.documentElement,n)){if(r!==null&&Fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Zm(n,i);var o=Zm(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t1=fn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Lu=null,Ei=null,Uu=!1;function ng(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||Zr==null||Zr!==Go(r)||(r=Zr,"selectionStart"in r&&Fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&ki(Ei,r)||(Ei=r,r=ha(Lu,"onSelect"),0<r.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zr)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},Bu={},rg={};fn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function da(e){if(Bu[e])return Bu[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rg)return Bu[e]=t[n];return e}var sg=da("animationend"),ig=da("animationiteration"),og=da("animationstart"),ag=da("transitionend"),lg=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){lg.set(e,t),vr(t,[e])}for(var zu=0;zu<cg.length;zu++){var Wu=cg[zu],n1=Wu.toLowerCase(),r1=Wu[0].toUpperCase()+Wu.slice(1);Fn(n1,"on"+r1)}Fn(sg,"onAnimationEnd"),Fn(ig,"onAnimationIteration"),Fn(og,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(ag,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function ug(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nS(r,t,void 0,e),e.currentTarget=null}function dg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ug(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ug(s,a,c),i=l}}}if(Xo)throw e=xu,Xo=!1,xu=null,e}function de(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(fg(t,e,2,!1),n.add(r))}function Hu(e,t,n){var r=0;t&&(r|=4),fg(n,e,r,t)}var fa="_reactListening"+Math.random().toString(36).slice(2);function Pi(e){if(!e[fa]){e[fa]=!0,Kp.forEach(function(n){n!=="selectionchange"&&(s1.has(n)||Hu(n,!1,e),Hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fa]||(t[fa]=!0,Hu("selectionchange",!1,t))}}function fg(e,t,n,r){switch(jm(t)){case 1:var s=vS;break;case 4:s=wS;break;default:s=Iu}n=s.bind(null,t,n,e),s=void 0,!wu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ym(function(){var c=i,h=gu(n),d=[];e:{var u=lg.get(e);if(u!==void 0){var m=Nu,v=e;switch(e){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":m=OS;break;case"focusin":v="focus",m=Mu;break;case"focusout":v="blur",m=Mu;break;case"beforeblur":case"afterblur":m=Mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DS;break;case sg:case ig:case og:m=kS;break;case ag:m=LS;break;case"scroll":m=xS;break;case"wheel":m=BS;break;case"copy":case"cut":case"paste":m=IS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Um}var g=(t&4)!==0,_=!g&&e==="scroll",y=g?u!==null?u+"Capture":null:u;g=[];for(var f=c,w;f!==null;){w=f;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=ui(f,y),b!=null&&g.push(Ai(f,b,w)))),_)break;f=f.return}0<g.length&&(u=new m(u,v,null,n,h),d.push({event:u,listeners:g}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",u&&n!==mu&&(v=n.relatedTarget||n.fromElement)&&(xr(v)||v[pn]))break e;if((m||u)&&(u=h.window===h?h:(u=h.ownerDocument)?u.defaultView||u.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?xr(v):null,v!==null&&(_=wr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=Fm,b="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=Um,b="onPointerLeave",y="onPointerEnter",f="pointer"),_=m==null?u:rs(m),w=v==null?u:rs(v),u=new g(b,f+"leave",m,n,h),u.target=_,u.relatedTarget=w,b=null,xr(h)===c&&(g=new g(y,f+"enter",v,n,h),g.target=w,g.relatedTarget=_,b=g),_=b,m&&v)t:{for(g=m,y=v,f=0,w=g;w;w=ts(w))f++;for(w=0,b=y;b;b=ts(b))w++;for(;0<f-w;)g=ts(g),f--;for(;0<w-f;)y=ts(y),w--;for(;f--;){if(g===y||y!==null&&g===y.alternate)break t;g=ts(g),y=ts(y)}g=null}else g=null;m!==null&&hg(d,u,m,g,!1),v!==null&&_!==null&&hg(d,_,v,g,!0)}}e:{if(u=c?rs(c):window,m=u.nodeName&&u.nodeName.toLowerCase(),m==="select"||m==="input"&&u.type==="file")var S=qS;else if(Gm(u))if(qm)S=YS;else{S=JS;var k=XS}else(m=u.nodeName)&&m.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=QS);if(S&&(S=S(e,c))){Km(d,S,n,h);break e}k&&k(e,u,c),e==="focusout"&&(k=u._wrapperState)&&k.controlled&&u.type==="number"&&uu(u,"number",u.value)}switch(k=c?rs(c):window,e){case"focusin":(Gm(k)||k.contentEditable==="true")&&(Zr=k,Lu=c,Ei=null);break;case"focusout":Ei=Lu=Zr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,ng(d,n,h);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":ng(d,n,h)}var C;if(ju)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yr?Hm(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Bm&&n.locale!=="ko"&&(Yr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yr&&(C=$m()):(Dn=h,Au="value"in Dn?Dn.value:Dn.textContent,Yr=!0)),k=ha(c,E),0<k.length&&(E=new Lm(E,e,null,n,h),d.push({event:E,listeners:k}),C?E.data=C:(C=Vm(n),C!==null&&(E.data=C)))),(C=WS?HS(e,n):VS(e,n))&&(c=ha(c,"onBeforeInput"),0<c.length&&(h=new Lm("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}dg(d,t)})}function Ai(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ha(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ui(e,n),i!=null&&r.unshift(Ai(e,i,s)),i=ui(e,t),i!=null&&r.push(Ai(e,i,s))),e=e.return}return r}function ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ui(n,i),l!=null&&o.unshift(Ai(n,l,a))):s||(l=ui(n,i),l!=null&&o.push(Ai(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var i1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function pg(e){return(typeof e=="string"?e:""+e).replace(i1,`
`).replace(o1,"")}function pa(e,t,n){if(t=pg(t),pg(e)!==t&&n)throw Error(R(425))}function ma(){}var Gu=null,Ku=null;function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(c1)}:Xu;function c1(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wi(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ns,Ni="__reactProps$"+ns,pn="__reactContainer$"+ns,Qu="__reactEvents$"+ns,u1="__reactListeners$"+ns,d1="__reactHandles$"+ns;function xr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gg(e);e!==null;){if(n=e[Jt])return n;e=gg(e)}return t}e=n,n=e.parentNode}return null}function Ri(e){return e=e[Jt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ga(e){return e[Ni]||null}var Yu=[],ss=-1;function Un(e){return{current:e}}function fe(e){0>ss||(e.current=Yu[ss],Yu[ss]=null,ss--)}function ce(e,t){ss++,Yu[ss]=e.current,e.current=t}var Bn={},We=Un(Bn),it=Un(!1),_r=Bn;function is(e,t){var n=e.type.contextTypes;if(!n)return Bn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ot(e){return e=e.childContextTypes,e!=null}function ya(){fe(it),fe(We)}function yg(e,t,n){if(We.current!==Bn)throw Error(R(168));ce(We,t),ce(it,n)}function vg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,Xb(e)||"Unknown",s));return ye({},n,r)}function va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bn,_r=We.current,ce(We,e),ce(it,it.current),!0}function wg(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=vg(e,t,_r),r.__reactInternalMemoizedMergedChildContext=e,fe(it),fe(We),ce(We,e)):fe(it),ce(it,n)}var mn=null,wa=!1,Zu=!1;function xg(e){mn===null?mn=[e]:mn.push(e)}function f1(e){wa=!0,xg(e)}function zn(){if(!Zu&&mn!==null){Zu=!0;var e=0,t=re;try{var n=mn;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mn=null,wa=!1}catch(s){throw mn!==null&&(mn=mn.slice(e+1)),bm(_u,zn),s}finally{re=t,Zu=!1}}return null}var os=[],as=0,xa=null,_a=0,kt=[],Et=0,br=null,gn=1,yn="";function Sr(e,t){os[as++]=_a,os[as++]=xa,xa=e,_a=t}function _g(e,t,n){kt[Et++]=gn,kt[Et++]=yn,kt[Et++]=br,br=e;var r=gn;e=yn;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var i=32-Ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gn=1<<32-Ot(t)+s|n<<s|r,yn=i+e}else gn=1<<i|n<<s|r,yn=e}function ed(e){e.return!==null&&(Sr(e,1),_g(e,1,0))}function td(e){for(;e===xa;)xa=os[--as],os[as]=null,_a=os[--as],os[as]=null;for(;e===br;)br=kt[--Et],kt[Et]=null,yn=kt[--Et],kt[Et]=null,gn=kt[--Et],kt[Et]=null}var mt=null,gt=null,me=!1,$t=null;function bg(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,gt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=br!==null?{id:gn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,gt=null,!0):!1;default:return!1}}function nd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rd(e){if(me){var t=gt;if(t){var n=t;if(!Sg(e,t)){if(nd(e))throw Error(R(418));t=Ln(n.nextSibling);var r=mt;t&&Sg(e,t)?bg(r,n):(e.flags=e.flags&-4097|2,me=!1,mt=e)}}else{if(nd(e))throw Error(R(418));e.flags=e.flags&-4097|2,me=!1,mt=e}}}function Cg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ba(e){if(e!==mt)return!1;if(!me)return Cg(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qu(e.type,e.memoizedProps)),t&&(t=gt)){if(nd(e))throw kg(),Error(R(418));for(;t;)bg(e,t),t=Ln(t.nextSibling)}if(Cg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=mt?Ln(e.stateNode.nextSibling):null;return!0}function kg(){for(var e=gt;e;)e=Ln(e.nextSibling)}function ls(){gt=mt=null,me=!1}function sd(e){$t===null?$t=[e]:$t.push(e)}var h1=hn.ReactCurrentBatchConfig;function Ti(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Sa(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eg(e){var t=e._init;return t(e._payload)}function Ig(e){function t(y,f){if(e){var w=y.deletions;w===null?(y.deletions=[f],y.flags|=16):w.push(f)}}function n(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function s(y,f){return y=Jn(y,f),y.index=0,y.sibling=null,y}function i(y,f,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<f?(y.flags|=2,f):w):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,f,w,b){return f===null||f.tag!==6?(f=Xd(w,y.mode,b),f.return=y,f):(f=s(f,w),f.return=y,f)}function l(y,f,w,b){var S=w.type;return S===Gr?h(y,f,w.props.children,b,w.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rn&&Eg(S)===f.type)?(b=s(f,w.props),b.ref=Ti(y,f,w),b.return=y,b):(b=Ka(w.type,w.key,w.props,null,y.mode,b),b.ref=Ti(y,f,w),b.return=y,b)}function c(y,f,w,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==w.containerInfo||f.stateNode.implementation!==w.implementation?(f=Jd(w,y.mode,b),f.return=y,f):(f=s(f,w.children||[]),f.return=y,f)}function h(y,f,w,b,S){return f===null||f.tag!==7?(f=Rr(w,y.mode,b,S),f.return=y,f):(f=s(f,w),f.return=y,f)}function d(y,f,w){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Xd(""+f,y.mode,w),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ho:return w=Ka(f.type,f.key,f.props,null,y.mode,w),w.ref=Ti(y,null,f),w.return=y,w;case Vr:return f=Jd(f,y.mode,w),f.return=y,f;case Rn:var b=f._init;return d(y,b(f._payload),w)}if(ai(f)||ii(f))return f=Rr(f,y.mode,w,null),f.return=y,f;Sa(y,f)}return null}function u(y,f,w,b){var S=f!==null?f.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(y,f,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ho:return w.key===S?l(y,f,w,b):null;case Vr:return w.key===S?c(y,f,w,b):null;case Rn:return S=w._init,u(y,f,S(w._payload),b)}if(ai(w)||ii(w))return S!==null?null:h(y,f,w,b,null);Sa(y,w)}return null}function m(y,f,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,a(f,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ho:return y=y.get(b.key===null?w:b.key)||null,l(f,y,b,S);case Vr:return y=y.get(b.key===null?w:b.key)||null,c(f,y,b,S);case Rn:var k=b._init;return m(y,f,w,k(b._payload),S)}if(ai(b)||ii(b))return y=y.get(w)||null,h(f,y,b,S,null);Sa(f,b)}return null}function v(y,f,w,b){for(var S=null,k=null,C=f,E=f=0,P=null;C!==null&&E<w.length;E++){C.index>E?(P=C,C=null):P=C.sibling;var A=u(y,C,w[E],b);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(y,C),f=i(A,f,E),k===null?S=A:k.sibling=A,k=A,C=P}if(E===w.length)return n(y,C),me&&Sr(y,E),S;if(C===null){for(;E<w.length;E++)C=d(y,w[E],b),C!==null&&(f=i(C,f,E),k===null?S=C:k.sibling=C,k=C);return me&&Sr(y,E),S}for(C=r(y,C);E<w.length;E++)P=m(C,y,E,w[E],b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?E:P.key),f=i(P,f,E),k===null?S=P:k.sibling=P,k=P);return e&&C.forEach(function(T){return t(y,T)}),me&&Sr(y,E),S}function g(y,f,w,b){var S=ii(w);if(typeof S!="function")throw Error(R(150));if(w=S.call(w),w==null)throw Error(R(151));for(var k=S=null,C=f,E=f=0,P=null,A=w.next();C!==null&&!A.done;E++,A=w.next()){C.index>E?(P=C,C=null):P=C.sibling;var T=u(y,C,A.value,b);if(T===null){C===null&&(C=P);break}e&&C&&T.alternate===null&&t(y,C),f=i(T,f,E),k===null?S=T:k.sibling=T,k=T,C=P}if(A.done)return n(y,C),me&&Sr(y,E),S;if(C===null){for(;!A.done;E++,A=w.next())A=d(y,A.value,b),A!==null&&(f=i(A,f,E),k===null?S=A:k.sibling=A,k=A);return me&&Sr(y,E),S}for(C=r(y,C);!A.done;E++,A=w.next())A=m(C,y,E,A.value,b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),f=i(A,f,E),k===null?S=A:k.sibling=A,k=A);return e&&C.forEach(function(O){return t(y,O)}),me&&Sr(y,E),S}function _(y,f,w,b){if(typeof w=="object"&&w!==null&&w.type===Gr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ho:e:{for(var S=w.key,k=f;k!==null;){if(k.key===S){if(S=w.type,S===Gr){if(k.tag===7){n(y,k.sibling),f=s(k,w.props.children),f.return=y,y=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rn&&Eg(S)===k.type){n(y,k.sibling),f=s(k,w.props),f.ref=Ti(y,k,w),f.return=y,y=f;break e}n(y,k);break}else t(y,k);k=k.sibling}w.type===Gr?(f=Rr(w.props.children,y.mode,b,w.key),f.return=y,y=f):(b=Ka(w.type,w.key,w.props,null,y.mode,b),b.ref=Ti(y,f,w),b.return=y,y=b)}return o(y);case Vr:e:{for(k=w.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===w.containerInfo&&f.stateNode.implementation===w.implementation){n(y,f.sibling),f=s(f,w.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else t(y,f);f=f.sibling}f=Jd(w,y.mode,b),f.return=y,y=f}return o(y);case Rn:return k=w._init,_(y,f,k(w._payload),b)}if(ai(w))return v(y,f,w,b);if(ii(w))return g(y,f,w,b);Sa(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,f!==null&&f.tag===6?(n(y,f.sibling),f=s(f,w),f.return=y,y=f):(n(y,f),f=Xd(w,y.mode,b),f.return=y,y=f),o(y)):n(y,f)}return _}var cs=Ig(!0),Pg=Ig(!1),Ca=Un(null),ka=null,us=null,id=null;function od(){id=us=ka=null}function ad(e){var t=Ca.current;fe(Ca),e._currentValue=t}function ld(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ds(e,t){ka=e,id=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(id!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(ka===null)throw Error(R(308));us=e,ka.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var Cr=null;function cd(e){Cr===null?Cr=[e]:Cr.push(e)}function Ag(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,cd(t)):(n.next=s.next,s.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,vn(e,n)}return s=r.interleaved,s===null?(t.next=t,cd(r)):(t.next=s.next,s.next=t),r.interleaved=t,vn(e,n)}function Ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cu(e,n)}}function Rg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ia(e,t,n,r){var s=e.updateQueue;Wn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var u=a.lane,m=a.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(u=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(m,d,u);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,u=typeof v=="function"?v.call(m,d,u):v,u==null)break e;d=ye({},d,u);break e;case 2:Wn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[a]:u.push(a))}else m={eventTime:m,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=u;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;u=a,a=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ir|=o,e.lanes=o,e.memoizedState=d}}function Tg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Mi={},Qt=Un(Mi),Oi=Un(Mi),ji=Un(Mi);function kr(e){if(e===Mi)throw Error(R(174));return e}function dd(e,t){switch(ce(ji,t),ce(Oi,e),ce(Qt,Mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fu(t,e)}fe(Qt),ce(Qt,t)}function fs(){fe(Qt),fe(Oi),fe(ji)}function Mg(e){kr(ji.current);var t=kr(Qt.current),n=fu(t,e.type);t!==n&&(ce(Oi,e),ce(Qt,n))}function fd(e){Oi.current===e&&(fe(Qt),fe(Oi))}var ve=Un(0);function Pa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hd=[];function pd(){for(var e=0;e<hd.length;e++)hd[e]._workInProgressVersionPrimary=null;hd.length=0}var Aa=hn.ReactCurrentDispatcher,md=hn.ReactCurrentBatchConfig,Er=0,we=null,Ne=null,je=null,Na=!1,$i=!1,Di=0,p1=0;function He(){throw Error(R(321))}function gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function yd(e,t,n,r,s,i){if(Er=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Aa.current=e===null||e.memoizedState===null?v1:w1,e=n(r,s),$i){i=0;do{if($i=!1,Di=0,25<=i)throw Error(R(301));i+=1,je=Ne=null,t.updateQueue=null,Aa.current=x1,e=n(r,s)}while($i)}if(Aa.current=Ma,t=Ne!==null&&Ne.next!==null,Er=0,je=Ne=we=null,Na=!1,t)throw Error(R(300));return e}function vd(){var e=Di!==0;return Di=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?we.memoizedState=je=e:je=je.next=e,je}function Pt(){if(Ne===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=je===null?we.memoizedState:je.next;if(t!==null)je=t,Ne=e;else{if(e===null)throw Error(R(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},je===null?we.memoizedState=je=e:je=je.next=e}return je}function Fi(e,t){return typeof t=="function"?t(e):t}function wd(e){var t=Pt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Er&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,we.lanes|=h,Ir|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,Ir|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xd(e){var t=Pt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);jt(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Og(){}function jg(e,t){var n=we,r=Pt(),s=t(),i=!jt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,_d(Fg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Li(9,Dg.bind(null,n,r,s,t),void 0,null),$e===null)throw Error(R(349));Er&30||$g(n,t,s)}return s}function $g(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dg(e,t,n,r){t.value=n,t.getSnapshot=r,Lg(t)&&Ug(e)}function Fg(e,t,n){return n(function(){Lg(t)&&Ug(e)})}function Lg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Ug(e){var t=vn(e,1);t!==null&&Ut(t,e,1,-1)}function Bg(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},t.queue=e,e=e.dispatch=y1.bind(null,we,e),[t.memoizedState,e]}function Li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zg(){return Pt().memoizedState}function Ra(e,t,n,r){var s=Yt();we.flags|=e,s.memoizedState=Li(1|t,n,void 0,r===void 0?null:r)}function Ta(e,t,n,r){var s=Pt();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var o=Ne.memoizedState;if(i=o.destroy,r!==null&&gd(r,o.deps)){s.memoizedState=Li(t,n,i,r);return}}we.flags|=e,s.memoizedState=Li(1|t,n,i,r)}function Wg(e,t){return Ra(8390656,8,e,t)}function _d(e,t){return Ta(2048,8,e,t)}function Hg(e,t){return Ta(4,2,e,t)}function Vg(e,t){return Ta(4,4,e,t)}function Gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kg(e,t,n){return n=n!=null?n.concat([e]):null,Ta(4,4,Gg.bind(null,t,e),n)}function bd(){}function qg(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xg(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jg(e,t,n){return Er&21?(jt(n,t)||(n=Em(),we.lanes|=n,Ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function m1(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=md.transition;md.transition={};try{e(!1),t()}finally{re=n,md.transition=r}}function Qg(){return Pt().memoizedState}function g1(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yg(e))Zg(t,n);else if(n=Ag(e,t,n,r),n!==null){var s=nt();Ut(n,e,r,s),ey(n,t,r)}}function y1(e,t,n){var r=qn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yg(e))Zg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=t.interleaved;l===null?(s.next=s,cd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Ag(e,t,s,r),n!==null&&(s=nt(),Ut(n,e,r,s),ey(n,t,r))}}function Yg(e){var t=e.alternate;return e===we||t!==null&&t===we}function Zg(e,t){$i=Na=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ey(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cu(e,n)}}var Ma={readContext:It,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},v1={readContext:It,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Wg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4194308,4,Gg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g1.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Bg,useDebugValue:bd,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Bg(!1),t=e[0];return e=m1.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Yt();if(me){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),$e===null)throw Error(R(349));Er&30||$g(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Wg(Fg.bind(null,r,i,e),[e]),r.flags|=2048,Li(9,Dg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yt(),t=$e.identifierPrefix;if(me){var n=yn,r=gn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Di++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w1={readContext:It,useCallback:qg,useContext:It,useEffect:_d,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:Vg,useMemo:Xg,useReducer:wd,useRef:zg,useState:function(){return wd(Fi)},useDebugValue:bd,useDeferredValue:function(e){var t=Pt();return Jg(t,Ne.memoizedState,e)},useTransition:function(){var e=wd(Fi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Og,useSyncExternalStore:jg,useId:Qg,unstable_isNewReconciler:!1},x1={readContext:It,useCallback:qg,useContext:It,useEffect:_d,useImperativeHandle:Kg,useInsertionEffect:Hg,useLayoutEffect:Vg,useMemo:Xg,useReducer:xd,useRef:zg,useState:function(){return xd(Fi)},useDebugValue:bd,useDeferredValue:function(e){var t=Pt();return Ne===null?t.memoizedState=e:Jg(t,Ne.memoizedState,e)},useTransition:function(){var e=xd(Fi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Og,useSyncExternalStore:jg,useId:Qg,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=qn(e),i=wn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Hn(e,i,s),t!==null&&(Ut(t,e,s,r),Ea(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=qn(e),i=wn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Hn(e,i,s),t!==null&&(Ut(t,e,s,r),Ea(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=qn(e),s=wn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Hn(e,s,r),t!==null&&(Ut(t,e,r,n),Ea(t,e,r))}};function ty(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ki(n,r)||!ki(s,i):!0}function ny(e,t,n){var r=!1,s=Bn,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=ot(t)?_r:We.current,r=t.contextTypes,i=(r=r!=null)?is(e,s):Bn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Cd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ud(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=ot(t)?_r:We.current,s.context=is(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sd(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oa.enqueueReplaceState(s,s.state,null),Ia(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hs(e,t){try{var n="",r=t;do n+=qb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function kd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ed(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _1=typeof WeakMap=="function"?WeakMap:Map;function sy(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,Bd=r),Ed(e,t)},n}function iy(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ed(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ed(e,t),typeof r!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function oy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=j1.bind(null,e,t,n),t.then(e,e))}function ay(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ly(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Hn(n,t,1))),n.lanes|=1),e)}var b1=hn.ReactCurrentOwner,at=!1;function tt(e,t,n,r){t.child=e===null?Pg(t,null,n,r):cs(t,e.child,n,r)}function cy(e,t,n,r,s){n=n.render;var i=t.ref;return ds(t,s),r=yd(e,t,n,r,i,s),n=vd(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(me&&n&&ed(t),t.flags|=1,tt(e,t,r,s),t.child)}function uy(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!qd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dy(e,t,i,r,s)):(e=Ka(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(o,r)&&e.ref===t.ref)return xn(e,t,s)}return t.flags|=1,e=Jn(i,r),e.ref=t.ref,e.return=t,t.child=e}function dy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ki(i,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,xn(e,t,s)}return Id(e,t,n,r,s)}function fy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ms,yt),yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(ms,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(ms,yt),yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(ms,yt),yt|=r;return tt(e,t,s,n),t.child}function hy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Id(e,t,n,r,s){var i=ot(n)?_r:We.current;return i=is(t,i),ds(t,s),n=yd(e,t,n,r,i,s),r=vd(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xn(e,t,s)):(me&&r&&ed(t),t.flags|=1,tt(e,t,n,s),t.child)}function py(e,t,n,r,s){if(ot(n)){var i=!0;va(t)}else i=!1;if(ds(t,s),t.stateNode===null)$a(e,t),ny(t,n,r),Cd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=It(c):(c=ot(n)?_r:We.current,c=is(t,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ry(t,o,r,c),Wn=!1;var u=t.memoizedState;o.state=u,Ia(t,r,o,s),l=t.memoizedState,a!==r||u!==l||it.current||Wn?(typeof h=="function"&&(Sd(t,n,h,r),l=t.memoizedState),(a=Wn||ty(t,n,a,r,u,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ng(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Dt(t.type,a),o.props=c,d=t.pendingProps,u=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=It(l):(l=ot(n)?_r:We.current,l=is(t,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||u!==l)&&ry(t,o,r,l),Wn=!1,u=t.memoizedState,o.state=u,Ia(t,r,o,s);var v=t.memoizedState;a!==d||u!==v||it.current||Wn?(typeof m=="function"&&(Sd(t,n,m,r),v=t.memoizedState),(c=Wn||ty(t,n,c,r,u,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Pd(e,t,n,r,i,s)}function Pd(e,t,n,r,s,i){hy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&wg(t,n,!1),xn(e,t,i);r=t.stateNode,b1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,i),t.child=cs(t,null,a,i)):tt(e,t,a,i),t.memoizedState=r.state,s&&wg(t,n,!0),t.child}function my(e){var t=e.stateNode;t.pendingContext?yg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yg(e,t.context,!1),dd(e,t.containerInfo)}function gy(e,t,n,r,s){return ls(),sd(s),t.flags|=256,tt(e,t,n,r),t.child}var Ad={dehydrated:null,treeContext:null,retryLane:0};function Nd(e){return{baseLanes:e,cachePool:null,transitions:null}}function yy(e,t,n){var r=t.pendingProps,s=ve.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ve,s&1),e===null)return rd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qa(o,r,0,null),e=Rr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nd(n),t.memoizedState=Ad,e):Rd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S1(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Jn(a,i):(i=Rr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Nd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ad,r}return i=e.child,e=i.sibling,r=Jn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rd(e,t){return t=qa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ja(e,t,n,r){return r!==null&&sd(r),cs(t,e.child,null,n),e=Rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=kd(Error(R(422))),ja(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=qa({mode:"visible",children:r.children},s,0,null),i=Rr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=Nd(o),t.memoizedState=Ad,i);if(!(t.mode&1))return ja(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=kd(i,r,void 0),ja(e,t,o,r)}if(a=(o&e.childLanes)!==0,at||a){if(r=$e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vn(e,s),Ut(r,e,s,-1))}return Kd(),r=kd(Error(R(421))),ja(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gt=Ln(s.nextSibling),mt=t,me=!0,$t=null,e!==null&&(kt[Et++]=gn,kt[Et++]=yn,kt[Et++]=br,gn=e.id,yn=e.overflow,br=t),t=Rd(t,r.children),t.flags|=4096,t)}function vy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ld(e.return,t,n)}function Td(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(tt(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vy(e,n,t);else if(e.tag===19)vy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Pa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Td(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Td(t,!0,n,null,i);break;case"together":Td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C1(e,t,n){switch(t.tag){case 3:my(t),ls();break;case 5:Mg(t);break;case 1:ot(t.type)&&va(t);break;case 4:dd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Ca,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?yy(e,t,n):(ce(ve,ve.current&1),e=xn(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,fy(e,t,n)}return xn(e,t,n)}var xy,Md,_y,by;xy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Md=function(){},_y=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,kr(Qt.current);var i=null;switch(n){case"input":s=lu(e,s),r=lu(e,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=du(e,s),r=du(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ma)}hu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(si.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(si.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},by=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ui(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k1(e,t,n){var r=t.pendingProps;switch(td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return ot(t.type)&&ya(),Ve(t),null;case 3:return r=t.stateNode,fs(),fe(it),fe(We),pd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ba(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(Hd($t),$t=null))),Md(e,t),Ve(t),null;case 5:fd(t);var s=kr(ji.current);if(n=t.type,e!==null&&t.stateNode!=null)_y(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Ve(t),null}if(e=kr(Qt.current),ba(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Jt]=t,r[Ni]=i,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<Ii.length;s++)de(Ii[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":nm(r,i),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},de("invalid",r);break;case"textarea":im(r,i),de("invalid",r)}hu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pa(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pa(r.textContent,a,e),s=["children",""+a]):si.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Vo(r),sm(r,i,!0);break;case"textarea":Vo(r),am(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ma)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Jt]=t,e[Ni]=r,xy(e,t,!1,!1),t.stateNode=e;e:{switch(o=pu(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ii.length;s++)de(Ii[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":nm(e,r),s=lu(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":im(e,r),s=du(e,r),de("invalid",e);break;default:s=r}hu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?dm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&li(e,l):typeof l=="number"&&li(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(si.hasOwnProperty(i)?l!=null&&i==="onScroll"&&de("scroll",e):l!=null&&Qc(e,i,l,o))}switch(n){case"input":Vo(e),sm(e,r,!1);break;case"textarea":Vo(e),am(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)by(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=kr(ji.current),kr(Qt.current),ba(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:pa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pa(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return Ve(t),null;case 13:if(fe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&gt!==null&&t.mode&1&&!(t.flags&128))kg(),ls(),t.flags|=98560,i=!1;else if(i=ba(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Jt]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),i=!1}else $t!==null&&(Hd($t),$t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Re===0&&(Re=3):Kd())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return fs(),Md(e,t),e===null&&Pi(t.stateNode.containerInfo),Ve(t),null;case 10:return ad(t.type._context),Ve(t),null;case 17:return ot(t.type)&&ya(),Ve(t),null;case 19:if(fe(ve),i=t.memoizedState,i===null)return Ve(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ui(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pa(e),o!==null){for(t.flags|=128,Ui(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>gs&&(t.flags|=128,r=!0,Ui(i,!1),t.lanes=4194304)}else{if(!r)if(e=Pa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return Ve(t),null}else 2*Ie()-i.renderingStartTime>gs&&n!==1073741824&&(t.flags|=128,r=!0,Ui(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return Gd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function E1(e,t){switch(td(t),t.tag){case 1:return ot(t.type)&&ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(),fe(it),fe(We),pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fd(t),null;case 13:if(fe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ve),null;case 4:return fs(),null;case 10:return ad(t.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Da=!1,Ge=!1,I1=typeof WeakSet=="function"?WeakSet:Set,$=null;function ps(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Od(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Sy=!1;function P1(e,t){if(Gu=ra,e=tg(),Fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=e,u=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)u=d,d=m;for(;;){if(d===e)break t;if(u===n&&++c===s&&(a=o),u===i&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=u,u=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},ra=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,_=v.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Dt(t.type,g),_);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){Ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=Sy,Sy=!1,v}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Od(t,n,i)}s=s.next}while(s!==r)}}function Fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cy(e){var t=e.alternate;t!==null&&(e.alternate=null,Cy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Ni],delete t[Qu],delete t[u1],delete t[d1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ky(e){return e.tag===5||e.tag===3||e.tag===4}function Ey(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ma));else if(r!==4&&(e=e.child,e!==null))for($d(e,t,n),e=e.sibling;e!==null;)$d(e,t,n),e=e.sibling}function Dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dd(e,t,n),e=e.sibling;e!==null;)Dd(e,t,n),e=e.sibling}var Le=null,Ft=!1;function Vn(e,t,n){for(n=n.child;n!==null;)Iy(e,t,n),n=n.sibling}function Iy(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Qo,n)}catch{}switch(n.tag){case 5:Ge||ps(n,t);case 6:var r=Le,s=Ft;Le=null,Vn(e,t,n),Le=r,Ft=s,Le!==null&&(Ft?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Ft?(e=Le,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),wi(e)):Ju(Le,n.stateNode));break;case 4:r=Le,s=Ft,Le=n.stateNode.containerInfo,Ft=!0,Vn(e,t,n),Le=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Od(n,t,o),s=s.next}while(s!==r)}Vn(e,t,n);break;case 1:if(!Ge&&(ps(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,Vn(e,t,n),Ge=r):Vn(e,t,n);break;default:Vn(e,t,n)}}function Py(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new I1),t.forEach(function(r){var s=D1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,Ft=!1;break e;case 3:Le=a.stateNode.containerInfo,Ft=!0;break e;case 4:Le=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Le===null)throw Error(R(160));Iy(i,o,s),Le=null,Ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ce(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ay(t,e),t=t.sibling}function Ay(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Zt(e),r&4){try{Bi(3,e,e.return),Fa(3,e)}catch(g){Ce(e,e.return,g)}try{Bi(5,e,e.return)}catch(g){Ce(e,e.return,g)}}break;case 1:Lt(t,e),Zt(e),r&512&&n!==null&&ps(n,n.return);break;case 5:if(Lt(t,e),Zt(e),r&512&&n!==null&&ps(n,n.return),e.flags&32){var s=e.stateNode;try{li(s,"")}catch(g){Ce(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rm(s,i),pu(a,o);var c=pu(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?dm(s,d):h==="dangerouslySetInnerHTML"?cm(s,d):h==="children"?li(s,d):Qc(s,h,d,c)}switch(a){case"input":cu(s,i);break;case"textarea":om(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Kr(s,!!i.multiple,m,!1):u!==!!i.multiple&&(i.defaultValue!=null?Kr(s,!!i.multiple,i.defaultValue,!0):Kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ni]=i}catch(g){Ce(e,e.return,g)}}break;case 6:if(Lt(t,e),Zt(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Ce(e,e.return,g)}}break;case 3:if(Lt(t,e),Zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(g){Ce(e,e.return,g)}break;case 4:Lt(t,e),Zt(e);break;case 13:Lt(t,e),Zt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ud=Ie())),r&4&&Py(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(c=Ge)||h,Lt(t,e),Ge=c):Lt(t,e),Zt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for($=e,h=e.child;h!==null;){for(d=$=h;$!==null;){switch(u=$,m=u.child,u.tag){case 0:case 11:case 14:case 15:Bi(4,u,u.return);break;case 1:ps(u,u.return);var v=u.stateNode;if(typeof v.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ce(r,n,g)}}break;case 5:ps(u,u.return);break;case 22:if(u.memoizedState!==null){Ty(d);continue}}m!==null?(m.return=u,$=m):Ty(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=um("display",o))}catch(g){Ce(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Ce(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(t,e),Zt(e),r&4&&Py(e);break;case 21:break;default:Lt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ky(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(li(s,""),r.flags&=-33);var i=Ey(e);Dd(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ey(e);$d(e,a,o);break;default:throw Error(R(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A1(e,t,n){$=e,Ny(e)}function Ny(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Da;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ge;a=Da;var c=Ge;if(Da=o,(Ge=l)&&!c)for($=s;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?My(s):l!==null?(l.return=o,$=l):My(s);for(;i!==null;)$=i,Ny(i),i=i.sibling;$=s,Da=a,Ge=c}Ry(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Ry(e)}}function Ry(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tg(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&wi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ge||t.flags&512&&jd(t)}catch(u){Ce(t,t.return,u)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Ty(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function My(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fa(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ce(t,s,l)}}var i=t.return;try{jd(t)}catch(l){Ce(t,i,l)}break;case 5:var o=t.return;try{jd(t)}catch(l){Ce(t,o,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var N1=Math.ceil,La=hn.ReactCurrentDispatcher,Fd=hn.ReactCurrentOwner,At=hn.ReactCurrentBatchConfig,ee=0,$e=null,Ae=null,Ue=0,yt=0,ms=Un(0),Re=0,zi=null,Ir=0,Ua=0,Ld=0,Wi=null,lt=null,Ud=0,gs=1/0,_n=null,Ba=!1,Bd=null,Gn=null,za=!1,Kn=null,Wa=0,Hi=0,zd=null,Ha=-1,Va=0;function nt(){return ee&6?Ie():Ha!==-1?Ha:Ha=Ie()}function qn(e){return e.mode&1?ee&2&&Ue!==0?Ue&-Ue:h1.transition!==null?(Va===0&&(Va=Em()),Va):(e=re,e!==0||(e=window.event,e=e===void 0?16:jm(e.type)),e):1}function Ut(e,t,n,r){if(50<Hi)throw Hi=0,zd=null,Error(R(185));pi(e,n,r),(!(ee&2)||e!==$e)&&(e===$e&&(!(ee&2)&&(Ua|=n),Re===4&&Xn(e,Ue)),ct(e,r),n===1&&ee===0&&!(t.mode&1)&&(gs=Ie()+500,wa&&zn()))}function ct(e,t){var n=e.callbackNode;hS(e,t);var r=ea(e,e===$e?Ue:0);if(r===0)n!==null&&Sm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sm(n),t===1)e.tag===0?f1(jy.bind(null,e)):xg(jy.bind(null,e)),l1(function(){!(ee&6)&&zn()}),n=null;else{switch(Im(r)){case 1:n=_u;break;case 4:n=Cm;break;case 16:n=Jo;break;case 536870912:n=km;break;default:n=Jo}n=Wy(n,Oy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oy(e,t){if(Ha=-1,Va=0,ee&6)throw Error(R(327));var n=e.callbackNode;if(ys()&&e.callbackNode!==n)return null;var r=ea(e,e===$e?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ga(e,r);else{t=r;var s=ee;ee|=2;var i=Dy();($e!==e||Ue!==t)&&(_n=null,gs=Ie()+500,Ar(e,t));do try{M1();break}catch(a){$y(e,a)}while(!0);od(),La.current=i,ee=s,Ae!==null?t=0:($e=null,Ue=0,t=Re)}if(t!==0){if(t===2&&(s=bu(e),s!==0&&(r=s,t=Wd(e,s))),t===1)throw n=zi,Ar(e,0),Xn(e,r),ct(e,Ie()),n;if(t===6)Xn(e,r);else{if(s=e.current.alternate,!(r&30)&&!R1(s)&&(t=Ga(e,r),t===2&&(i=bu(e),i!==0&&(r=i,t=Wd(e,i))),t===1))throw n=zi,Ar(e,0),Xn(e,r),ct(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Nr(e,lt,_n);break;case 3:if(Xn(e,r),(r&130023424)===r&&(t=Ud+500-Ie(),10<t)){if(ea(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xu(Nr.bind(null,e,lt,_n),t);break}Nr(e,lt,_n);break;case 4:if(Xn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ot(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N1(r/1960))-r,10<r){e.timeoutHandle=Xu(Nr.bind(null,e,lt,_n),r);break}Nr(e,lt,_n);break;case 5:Nr(e,lt,_n);break;default:throw Error(R(329))}}}return ct(e,Ie()),e.callbackNode===n?Oy.bind(null,e):null}function Wd(e,t){var n=Wi;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=Ga(e,t),e!==2&&(t=lt,lt=n,t!==null&&Hd(t)),e}function Hd(e){lt===null?lt=e:lt.push.apply(lt,e)}function R1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Ld,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function jy(e){if(ee&6)throw Error(R(327));ys();var t=ea(e,0);if(!(t&1))return ct(e,Ie()),null;var n=Ga(e,t);if(e.tag!==0&&n===2){var r=bu(e);r!==0&&(t=r,n=Wd(e,r))}if(n===1)throw n=zi,Ar(e,0),Xn(e,t),ct(e,Ie()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nr(e,lt,_n),ct(e,Ie()),null}function Vd(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(gs=Ie()+500,wa&&zn())}}function Pr(e){Kn!==null&&Kn.tag===0&&!(ee&6)&&ys();var t=ee;ee|=1;var n=At.transition,r=re;try{if(At.transition=null,re=1,e)return e()}finally{re=r,At.transition=n,ee=t,!(ee&6)&&zn()}}function Gd(){yt=ms.current,fe(ms)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a1(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ya();break;case 3:fs(),fe(it),fe(We),pd();break;case 5:fd(r);break;case 4:fs();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:ad(r.type._context);break;case 22:case 23:Gd()}n=n.return}if($e=e,Ae=e=Jn(e.current,null),Ue=yt=t,Re=0,zi=null,Ld=Ua=Ir=0,lt=Wi=null,Cr!==null){for(t=0;t<Cr.length;t++)if(n=Cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cr=null}return e}function $y(e,t){do{var n=Ae;try{if(od(),Aa.current=Ma,Na){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Na=!1}if(Er=0,je=Ne=we=null,$i=!1,Di=0,Fd.current=null,n===null||n.return===null){Re=1,zi=t,Ae=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var u=h.alternate;u?(h.updateQueue=u.updateQueue,h.memoizedState=u.memoizedState,h.lanes=u.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=ay(o);if(m!==null){m.flags&=-257,ly(m,o,a,i,t),m.mode&1&&oy(i,c,t),t=m,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){oy(i,c,t),Kd();break e}l=Error(R(426))}}else if(me&&a.mode&1){var _=ay(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ly(_,o,a,i,t),sd(hs(l,a));break e}}i=l=hs(l,a),Re!==4&&(Re=2),Wi===null?Wi=[i]:Wi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=sy(i,l,t);Rg(i,y);break e;case 1:a=l;var f=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gn===null||!Gn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=iy(i,a,t);Rg(i,b);break e}}i=i.return}while(i!==null)}Ly(n)}catch(S){t=S,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Dy(){var e=La.current;return La.current=Ma,e===null?Ma:e}function Kd(){(Re===0||Re===3||Re===2)&&(Re=4),$e===null||!(Ir&268435455)&&!(Ua&268435455)||Xn($e,Ue)}function Ga(e,t){var n=ee;ee|=2;var r=Dy();($e!==e||Ue!==t)&&(_n=null,Ar(e,t));do try{T1();break}catch(s){$y(e,s)}while(!0);if(od(),ee=n,La.current=r,Ae!==null)throw Error(R(261));return $e=null,Ue=0,Re}function T1(){for(;Ae!==null;)Fy(Ae)}function M1(){for(;Ae!==null&&!sS();)Fy(Ae)}function Fy(e){var t=zy(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Ly(e):Ae=t,Fd.current=null}function Ly(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E1(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ae=null;return}}else if(n=k1(n,t,yt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Re===0&&(Re=5)}function Nr(e,t,n){var r=re,s=At.transition;try{At.transition=null,re=1,O1(e,t,n,r)}finally{At.transition=s,re=r}return null}function O1(e,t,n,r){do ys();while(Kn!==null);if(ee&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pS(e,i),e===$e&&(Ae=$e=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||za||(za=!0,Wy(Jo,function(){return ys(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var o=re;re=1;var a=ee;ee|=4,Fd.current=null,P1(e,n),Ay(n,e),e1(Ku),ra=!!Gu,Ku=Gu=null,e.current=n,A1(n),iS(),ee=a,re=o,At.transition=i}else e.current=n;if(za&&(za=!1,Kn=e,Wa=s),i=e.pendingLanes,i===0&&(Gn=null),lS(n.stateNode),ct(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ba)throw Ba=!1,e=Bd,Bd=null,e;return Wa&1&&e.tag!==0&&ys(),i=e.pendingLanes,i&1?e===zd?Hi++:(Hi=0,zd=e):Hi=0,zn(),null}function ys(){if(Kn!==null){var e=Im(Wa),t=At.transition,n=re;try{if(At.transition=null,re=16>e?16:e,Kn===null)var r=!1;else{if(e=Kn,Kn=null,Wa=0,ee&6)throw Error(R(331));var s=ee;for(ee|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:Bi(8,h,i)}var d=h.child;if(d!==null)d.return=h,$=d;else for(;$!==null;){h=$;var u=h.sibling,m=h.return;if(Cy(h),h===c){$=null;break}if(u!==null){u.return=m,$=u;break}$=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,$=y;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$=w;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fa(9,a)}}catch(S){Ce(a,a.return,S)}if(a===o){$=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,$=b;break e}$=a.return}}if(ee=s,zn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Qo,e)}catch{}r=!0}return r}finally{re=n,At.transition=t}}return!1}function Uy(e,t,n){t=hs(n,t),t=sy(e,t,1),e=Hn(e,t,1),t=nt(),e!==null&&(pi(e,1,t),ct(e,t))}function Ce(e,t,n){if(e.tag===3)Uy(e,e,n);else for(;t!==null;){if(t.tag===3){Uy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){e=hs(n,e),e=iy(t,e,1),t=Hn(t,e,1),e=nt(),t!==null&&(pi(t,1,e),ct(t,e));break}}t=t.return}}function j1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ue&n)===n&&(Re===4||Re===3&&(Ue&130023424)===Ue&&500>Ie()-Ud?Ar(e,0):Ld|=n),ct(e,t)}function By(e,t){t===0&&(e.mode&1?(t=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):t=1);var n=nt();e=vn(e,t),e!==null&&(pi(e,t,n),ct(e,n))}function $1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),By(e,n)}function D1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),By(e,n)}var zy;zy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,C1(e,t,n);at=!!(e.flags&131072)}else at=!1,me&&t.flags&1048576&&_g(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var s=is(t,We.current);ds(t,n),s=yd(null,t,r,e,s,n);var i=vd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(i=!0,va(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ud(t),s.updater=Oa,t.stateNode=s,s._reactInternals=t,Cd(t,r,e,n),t=Pd(null,t,r,!0,i,n)):(t.tag=0,me&&i&&ed(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=L1(r),e=Dt(r,e),s){case 0:t=Id(null,t,r,e,n);break e;case 1:t=py(null,t,r,e,n);break e;case 11:t=cy(null,t,r,e,n);break e;case 14:t=uy(null,t,r,Dt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Id(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),py(e,t,r,s,n);case 3:e:{if(my(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ng(e,t),Ia(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hs(Error(R(423)),t),t=gy(e,t,r,n,s);break e}else if(r!==s){s=hs(Error(R(424)),t),t=gy(e,t,r,n,s);break e}else for(gt=Ln(t.stateNode.containerInfo.firstChild),mt=t,me=!0,$t=null,n=Pg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ls(),r===s){t=xn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return Mg(t),e===null&&rd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,qu(r,s)?o=null:i!==null&&qu(r,i)&&(t.flags|=32),hy(e,t),tt(e,t,o,n),t.child;case 6:return e===null&&rd(t),null;case 13:return yy(e,t,n);case 4:return dd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cs(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),cy(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Ca,r._currentValue),r._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===s.children&&!it.current){t=xn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ld(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ld(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ds(t,n),s=It(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=Dt(r,t.pendingProps),s=Dt(r.type,s),uy(e,t,r,s,n);case 15:return dy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),$a(e,t),t.tag=1,ot(r)?(e=!0,va(t)):e=!1,ds(t,n),ny(t,r,s),Cd(t,r,s,n),Pd(null,t,r,!0,e,n);case 19:return wy(e,t,n);case 22:return fy(e,t,n)}throw Error(R(156,t.tag))};function Wy(e,t){return bm(e,t)}function F1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new F1(e,t,n,r)}function qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L1(e){if(typeof e=="function")return qd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eu)return 11;if(e===ru)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ka(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")qd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gr:return Rr(n.children,s,i,t);case Yc:o=8,s|=8;break;case Zc:return e=Nt(12,n,t,s|2),e.elementType=Zc,e.lanes=i,e;case tu:return e=Nt(13,n,t,s),e.elementType=tu,e.lanes=i,e;case nu:return e=Nt(19,n,t,s),e.elementType=nu,e.lanes=i,e;case Yp:return qa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jp:o=10;break e;case Qp:o=9;break e;case eu:o=11;break e;case ru:o=14;break e;case Rn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Nt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Rr(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function qa(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Yp,e.lanes=n,e.stateNode={isHidden:!1},e}function Xd(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Jd(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qd(e,t,n,r,s,i,o,a,l){return e=new U1(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(i),e}function B1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hy(e){if(!e)return Bn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(ot(n))return vg(e,n,t)}return t}function Vy(e,t,n,r,s,i,o,a,l){return e=Qd(n,r,!0,e,s,i,o,a,l),e.context=Hy(null),n=e.current,r=nt(),s=qn(n),i=wn(r,s),i.callback=t??null,Hn(n,i,s),e.current.lanes=s,pi(e,s,r),ct(e,r),e}function Xa(e,t,n,r){var s=t.current,i=nt(),o=qn(s);return n=Hy(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hn(s,t,o),e!==null&&(Ut(e,s,o,i),Ea(e,s,o)),o}function Ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yd(e,t){Gy(e,t),(e=e.alternate)&&Gy(e,t)}function z1(){return null}var Ky=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zd(e){this._internalRoot=e}Qa.prototype.render=Zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Xa(e,t,null,null)},Qa.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){Xa(null,e,null,null)}),t[pn]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&Mm(e)}};function ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qy(){}function W1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ja(o);i.call(c)}}var o=Vy(t,r,e,0,null,!1,!1,"",qy);return e._reactRootContainer=o,e[pn]=o.current,Pi(e.nodeType===8?e.parentNode:e),Pr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ja(l);a.call(c)}}var l=Qd(e,0,!1,null,null,!1,!1,"",qy);return e._reactRootContainer=l,e[pn]=l.current,Pi(e.nodeType===8?e.parentNode:e),Pr(function(){Xa(t,l,n,r)}),l}function Za(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ja(o);a.call(l)}}Xa(t,o,e,s)}else o=W1(n,t,e,s,r);return Ja(o)}Pm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hi(t.pendingLanes);n!==0&&(Cu(t,n|1),ct(t,Ie()),!(ee&6)&&(gs=Ie()+500,zn()))}break;case 13:Pr(function(){var r=vn(e,1);if(r!==null){var s=nt();Ut(r,e,1,s)}}),Yd(e,1)}},ku=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=nt();Ut(t,e,134217728,n)}Yd(e,134217728)}},Am=function(e){if(e.tag===13){var t=qn(e),n=vn(e,t);if(n!==null){var r=nt();Ut(n,e,t,r)}Yd(e,t)}},Nm=function(){return re},Rm=function(e,t){var n=re;try{return re=e,t()}finally{re=n}},yu=function(e,t,n){switch(t){case"input":if(cu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ga(r);if(!s)throw Error(R(90));tm(r),cu(r,s)}}}break;case"textarea":om(e,n);break;case"select":t=n.value,t!=null&&Kr(e,!!n.multiple,t,!1)}},mm=Vd,gm=Pr;var H1={usingClientEntryPoint:!1,Events:[Ri,rs,ga,hm,pm,Vd]},Vi={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V1={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xm(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Qo=el.inject(V1),Xt=el}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(t))throw Error(R(200));return B1(e,t,null,n)},ft.createRoot=function(e,t){if(!ef(e))throw Error(R(299));var n=!1,r="",s=Ky;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qd(e,1,!1,null,null,n,!1,r,s),e[pn]=t.current,Pi(e.nodeType===8?e.parentNode:e),new Zd(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=xm(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Pr(e)},ft.hydrate=function(e,t,n){if(!Ya(t))throw Error(R(200));return Za(null,e,t,!0,n)},ft.hydrateRoot=function(e,t,n){if(!ef(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ky;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Vy(t,null,e,1,n??null,s,!1,i,o),e[pn]=t.current,Pi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qa(t)},ft.render=function(e,t,n){if(!Ya(t))throw Error(R(200));return Za(null,e,t,!1,n)},ft.unmountComponentAtNode=function(e){if(!Ya(e))throw Error(R(40));return e._reactRootContainer?(Pr(function(){Za(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1},ft.unstable_batchedUpdates=Vd,ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ya(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Za(e,t,n,!1,r)},ft.version="18.3.1-next-f1338f8080-20240426";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),Hp.exports=ft;var vs=Hp.exports;const G1=Rp(vs);var Jy=vs;Kc.createRoot=Jy.createRoot,Kc.hydrateRoot=Jy.hydrateRoot;var K1=Object.defineProperty,q1=(e,t,n)=>t in e?K1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tl=(e,t,n)=>q1(e,typeof t!="symbol"?t+"":t,n);const X1={stringify:e=>e?"true":"false",parse:e=>/^[ty1-9]/i.test(e)},J1={stringify:e=>e.name,parse:(e,t,n)=>{const r=(()=>{if(typeof window<"u"&&e in window)return window[e];if(typeof global<"u"&&e in global)return global[e]})();return typeof r=="function"?r.bind(n):void 0}},Q1={stringify:e=>JSON.stringify(e),parse:e=>JSON.parse(e)},Y1={stringify:e=>`${e}`,parse:e=>parseFloat(e)},Z1={stringify:e=>e,parse:e=>e},tf={string:Z1,number:Y1,boolean:X1,function:J1,json:Q1};function eC(e){return e.replace(/([a-z0-9])([A-Z])/g,(t,n,r)=>`${n}-${r.toLowerCase()}`)}const nl=Symbol.for("r2wc.render"),rl=Symbol.for("r2wc.connected"),Tr=Symbol.for("r2wc.context"),bn=Symbol.for("r2wc.props");function tC(e,t,n){var r,s,i;t.props||(t.props=e.propTypes?Object.keys(e.propTypes):[]),t.events||(t.events=[]);const o=Array.isArray(t.props)?t.props.slice():Object.keys(t.props),a=Array.isArray(t.events)?t.events.slice():Object.keys(t.events),l={},c={},h={},d={};for(const m of o){l[m]=Array.isArray(t.props)?"string":t.props[m];const v=eC(m);h[m]=v,d[v]=m}for(const m of a)c[m]=Array.isArray(t.events)?{}:t.events[m];class u extends HTMLElement{constructor(){super(),tl(this,i,!0),tl(this,s),tl(this,r,{}),tl(this,"container"),t.shadow?this.container=this.attachShadow({mode:t.shadow}):this.container=this,this[bn].container=this.container;for(const v of o){const g=h[v],_=this.getAttribute(g),y=l[v],f=y?tf[y]:null;f!=null&&f.parse&&_&&(this[bn][v]=f.parse(_,g,this))}for(const v of a)this[bn][v]=g=>{const _=v.replace(/^on/,"").toLowerCase();this.dispatchEvent(new CustomEvent(_,{detail:g,...c[v]}))}}static get observedAttributes(){return Object.keys(d)}connectedCallback(){this[rl]=!0,this[nl]()}disconnectedCallback(){this[rl]=!1,this[Tr]&&n.unmount(this[Tr]),delete this[Tr]}attributeChangedCallback(v,g,_){const y=d[v],f=l[y],w=f?tf[f]:null;y in l&&w!=null&&w.parse&&_&&(this[bn][y]=w.parse(_,v,this),this[nl]())}[(i=rl,s=Tr,r=bn,nl)](){this[rl]&&(this[Tr]?n.update(this[Tr],this[bn]):this[Tr]=n.mount(this.container,e,this[bn]))}}for(const m of o){const v=h[m],g=l[m];Object.defineProperty(u.prototype,m,{enumerable:!0,configurable:!0,get(){return this[bn][m]},set(_){this[bn][m]=_;const y=g?tf[g]:null;if(y!=null&&y.stringify){const f=y.stringify(_,v,this);this.getAttribute(v)!==f&&this.setAttribute(v,f)}else this[nl]()}})}return u}function nC(e,t,n,r={}){function s(a,l,c){const h=t.createElement(l,c);if("createRoot"in n){const d=n.createRoot(a);return d.render(h),{container:a,root:d,ReactComponent:l}}if("render"in n)return n.render(h,a),{container:a,ReactComponent:l};throw new Error("Invalid ReactDOM instance provided.")}function i({container:a,root:l,ReactComponent:c},h){const d=t.createElement(c,h);if(l){l.render(d);return}if("render"in n){n.render(d,a);return}}function o({container:a,root:l}){if(l){l.unmount();return}if("unmountComponentAtNode"in n){n.unmountComponentAtNode(a);return}}return tC(e,r,{mount:s,unmount:o,update:i})}var Qy={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=x,sC=Symbol.for("react.element"),iC=Symbol.for("react.fragment"),oC=Object.prototype.hasOwnProperty,aC=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lC={key:!0,ref:!0,__self:!0,__source:!0};function Yy(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)oC.call(t,r)&&!lC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sC,type:e,key:i,ref:o,props:s,_owner:aC.current}}sl.Fragment=iC,sl.jsx=Yy,sl.jsxs=Yy,Qy.exports=sl;var p=Qy.exports;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zy=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...uC,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zy("lucide",s),...a},[...o.map(([c,h])=>x.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(dC,{ref:i,iconNode:t,className:Zy(`lucide-${cC(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=xe("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=xe("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=xe("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=xe("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=xe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=xe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=xe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function sv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iv(...e){return t=>{let n=!1;const r=e.map(s=>{const i=sv(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sv(e[s],null)}}}}function Pe(...e){return x.useCallback(iv(...e),e)}function ws(e){const t=AC(e),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,a=x.Children.toArray(i),l=a.find(RC);if(l){const c=l.props.children,h=a.map(d=>d===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:d);return p.jsx(t,{...o,ref:s,children:x.isValidElement(c)?x.cloneElement(c,void 0,h):null})}return p.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var PC=ws("Slot");function AC(e){const t=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=MC(s),a=TC(i,s.props);return s.type!==x.Fragment&&(a.ref=r?iv(r,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NC=Symbol("radix.slottable");function RC(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NC}function TC(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function MC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ov(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ov(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function av(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ov(e))&&(r&&(r+=" "),r+=t);return r}const lv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cv=av,sf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return cv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],d=i==null?void 0:i[c];if(h===null)return null;const u=lv(h)||lv(d);return s[c][u]}),a=n&&Object.entries(n).reduce((c,h)=>{let[d,u]=h;return u===void 0||(c[d]=u),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:u,...m}=h;return Object.entries(m).every(v=>{let[g,_]=v;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...c,d,u]:c},[]);return cv(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},of="-",OC=e=>{const t=$C(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(of);return a[0]===""&&a.length!==1&&a.shift(),uv(a,t)||jC(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},uv=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?uv(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(of);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},dv=/^\[(.+)\]$/,jC=e=>{if(dv.test(e)){const t=dv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$C=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return FC(Object.entries(e.classGroups),n).forEach(([i,o])=>{af(o,r,i,t)}),r},af=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:fv(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(DC(s)){af(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{af(o,fv(t,i),n,r)})})},fv=(e,t)=>{let n=e;return t.split(of).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DC=e=>e.isThemeGetter,FC=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,LC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},hv="!",UC=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,h=0,d;for(let _=0;_<a.length;_++){let y=a[_];if(c===0){if(y===s&&(r||a.slice(_,_+i)===t)){l.push(a.slice(h,_)),h=_+i;continue}if(y==="/"){d=_;continue}}y==="["?c++:y==="]"&&c--}const u=l.length===0?a:a.substring(h),m=u.startsWith(hv),v=m?u.substring(1):u,g=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},BC=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},zC=e=>({cache:LC(e.cacheSize),parseClassName:UC(e),...OC(e)}),WC=/\s+/,HC=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(WC);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?u.substring(0,m):u);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(u),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const _=BC(h).join(":"),y=d?_+hv:_,f=y+g;if(i.includes(f))continue;i.push(f);const w=s(g,v);for(let b=0;b<w.length;++b){const S=w[b];i.push(y+S)}a=c+(a.length>0?" "+a:a)}return a};function VC(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=pv(t))&&(r&&(r+=" "),r+=n);return r}const pv=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=pv(e[r]))&&(n&&(n+=" "),n+=t);return n};function GC(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((h,d)=>d(h),e());return n=zC(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=HC(l,n);return s(l,h),h}return function(){return i(VC.apply(null,arguments))}}const he=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mv=/^\[(?:([a-z-]+):)?(.+)\]$/i,KC=/^\d+\/\d+$/,qC=new Set(["px","full","screen"]),XC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>xs(e)||qC.has(e)||KC.test(e),Qn=e=>_s(e,"length",ak),xs=e=>!!e&&!Number.isNaN(Number(e)),lf=e=>_s(e,"number",xs),Ki=e=>!!e&&Number.isInteger(Number(e)),ek=e=>e.endsWith("%")&&xs(e.slice(0,-1)),H=e=>mv.test(e),Yn=e=>XC.test(e),tk=new Set(["length","size","percentage"]),nk=e=>_s(e,tk,gv),rk=e=>_s(e,"position",gv),sk=new Set(["image","url"]),ik=e=>_s(e,sk,ck),ok=e=>_s(e,"",lk),qi=()=>!0,_s=(e,t,n)=>{const r=mv.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ak=e=>JC.test(e)&&!QC.test(e),gv=()=>!1,lk=e=>YC.test(e),ck=e=>ZC.test(e),uk=GC(()=>{const e=he("colors"),t=he("spacing"),n=he("blur"),r=he("brightness"),s=he("borderColor"),i=he("borderRadius"),o=he("borderSpacing"),a=he("borderWidth"),l=he("contrast"),c=he("grayscale"),h=he("hueRotate"),d=he("invert"),u=he("gap"),m=he("gradientColorStops"),v=he("gradientColorStopPositions"),g=he("inset"),_=he("margin"),y=he("opacity"),f=he("padding"),w=he("saturate"),b=he("scale"),S=he("sepia"),k=he("skew"),C=he("space"),E=he("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",H,t],O=()=>[H,t],U=()=>["",Sn,Qn],L=()=>["auto",xs,H],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",H],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[xs,H];return{cacheSize:500,separator:":",theme:{colors:[qi],spacing:[Sn,Qn],blur:["none","",Yn,H],brightness:j(),borderColor:[e],borderRadius:["none","","full",Yn,H],borderSpacing:O(),borderWidth:U(),contrast:j(),grayscale:N(),hueRotate:j(),invert:N(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[ek,Qn],inset:T(),margin:T(),opacity:j(),padding:O(),saturate:j(),scale:j(),sepia:N(),skew:j(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",H]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),H]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ki,H]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",H]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Ki,H]}],"grid-cols":[{"grid-cols":[qi]}],"col-start-end":[{col:["auto",{span:["full",Ki,H]},H]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[qi]}],"row-start-end":[{row:["auto",{span:[Ki,H]},H]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",H]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",H]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",H,t]}],"min-w":[{"min-w":[H,t,"min","max","fit"]}],"max-w":[{"max-w":[H,t,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[H,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[H,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[H,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[H,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lf]}],"font-family":[{font:[qi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",H]}],"line-clamp":[{"line-clamp":["none",xs,lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,H]}],"list-image":[{"list-image":["none",H]}],"list-style-type":[{list:["none","disc","decimal",H]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,Qn]}],"underline-offset":[{"underline-offset":["auto",Sn,H]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),rk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ik]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Sn,H]}],"outline-w":[{outline:[Sn,Qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Sn,Qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yn,ok]}],"shadow-color":[{shadow:[qi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Yn,H]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",H]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",H]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",H]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ki,H]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",H]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",H]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",H]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,Qn,lf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function ke(...e){return uk(av(e))}const dk=sf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ke=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?PC:"button";return p.jsx(o,{className:ke(dk({variant:t,size:n,className:e})),ref:i,...s})});Ke.displayName="Button";const cf=x.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));cf.displayName="Input";var fk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=fk.reduce((e,t)=>{const n=ws(`Primitive.${t}`),r=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hk(e,t){e&&vs.flushSync(()=>e.dispatchEvent(t))}var pk="Label",yv=x.forwardRef((e,t)=>p.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yv.displayName=pk;var vv=yv;const mk=sf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),en=x.forwardRef(({className:e,...t},n)=>p.jsx(vv,{ref:n,className:ke(mk(),e),...t}));en.displayName=vv.displayName;function wv(e,[t,n]){return Math.min(n,Math.max(t,e))}function pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function gk(e,t){const n=x.createContext(t),r=i=>{const{children:o,...a}=i,l=x.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function il(e,t=[]){let n=[];function r(i,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:u,children:m,...v}=d,g=((y=u==null?void 0:u[e])==null?void 0:y[l])||a,_=x.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:_,children:m})};c.displayName=i+"Provider";function h(d,u){var g;const m=((g=u==null?void 0:u[e])==null?void 0:g[l])||a,v=x.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,yk(s,...t)]}function yk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function vk(e){const t=e+"CollectionProvider",[n,r]=il(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:y}=g,f=dn.useRef(null),w=dn.useRef(new Map).current;return p.jsx(s,{scope:_,itemMap:w,collectionRef:f,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=ws(a),c=dn.forwardRef((g,_)=>{const{scope:y,children:f}=g,w=i(a,y),b=Pe(_,w.collectionRef);return p.jsx(l,{ref:b,children:f})});c.displayName=a;const h=e+"CollectionItemSlot",d="data-radix-collection-item",u=ws(h),m=dn.forwardRef((g,_)=>{const{scope:y,children:f,...w}=g,b=dn.useRef(null),S=Pe(_,b),k=i(h,y);return dn.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),p.jsx(u,{[d]:"",ref:S,children:f})});m.displayName=h;function v(g){const _=i(e+"CollectionConsumer",g);return dn.useCallback(()=>{const f=_.collectionRef.current;if(!f)return[];const w=Array.from(f.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((k,C)=>w.indexOf(k.ref.current)-w.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,r]}var wk=x.createContext(void 0);function xk(e){const t=x.useContext(wk);return e||t||"ltr"}function Cn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function _k(e,t=globalThis==null?void 0:globalThis.document){const n=Cn(e);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var bk="DismissableLayer",uf="dismissableLayer.update",Sk="dismissableLayer.pointerDownOutside",Ck="dismissableLayer.focusOutside",xv,_v=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),df=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=x.useContext(_v),[h,d]=x.useState(null),u=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Pe(t,C=>d(C)),g=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(_),f=h?g.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,b=f>=y,S=Ik(C=>{const E=C.target,P=[...c.branches].some(A=>A.contains(E));!b||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},u),k=Pk(C=>{const E=C.target;[...c.branches].some(A=>A.contains(E))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},u);return _k(C=>{f===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},u),x.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xv=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),bv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=xv)}},[h,u,n,c]),x.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),bv())},[h,c]),x.useEffect(()=>{const C=()=>m({});return document.addEventListener(uf,C),()=>document.removeEventListener(uf,C)},[]),p.jsx(ue.div,{...l,ref:v,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,S.onPointerDownCapture)})});df.displayName=bk;var kk="DismissableLayerBranch",Ek=x.forwardRef((e,t)=>{const n=x.useContext(_v),r=x.useRef(null),s=Pe(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(ue.div,{...e,ref:s})});Ek.displayName=kk;function Ik(e,t=globalThis==null?void 0:globalThis.document){const n=Cn(e),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Sv(Sk,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Pk(e,t=globalThis==null?void 0:globalThis.document){const n=Cn(e),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&Sv(Ck,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bv(){const e=new CustomEvent(uf);document.dispatchEvent(e)}function Sv(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?hk(s,i):s.dispatchEvent(i)}var ff=0;function Cv(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kv()),document.body.insertAdjacentElement("beforeend",e[1]??kv()),ff++,()=>{ff===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ff--}},[])}function kv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hf="focusScope.autoFocusOnMount",pf="focusScope.autoFocusOnUnmount",Ev={bubbles:!1,cancelable:!0},Ak="FocusScope",mf=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=x.useState(null),c=Cn(s),h=Cn(i),d=x.useRef(null),u=Pe(t,g=>l(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(w){if(m.paused||!a)return;const b=w.target;a.contains(b)?d.current=b:Zn(d.current,{select:!0})},_=function(w){if(m.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||Zn(d.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Zn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const f=new MutationObserver(y);return a&&f.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),f.disconnect()}}},[r,a,m.paused]),x.useEffect(()=>{if(a){Av.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(hf,Ev);a.addEventListener(hf,c),a.dispatchEvent(y),y.defaultPrevented||(Nk(jk(Iv(a)),{select:!0}),document.activeElement===g&&Zn(a))}return()=>{a.removeEventListener(hf,c),setTimeout(()=>{const y=new CustomEvent(pf,Ev);a.addEventListener(pf,h),a.dispatchEvent(y),y.defaultPrevented||Zn(g??document.body,{select:!0}),a.removeEventListener(pf,h),Av.remove(m)},0)}}},[a,c,h,m]);const v=x.useCallback(g=>{if(!n&&!r||m.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(_&&y){const f=g.currentTarget,[w,b]=Rk(f);w&&b?!g.shiftKey&&y===b?(g.preventDefault(),n&&Zn(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&Zn(b,{select:!0})):y===f&&g.preventDefault()}},[n,r,m.paused]);return p.jsx(ue.div,{tabIndex:-1,...o,ref:u,onKeyDown:v})});mf.displayName=Ak;function Nk(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Zn(r,{select:t}),document.activeElement!==n)return}function Rk(e){const t=Iv(e),n=Pv(t,e),r=Pv(t.reverse(),e);return[n,r]}function Iv(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pv(e,t){for(const n of e)if(!Tk(n,{upTo:t}))return n}function Tk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mk(e){return e instanceof HTMLInputElement&&"select"in e}function Zn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Mk(e)&&t&&e.select()}}var Av=Ok();function Ok(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Nv(e,t),e.unshift(t)},remove(t){var n;e=Nv(e,t),(n=e[0])==null||n.resume()}}}function Nv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jk(e){return e.filter(t=>t.tagName!=="A")}var rt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},$k=Bb[" useId ".trim().toString()]||(()=>{}),Dk=0;function bs(e){const[t,n]=x.useState($k());return rt(()=>{n(r=>r??String(Dk++))},[e]),t?`radix-${t}`:""}const Fk=["top","right","bottom","left"],er=Math.min,vt=Math.max,ol=Math.round,al=Math.floor,tn=e=>({x:e,y:e}),Lk={left:"right",right:"left",bottom:"top",top:"bottom"},Uk={start:"end",end:"start"};function gf(e,t,n){return vt(e,er(t,n))}function kn(e,t){return typeof e=="function"?e(t):e}function En(e){return e.split("-")[0]}function Ss(e){return e.split("-")[1]}function yf(e){return e==="x"?"y":"x"}function vf(e){return e==="y"?"height":"width"}function tr(e){return["top","bottom"].includes(En(e))?"y":"x"}function wf(e){return yf(tr(e))}function Bk(e,t,n){n===void 0&&(n=!1);const r=Ss(e),s=wf(e),i=vf(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ll(o)),[o,ll(o)]}function zk(e){const t=ll(e);return[xf(e),t,xf(t)]}function xf(e){return e.replace(/start|end/g,t=>Uk[t])}function Wk(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function Hk(e,t,n,r){const s=Ss(e);let i=Wk(En(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(xf)))),i}function ll(e){return e.replace(/left|right|bottom|top/g,t=>Lk[t])}function Vk(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rv(e){return typeof e!="number"?Vk(e):{top:e,right:e,bottom:e,left:e}}function cl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Tv(e,t,n){let{reference:r,floating:s}=e;const i=tr(t),o=wf(t),a=vf(o),l=En(t),c=i==="y",h=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,u=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-s.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ss(t)){case"start":m[o]-=u*(n&&c?-1:1);break;case"end":m[o]+=u*(n&&c?-1:1);break}return m}const Gk=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:d}=Tv(c,r,l),u=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:_,fn:y}=a[g],{x:f,y:w,data:b,reset:S}=await y({x:h,y:d,initialPlacement:r,placement:u,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});h=f??h,d=w??d,m={...m,[_]:{...m[_],...b}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(u=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:h,y:d}=Tv(c,u,l)),g=-1)}return{x:h,y:d,placement:u,strategy:s,middlewareData:m}};async function Xi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:u=!1,padding:m=0}=kn(t,e),v=Rv(m),_=a[u?d==="floating"?"reference":"floating":d],y=cl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),f=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=cl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:f,offsetParent:w,strategy:l}):f);return{top:(y.top-S.top+v.top)/b.y,bottom:(S.bottom-y.bottom+v.bottom)/b.y,left:(y.left-S.left+v.left)/b.x,right:(S.right-y.right+v.right)/b.x}}const Kk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:h=0}=kn(e,t)||{};if(c==null)return{};const d=Rv(h),u={x:n,y:r},m=wf(s),v=vf(m),g=await o.getDimensions(c),_=m==="y",y=_?"top":"left",f=_?"bottom":"right",w=_?"clientHeight":"clientWidth",b=i.reference[v]+i.reference[m]-u[m]-i.floating[v],S=u[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=k?k[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(k)))&&(C=a.floating[w]||i.floating[v]);const E=b/2-S/2,P=C/2-g[v]/2-1,A=er(d[y],P),T=er(d[f],P),O=A,U=C-g[v]-T,L=C/2-g[v]/2+E,z=gf(O,L,U),W=!l.arrow&&Ss(s)!=null&&L!==z&&i.reference[v]/2-(L<O?A:T)-g[v]/2<0,G=W?L<O?L-O:L-U:0;return{[m]:u[m]+G,data:{[m]:z,centerOffset:L-z-G,...W&&{alignmentOffset:G}},reset:W}}}),qk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,..._}=kn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=En(s),f=tr(a),w=En(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=u||(w||!g?[ll(a)]:zk(a)),k=v!=="none";!u&&k&&S.push(...Hk(a,g,v,b));const C=[a,...S],E=await Xi(t,_),P=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(E[y]),d){const L=Bk(s,o,b);P.push(E[L[0]],E[L[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(L=>L<=0)){var T,O;const L=(((T=i.flip)==null?void 0:T.index)||0)+1,z=C[L];if(z)return{data:{index:L,overflows:A},reset:{placement:z}};let W=(O=A.filter(G=>G.overflows[0]<=0).sort((G,I)=>G.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(m){case"bestFit":{var U;const G=(U=A.filter(I=>{if(k){const N=tr(I.placement);return N===f||N==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(N=>N>0).reduce((N,M)=>N+M,0)]).sort((I,N)=>I[1]-N[1])[0])==null?void 0:U[0];G&&(W=G);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function Mv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ov(e){return Fk.some(t=>e[t]>=0)}const Xk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=kn(e,t);switch(r){case"referenceHidden":{const i=await Xi(t,{...s,elementContext:"reference"}),o=Mv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ov(o)}}}case"escaped":{const i=await Xi(t,{...s,altBoundary:!0}),o=Mv(i,n.floating);return{data:{escapedOffsets:o,escaped:Ov(o)}}}default:return{}}}}};async function Jk(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=En(n),a=Ss(n),l=tr(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,d=kn(t,e);let{mainAxis:u,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*h,y:u*c}:{x:u*c,y:m*h}}const Qk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await Jk(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Yk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:f}=_;return{x:y,y:f}}},...l}=kn(e,t),c={x:n,y:r},h=await Xi(t,l),d=tr(En(s)),u=yf(d);let m=c[u],v=c[d];if(i){const _=u==="y"?"top":"left",y=u==="y"?"bottom":"right",f=m+h[_],w=m-h[y];m=gf(f,m,w)}if(o){const _=d==="y"?"top":"left",y=d==="y"?"bottom":"right",f=v+h[_],w=v-h[y];v=gf(f,v,w)}const g=a.fn({...t,[u]:m,[d]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[u]:i,[d]:o}}}}}},Zk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=kn(e,t),h={x:n,y:r},d=tr(s),u=yf(d);let m=h[u],v=h[d];const g=kn(a,t),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=u==="y"?"height":"width",b=i.reference[u]-i.floating[w]+_.mainAxis,S=i.reference[u]+i.reference[w]-_.mainAxis;m<b?m=b:m>S&&(m=S)}if(c){var y,f;const w=u==="y"?"width":"height",b=["top","left"].includes(En(s)),S=i.reference[d]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[d])||0)+(b?0:_.crossAxis),k=i.reference[d]+i.reference[w]+(b?0:((f=o.offset)==null?void 0:f[d])||0)-(b?_.crossAxis:0);v<S?v=S:v>k&&(v=k)}return{[u]:m,[d]:v}}}},eE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=kn(e,t),h=await Xi(t,c),d=En(s),u=Ss(s),m=tr(s)==="y",{width:v,height:g}=i.floating;let _,y;d==="top"||d==="bottom"?(_=d,y=u===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,_=u==="end"?"top":"bottom");const f=g-h.top-h.bottom,w=v-h.left-h.right,b=er(g-h[_],f),S=er(v-h[y],w),k=!t.middlewareData.shift;let C=b,E=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=f),k&&!u){const A=vt(h.left,0),T=vt(h.right,0),O=vt(h.top,0),U=vt(h.bottom,0);m?E=v-2*(A!==0||T!==0?A+T:vt(h.left,h.right)):C=g-2*(O!==0||U!==0?O+U:vt(h.top,h.bottom))}await l({...t,availableWidth:E,availableHeight:C});const P=await o.getDimensions(a.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function ul(){return typeof window<"u"}function Cs(e){return jv(e)?(e.nodeName||"").toLowerCase():"#document"}function wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nn(e){var t;return(t=(jv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jv(e){return ul()?e instanceof Node||e instanceof wt(e).Node:!1}function Bt(e){return ul()?e instanceof Element||e instanceof wt(e).Element:!1}function rn(e){return ul()?e instanceof HTMLElement||e instanceof wt(e).HTMLElement:!1}function $v(e){return!ul()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wt(e).ShadowRoot}function Ji(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=zt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function tE(e){return["table","td","th"].includes(Cs(e))}function dl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function _f(e){const t=bf(),n=Bt(e)?zt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nE(e){let t=nr(e);for(;rn(t)&&!ks(t);){if(_f(t))return t;if(dl(t))return null;t=nr(t)}return null}function bf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ks(e){return["html","body","#document"].includes(Cs(e))}function zt(e){return wt(e).getComputedStyle(e)}function fl(e){return Bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nr(e){if(Cs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$v(e)&&e.host||nn(e);return $v(t)?t.host:t}function Dv(e){const t=nr(e);return ks(t)?e.ownerDocument?e.ownerDocument.body:e.body:rn(t)&&Ji(t)?t:Dv(t)}function Qi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Dv(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=wt(s);if(i){const a=Sf(o);return t.concat(o,o.visualViewport||[],Ji(s)?s:[],a&&n?Qi(a):[])}return t.concat(s,Qi(s,[],n))}function Sf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Fv(e){const t=zt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=rn(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=ol(n)!==i||ol(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Cf(e){return Bt(e)?e:e.contextElement}function Es(e){const t=Cf(e);if(!rn(t))return tn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Fv(t);let o=(i?ol(n.width):n.width)/r,a=(i?ol(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rE=tn(0);function Lv(e){const t=wt(e);return!bf()||!t.visualViewport?rE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wt(e)?!1:t}function Mr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Cf(e);let o=tn(1);t&&(r?Bt(r)&&(o=Es(r)):o=Es(e));const a=sE(i,n,r)?Lv(i):tn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,d=s.height/o.y;if(i){const u=wt(i),m=r&&Bt(r)?wt(r):r;let v=u,g=Sf(v);for(;g&&r&&m!==v;){const _=Es(g),y=g.getBoundingClientRect(),f=zt(g),w=y.left+(g.clientLeft+parseFloat(f.paddingLeft))*_.x,b=y.top+(g.clientTop+parseFloat(f.paddingTop))*_.y;l*=_.x,c*=_.y,h*=_.x,d*=_.y,l+=w,c+=b,v=wt(g),g=Sf(v)}}return cl({width:h,height:d,x:l,y:c})}function kf(e,t){const n=fl(e).scrollLeft;return t?t.left+n:Mr(nn(e)).left+n}function Uv(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:kf(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function iE(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=nn(r),a=t?dl(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=tn(1);const h=tn(0),d=rn(r);if((d||!d&&!i)&&((Cs(r)!=="body"||Ji(o))&&(l=fl(r)),rn(r))){const m=Mr(r);c=Es(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const u=o&&!d&&!i?Uv(o,l,!0):tn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+u.x,y:n.y*c.y-l.scrollTop*c.y+h.y+u.y}}function oE(e){return Array.from(e.getClientRects())}function aE(e){const t=nn(e),n=fl(e),r=e.ownerDocument.body,s=vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+kf(e);const a=-n.scrollTop;return zt(r).direction==="rtl"&&(o+=vt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lE(e,t){const n=wt(e),r=nn(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=bf();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function cE(e,t){const n=Mr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=rn(e)?Es(e):tn(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Bv(e,t,n){let r;if(t==="viewport")r=lE(e,n);else if(t==="document")r=aE(nn(e));else if(Bt(t))r=cE(t,n);else{const s=Lv(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cl(r)}function zv(e,t){const n=nr(e);return n===t||!Bt(n)||ks(n)?!1:zt(n).position==="fixed"||zv(n,t)}function uE(e,t){const n=t.get(e);if(n)return n;let r=Qi(e,[],!1).filter(a=>Bt(a)&&Cs(a)!=="body"),s=null;const i=zt(e).position==="fixed";let o=i?nr(e):e;for(;Bt(o)&&!ks(o);){const a=zt(o),l=_f(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ji(o)&&!l&&zv(e,o))?r=r.filter(h=>h!==o):s=a,o=nr(o)}return t.set(e,r),r}function dE(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?dl(t)?[]:uE(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const d=Bv(t,h,s);return c.top=vt(d.top,c.top),c.right=er(d.right,c.right),c.bottom=er(d.bottom,c.bottom),c.left=vt(d.left,c.left),c},Bv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fE(e){const{width:t,height:n}=Fv(e);return{width:t,height:n}}function hE(e,t,n){const r=rn(t),s=nn(t),i=n==="fixed",o=Mr(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=tn(0);if(r||!r&&!i)if((Cs(t)!=="body"||Ji(s))&&(a=fl(t)),r){const u=Mr(t,!0,i,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else s&&(l.x=kf(s));const c=s&&!r&&!i?Uv(s,a):tn(0),h=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:h,y:d,width:o.width,height:o.height}}function Ef(e){return zt(e).position==="static"}function Wv(e,t){if(!rn(e)||zt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nn(e)===n&&(n=n.ownerDocument.body),n}function Hv(e,t){const n=wt(e);if(dl(e))return n;if(!rn(e)){let s=nr(e);for(;s&&!ks(s);){if(Bt(s)&&!Ef(s))return s;s=nr(s)}return n}let r=Wv(e,t);for(;r&&tE(r)&&Ef(r);)r=Wv(r,t);return r&&ks(r)&&Ef(r)&&!_f(r)?n:r||nE(e)||n}const pE=async function(e){const t=this.getOffsetParent||Hv,n=this.getDimensions,r=await n(e.floating);return{reference:hE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mE(e){return zt(e).direction==="rtl"}const gE={convertOffsetParentRelativeRectToViewportRelativeRect:iE,getDocumentElement:nn,getClippingRect:dE,getOffsetParent:Hv,getElementRects:pE,getClientRects:oE,getDimensions:fE,getScale:Es,isElement:Bt,isRTL:mE};function Vv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yE(e,t){let n=null,r;const s=nn(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:h,top:d,width:u,height:m}=c;if(a||t(),!u||!m)return;const v=al(d),g=al(s.clientWidth-(h+u)),_=al(s.clientHeight-(d+m)),y=al(h),w={rootMargin:-v+"px "+-g+"px "+-_+"px "+-y+"px",threshold:vt(0,er(1,l))||1};let b=!0;function S(k){const C=k[0].intersectionRatio;if(C!==l){if(!b)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Vv(c,e.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),i}function vE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Cf(e),h=s||i?[...c?Qi(c):[],...Qi(t)]:[];h.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=c&&a?yE(c,n):null;let u=-1,m=null;o&&(m=new ResizeObserver(y=>{let[f]=y;f&&f.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,g=l?Mr(e):null;l&&_();function _(){const y=Mr(e);g&&!Vv(g,y)&&n(),g=y,v=requestAnimationFrame(_)}return n(),()=>{var y;h.forEach(f=>{s&&f.removeEventListener("scroll",n),i&&f.removeEventListener("resize",n)}),d==null||d(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const wE=Qk,xE=Yk,_E=qk,bE=eE,SE=Xk,Gv=Kk,CE=Zk,kE=(e,t,n)=>{const r=new Map,s={platform:gE,...n},i={...s.platform,_c:r};return Gk(e,t,{...s,platform:i})};var hl=typeof document<"u"?x.useLayoutEffect:x.useEffect;function pl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!pl(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Kv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qv(e,t){const n=Kv(e);return Math.round(t*n)/n}function If(e){const t=x.useRef(e);return hl(()=>{t.current=e}),t}function EE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[h,d]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,m]=x.useState(r);pl(u,r)||m(r);const[v,g]=x.useState(null),[_,y]=x.useState(null),f=x.useCallback(I=>{I!==k.current&&(k.current=I,g(I))},[]),w=x.useCallback(I=>{I!==C.current&&(C.current=I,y(I))},[]),b=i||v,S=o||_,k=x.useRef(null),C=x.useRef(null),E=x.useRef(h),P=l!=null,A=If(l),T=If(s),O=If(c),U=x.useCallback(()=>{if(!k.current||!C.current)return;const I={placement:t,strategy:n,middleware:u};T.current&&(I.platform=T.current),kE(k.current,C.current,I).then(N=>{const M={...N,isPositioned:O.current!==!1};L.current&&!pl(E.current,M)&&(E.current=M,vs.flushSync(()=>{d(M)}))})},[u,t,n,T,O]);hl(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const L=x.useRef(!1);hl(()=>(L.current=!0,()=>{L.current=!1}),[]),hl(()=>{if(b&&(k.current=b),S&&(C.current=S),b&&S){if(A.current)return A.current(b,S,U);U()}},[b,S,U,A,P]);const z=x.useMemo(()=>({reference:k,floating:C,setReference:f,setFloating:w}),[f,w]),W=x.useMemo(()=>({reference:b,floating:S}),[b,S]),G=x.useMemo(()=>{const I={position:n,left:0,top:0};if(!W.floating)return I;const N=qv(W.floating,h.x),M=qv(W.floating,h.y);return a?{...I,transform:"translate("+N+"px, "+M+"px)",...Kv(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:M}},[n,a,W.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:U,refs:z,elements:W,floatingStyles:G}),[h,U,z,W,G])}const IE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gv({element:r.current,padding:s}).fn(n):{}:r?Gv({element:r,padding:s}).fn(n):{}}}},PE=(e,t)=>({...wE(e),options:[e,t]}),AE=(e,t)=>({...xE(e),options:[e,t]}),NE=(e,t)=>({...CE(e),options:[e,t]}),RE=(e,t)=>({..._E(e),options:[e,t]}),TE=(e,t)=>({...bE(e),options:[e,t]}),ME=(e,t)=>({...SE(e),options:[e,t]}),OE=(e,t)=>({...IE(e),options:[e,t]});var jE="Arrow",Xv=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return p.jsx(ue.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xv.displayName=jE;var $E=Xv;function DE(e){const[t,n]=x.useState(void 0);return rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Pf="Popper",[Jv,Qv]=il(Pf),[FE,Yv]=Jv(Pf),Zv=e=>{const{__scopePopper:t,children:n}=e,[r,s]=x.useState(null);return p.jsx(FE,{scope:t,anchor:r,onAnchorChange:s,children:n})};Zv.displayName=Pf;var ew="PopperAnchor",tw=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Yv(ew,n),o=x.useRef(null),a=Pe(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(ue.div,{...s,ref:a})});tw.displayName=ew;var Af="PopperContent",[LE,UE]=Jv(Af),nw=x.forwardRef((e,t)=>{var F,ne,Se,Z,ie,oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:u=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,_=Yv(Af,n),[y,f]=x.useState(null),w=Pe(t,Ct=>f(Ct)),[b,S]=x.useState(null),k=DE(b),C=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,P=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},T=Array.isArray(c)?c:[c],O=T.length>0,U={padding:A,boundary:T.filter(zE),altBoundary:O},{refs:L,floatingStyles:z,placement:W,isPositioned:G,middlewareData:I}=EE({strategy:"fixed",placement:P,whileElementsMounted:(...Ct)=>vE(...Ct,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[PE({mainAxis:s+E,alignmentAxis:o}),l&&AE({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?NE():void 0,...U}),l&&RE({...U}),TE({...U,apply:({elements:Ct,rects:un,availableWidth:$o,availableHeight:Do})=>{const{width:Fo,height:qN}=un.reference,Bc=Ct.floating.style;Bc.setProperty("--radix-popper-available-width",`${$o}px`),Bc.setProperty("--radix-popper-available-height",`${Do}px`),Bc.setProperty("--radix-popper-anchor-width",`${Fo}px`),Bc.setProperty("--radix-popper-anchor-height",`${qN}px`)}}),b&&OE({element:b,padding:a}),WE({arrowWidth:C,arrowHeight:E}),u&&ME({strategy:"referenceHidden",...U})]}),[N,M]=iw(W),j=Cn(v);rt(()=>{G&&(j==null||j())},[G,j]);const q=(F=I.arrow)==null?void 0:F.x,ge=(ne=I.arrow)==null?void 0:ne.y,le=((Se=I.arrow)==null?void 0:Se.centerOffset)!==0,[be,te]=x.useState();return rt(()=>{y&&te(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:G?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Z=I.transformOrigin)==null?void 0:Z.x,(ie=I.transformOrigin)==null?void 0:ie.y].join(" "),...((oe=I.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(LE,{scope:n,placedSide:N,onArrowChange:S,arrowX:q,arrowY:ge,shouldHideArrow:le,children:p.jsx(ue.div,{"data-side":N,"data-align":M,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});nw.displayName=Af;var rw="PopperArrow",BE={top:"bottom",right:"left",bottom:"top",left:"right"},sw=x.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=UE(rw,r),o=BE[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx($E,{...s,ref:n,style:{...s.style,display:"block"}})})});sw.displayName=rw;function zE(e){return e!==null}var WE=e=>({name:"transformOrigin",options:e,fn(t){var _,y,f;const{placement:n,rects:r,middlewareData:s}=t,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,h]=iw(n),d={start:"0%",center:"50%",end:"100%"}[h],u=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((f=s.arrow)==null?void 0:f.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?d:`${u}px`,g=`${-l}px`):c==="top"?(v=o?d:`${u}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?d:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?d:`${m}px`),{data:{x:v,y:g}}}});function iw(e){const[t,n="center"]=e.split("-");return[t,n]}var HE=Zv,VE=tw,GE=nw,KE=sw,qE="Portal",Nf=x.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=x.useState(!1);rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?G1.createPortal(p.jsx(ue.div,{...r,ref:t}),o):null});Nf.displayName=qE;function Rf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=XE({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,a=Cn(n),l=x.useCallback(c=>{if(i){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else s(c)},[i,e,s,a]);return[o,l]}function XE({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,s=x.useRef(r),i=Cn(t);return x.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function JE(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var QE="VisuallyHidden",ow=x.forwardRef((e,t)=>p.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ow.displayName=QE;var YE=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Is=new WeakMap,ml=new WeakMap,gl={},Tf=0,aw=function(e){return e&&(e.host||aw(e.parentNode))},ZE=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=aw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},eI=function(e,t,n,r){var s=ZE(t,Array.isArray(e)?e:[e]);gl[n]||(gl[n]=new WeakMap);var i=gl[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(u){if(a.has(u))h(u);else try{var m=u.getAttribute(r),v=m!==null&&m!=="false",g=(Is.get(u)||0)+1,_=(i.get(u)||0)+1;Is.set(u,g),i.set(u,_),o.push(u),g===1&&v&&ml.set(u,!0),_===1&&u.setAttribute(n,"true"),v||u.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",u,y)}})};return h(t),a.clear(),Tf++,function(){o.forEach(function(d){var u=Is.get(d)-1,m=i.get(d)-1;Is.set(d,u),i.set(d,m),u||(ml.has(d)||d.removeAttribute(r),ml.delete(d)),m||d.removeAttribute(n)}),Tf--,Tf||(Is=new WeakMap,Is=new WeakMap,ml=new WeakMap,gl={})}},lw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=YE(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),eI(r,s,n,"aria-hidden")):function(){return null}},sn=function(){return sn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sn.apply(this,arguments)};function cw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function tI(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var yl="right-scroll-bar-position",vl="width-before-scroll-bar",nI="with-scroll-bars-hidden",rI="--removed-body-scroll-bar-size";function Mf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sI(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var iI=typeof window<"u"?x.useLayoutEffect:x.useEffect,uw=new WeakMap;function oI(e,t){var n=sI(null,function(r){return e.forEach(function(s){return Mf(s,r)})});return iI(function(){var r=uw.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Mf(a,null)}),i.forEach(function(a){s.has(a)||Mf(a,o)})}uw.set(n,e)},[e]),n}function aI(e){return e}function lI(e,t){t===void 0&&(t=aI);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function cI(e){e===void 0&&(e={});var t=lI(null);return t.options=sn({async:!0,ssr:!1},e),t}var dw=function(e){var t=e.sideCar,n=cw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,sn({},n))};dw.isSideCarExport=!0;function uI(e,t){return e.useMedium(t),dw}var fw=cI(),Of=function(){},wl=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:Of,onWheelCapture:Of,onTouchMoveCapture:Of}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,h=e.enabled,d=e.shards,u=e.sideCar,m=e.noIsolation,v=e.inert,g=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,f=e.gapMode,w=cw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=u,S=oI([n,t]),k=sn(sn({},w),s);return x.createElement(x.Fragment,null,h&&x.createElement(b,{sideCar:fw,removeScrollBar:c,shards:d,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:f}),o?x.cloneElement(x.Children.only(a),sn(sn({},k),{ref:S})):x.createElement(y,sn({},k,{className:l,ref:S}),a))});wl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},wl.classNames={fullWidth:vl,zeroRight:yl};var dI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dI();return t&&e.setAttribute("nonce",t),e}function hI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=fI())&&(hI(t,n),pI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gI=function(){var e=mI();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hw=function(){var e=gI(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},yI={left:0,top:0,right:0,gap:0},jf=function(e){return parseInt(e||"",10)||0},vI=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jf(n),jf(r),jf(s)]},wI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yI;var t=vI(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},xI=hw(),Ps="data-scroll-locked",_I=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(nI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ps,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yl," .").concat(yl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vl," .").concat(vl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ps,`] {
    `).concat(rI,": ").concat(a,`px;
  }
`)},pw=function(){var e=parseInt(document.body.getAttribute(Ps)||"0",10);return isFinite(e)?e:0},bI=function(){x.useEffect(function(){return document.body.setAttribute(Ps,(pw()+1).toString()),function(){var e=pw()-1;e<=0?document.body.removeAttribute(Ps):document.body.setAttribute(Ps,e.toString())}},[])},SI=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;bI();var i=x.useMemo(function(){return wI(s)},[s]);return x.createElement(xI,{styles:_I(i,!t,s,n?"":"!important")})},$f=!1;if(typeof window<"u")try{var xl=Object.defineProperty({},"passive",{get:function(){return $f=!0,!0}});window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{$f=!1}var As=$f?{passive:!1}:!1,CI=function(e){return e.tagName==="TEXTAREA"},mw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!CI(e)&&n[t]==="visible")},kI=function(e){return mw(e,"overflowY")},EI=function(e){return mw(e,"overflowX")},gw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yw(e,r);if(s){var i=vw(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},II=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},PI=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},yw=function(e,t){return e==="v"?kI(t):EI(t)},vw=function(e,t){return e==="v"?II(t):PI(t)},AI=function(e,t){return e==="h"&&t==="rtl"?-1:1},NI=function(e,t,n,r,s){var i=AI(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,h=o>0,d=0,u=0;do{var m=vw(e,a),v=m[0],g=m[1],_=m[2],y=g-_-i*v;(v||y)&&yw(e,a)&&(d+=y,u+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(h&&Math.abs(d)<1||!h&&Math.abs(u)<1)&&(c=!0),c},_l=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ww=function(e){return[e.deltaX,e.deltaY]},xw=function(e){return e&&"current"in e?e.current:e},RI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MI=0,Ns=[];function OI(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(MI++)[0],i=x.useState(hw)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=tI([e.lockRef.current],(e.shards||[]).map(xw),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=_l(g),f=n.current,w="deltaX"in g?g.deltaX:f[0]-y[0],b="deltaY"in g?g.deltaY:f[1]-y[1],S,k=g.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&k.type==="range")return!1;var E=gw(C,k);if(!E)return!0;if(E?S=C:(S=C==="v"?"h":"v",E=gw(C,k)),!E)return!1;if(!r.current&&"changedTouches"in g&&(w||b)&&(r.current=S),!S)return!0;var P=r.current||S;return NI(P,_,g,P==="h"?w:b)},[]),l=x.useCallback(function(g){var _=g;if(!(!Ns.length||Ns[Ns.length-1]!==i)){var y="deltaY"in _?ww(_):_l(_),f=t.current.filter(function(S){return S.name===_.type&&(S.target===_.target||_.target===S.shadowParent)&&RI(S.delta,y)})[0];if(f&&f.should){_.cancelable&&_.preventDefault();return}if(!f){var w=(o.current.shards||[]).map(xw).filter(Boolean).filter(function(S){return S.contains(_.target)}),b=w.length>0?a(_,w[0]):!o.current.noIsolation;b&&_.cancelable&&_.preventDefault()}}},[]),c=x.useCallback(function(g,_,y,f){var w={name:g,delta:_,target:y,should:f,shadowParent:jI(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),h=x.useCallback(function(g){n.current=_l(g),r.current=void 0},[]),d=x.useCallback(function(g){c(g.type,ww(g),g.target,a(g,e.lockRef.current))},[]),u=x.useCallback(function(g){c(g.type,_l(g),g.target,a(g,e.lockRef.current))},[]);x.useEffect(function(){return Ns.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:u}),document.addEventListener("wheel",l,As),document.addEventListener("touchmove",l,As),document.addEventListener("touchstart",h,As),function(){Ns=Ns.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,As),document.removeEventListener("touchmove",l,As),document.removeEventListener("touchstart",h,As)}},[]);var m=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(i,{styles:TI(s)}):null,m?x.createElement(SI,{gapMode:e.gapMode}):null)}function jI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $I=uI(fw,OI);var Df=x.forwardRef(function(e,t){return x.createElement(wl,sn({},e,{ref:t,sideCar:$I}))});Df.classNames=wl.classNames;var DI=[" ","Enter","ArrowUp","ArrowDown"],FI=[" ","Enter"],Yi="Select",[bl,Sl,LI]=vk(Yi),[Rs,JN]=il(Yi,[LI,Qv]),Cl=Qv(),[UI,rr]=Rs(Yi),[BI,zI]=Rs(Yi),_w=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:d,disabled:u,required:m,form:v}=e,g=Cl(t),[_,y]=x.useState(null),[f,w]=x.useState(null),[b,S]=x.useState(!1),k=xk(c),[C=!1,E]=Rf({prop:r,defaultProp:s,onChange:i}),[P,A]=Rf({prop:o,defaultProp:a,onChange:l}),T=x.useRef(null),O=_?v||!!_.closest("form"):!0,[U,L]=x.useState(new Set),z=Array.from(U).map(W=>W.props.value).join(";");return p.jsx(HE,{...g,children:p.jsxs(UI,{required:m,scope:t,trigger:_,onTriggerChange:y,valueNode:f,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:bs(),value:P,onValueChange:A,open:C,onOpenChange:E,dir:k,triggerPointerDownPosRef:T,disabled:u,children:[p.jsx(bl.Provider,{scope:t,children:p.jsx(BI,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(W=>{L(G=>new Set(G).add(W))},[]),onNativeOptionRemove:x.useCallback(W=>{L(G=>{const I=new Set(G);return I.delete(W),I})},[]),children:n})}),O?p.jsxs(Gw,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:d,value:P,onChange:W=>A(W.target.value),disabled:u,form:v,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};_w.displayName=Yi;var bw="SelectTrigger",Sw=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Cl(n),o=rr(bw,n),a=o.disabled||r,l=Pe(t,o.onTriggerChange),c=Sl(n),h=x.useRef("touch"),[d,u,m]=Kw(g=>{const _=c().filter(w=>!w.disabled),y=_.find(w=>w.value===o.value),f=qw(_,g,y);f!==void 0&&o.onValueChange(f.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(VE,{asChild:!0,...i,children:p.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Vw(o.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&v(g)}),onPointerDown:pe(s.onPointerDown,g=>{h.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:pe(s.onKeyDown,g=>{const _=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&u(g.key),!(_&&g.key===" ")&&DI.includes(g.key)&&(v(),g.preventDefault())})})})});Sw.displayName=bw;var Cw="SelectValue",kw=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=rr(Cw,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,d=Pe(t,l.onValueNodeChange);return rt(()=>{c(h)},[c,h]),p.jsx(ue.span,{...a,ref:d,style:{pointerEvents:"none"},children:Vw(l.value)?p.jsx(p.Fragment,{children:o}):i})});kw.displayName=Cw;var WI="SelectIcon",Ew=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return p.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});Ew.displayName=WI;var HI="SelectPortal",Iw=e=>p.jsx(Nf,{asChild:!0,...e});Iw.displayName=HI;var Or="SelectContent",Pw=x.forwardRef((e,t)=>{const n=rr(Or,e.__scopeSelect),[r,s]=x.useState();if(rt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?vs.createPortal(p.jsx(Aw,{scope:e.__scopeSelect,children:p.jsx(bl.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),i):null}return p.jsx(Nw,{...e,ref:t})});Pw.displayName=Or;var Wt=10,[Aw,sr]=Rs(Or),VI="SelectContentImpl",GI=ws("SelectContent.RemoveScroll"),Nw=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:u,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:_,...y}=e,f=rr(Or,n),[w,b]=x.useState(null),[S,k]=x.useState(null),C=Pe(t,F=>b(F)),[E,P]=x.useState(null),[A,T]=x.useState(null),O=Sl(n),[U,L]=x.useState(!1),z=x.useRef(!1);x.useEffect(()=>{if(w)return lw(w)},[w]),Cv();const W=x.useCallback(F=>{const[ne,...Se]=O().map(oe=>oe.ref.current),[Z]=Se.slice(-1),ie=document.activeElement;for(const oe of F)if(oe===ie||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ne&&S&&(S.scrollTop=0),oe===Z&&S&&(S.scrollTop=S.scrollHeight),oe==null||oe.focus(),document.activeElement!==ie))return},[O,S]),G=x.useCallback(()=>W([E,w]),[W,E,w]);x.useEffect(()=>{U&&G()},[U,G]);const{onOpenChange:I,triggerPointerDownPosRef:N}=f;x.useEffect(()=>{if(w){let F={x:0,y:0};const ne=Z=>{var ie,oe;F={x:Math.abs(Math.round(Z.pageX)-(((ie=N.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((oe=N.current)==null?void 0:oe.y)??0))}},Se=Z=>{F.x<=10&&F.y<=10?Z.preventDefault():w.contains(Z.target)||I(!1),document.removeEventListener("pointermove",ne),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",Se,{capture:!0})}}},[w,I,N]),x.useEffect(()=>{const F=()=>I(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[I]);const[M,j]=Kw(F=>{const ne=O().filter(ie=>!ie.disabled),Se=ne.find(ie=>ie.ref.current===document.activeElement),Z=qw(ne,F,Se);Z&&setTimeout(()=>Z.ref.current.focus())}),q=x.useCallback((F,ne,Se)=>{const Z=!z.current&&!Se;(f.value!==void 0&&f.value===ne||Z)&&(P(F),Z&&(z.current=!0))},[f.value]),ge=x.useCallback(()=>w==null?void 0:w.focus(),[w]),le=x.useCallback((F,ne,Se)=>{const Z=!z.current&&!Se;(f.value!==void 0&&f.value===ne||Z)&&T(F)},[f.value]),be=r==="popper"?Ff:Rw,te=be===Ff?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:u,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:_}:{};return p.jsx(Aw,{scope:n,content:w,viewport:S,onViewportChange:k,itemRefCallback:q,selectedItem:E,onItemLeave:ge,itemTextRefCallback:le,focusSelectedItem:G,selectedItemText:A,position:r,isPositioned:U,searchRef:M,children:p.jsx(Df,{as:GI,allowPinchZoom:!0,children:p.jsx(mf,{asChild:!0,trapped:f.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:pe(s,F=>{var ne;(ne=f.trigger)==null||ne.focus({preventScroll:!0}),F.preventDefault()}),children:p.jsx(df,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:p.jsx(be,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:F=>F.preventDefault(),...y,...te,onPlaced:()=>L(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:pe(y.onKeyDown,F=>{const ne=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!ne&&F.key.length===1&&j(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let Z=O().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(F.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const ie=F.target,oe=Z.indexOf(ie);Z=Z.slice(oe+1)}setTimeout(()=>W(Z)),F.preventDefault()}})})})})})})});Nw.displayName=VI;var KI="SelectItemAlignedPosition",Rw=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=rr(Or,n),o=sr(Or,n),[a,l]=x.useState(null),[c,h]=x.useState(null),d=Pe(t,C=>h(C)),u=Sl(n),m=x.useRef(!1),v=x.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:y,focusSelectedItem:f}=o,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&_&&y){const C=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const ie=A.left-E.left,oe=P.left-ie,Ct=C.left-oe,un=C.width+Ct,$o=Math.max(un,E.width),Do=window.innerWidth-Wt,Fo=wv(oe,[Wt,Math.max(Wt,Do-$o)]);a.style.minWidth=un+"px",a.style.left=Fo+"px"}else{const ie=E.right-A.right,oe=window.innerWidth-P.right-ie,Ct=window.innerWidth-C.right-oe,un=C.width+Ct,$o=Math.max(un,E.width),Do=window.innerWidth-Wt,Fo=wv(oe,[Wt,Math.max(Wt,Do-$o)]);a.style.minWidth=un+"px",a.style.right=Fo+"px"}const T=u(),O=window.innerHeight-Wt*2,U=g.scrollHeight,L=window.getComputedStyle(c),z=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),G=parseInt(L.borderBottomWidth,10),I=parseInt(L.paddingBottom,10),N=z+W+U+I+G,M=Math.min(_.offsetHeight*5,N),j=window.getComputedStyle(g),q=parseInt(j.paddingTop,10),ge=parseInt(j.paddingBottom,10),le=C.top+C.height/2-Wt,be=O-le,te=_.offsetHeight/2,F=_.offsetTop+te,ne=z+W+F,Se=N-ne;if(ne<=le){const ie=T.length>0&&_===T[T.length-1].ref.current;a.style.bottom="0px";const oe=c.clientHeight-g.offsetTop-g.offsetHeight,Ct=Math.max(be,te+(ie?ge:0)+oe+G),un=ne+Ct;a.style.height=un+"px"}else{const ie=T.length>0&&_===T[0].ref.current;a.style.top="0px";const Ct=Math.max(le,z+g.offsetTop+(ie?q:0)+te)+Se;a.style.height=Ct+"px",g.scrollTop=ne-le+g.offsetTop}a.style.margin=`${Wt}px 0`,a.style.minHeight=M+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[u,i.trigger,i.valueNode,a,c,g,_,y,i.dir,r]);rt(()=>w(),[w]);const[b,S]=x.useState();rt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const k=x.useCallback(C=>{C&&v.current===!0&&(w(),f==null||f(),v.current=!1)},[w,f]);return p.jsx(XI,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:p.jsx(ue.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Rw.displayName=KI;var qI="SelectPopperPosition",Ff=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Wt,...i}=e,o=Cl(n);return p.jsx(GE,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ff.displayName=qI;var[XI,Lf]=Rs(Or,{}),Uf="SelectViewport",Tw=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=sr(Uf,n),o=Lf(Uf,n),a=Pe(t,i.onViewportChange),l=x.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(bl.Slot,{scope:n,children:p.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,c=>{const h=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:u}=o;if(u!=null&&u.current&&d){const m=Math.abs(l.current-h.scrollTop);if(m>0){const v=window.innerHeight-Wt*2,g=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),y=Math.max(g,_);if(y<v){const f=y+m,w=Math.min(v,f),b=f-w;d.style.height=w+"px",d.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,d.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});Tw.displayName=Uf;var Mw="SelectGroup",[JI,QI]=Rs(Mw),YI=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=bs();return p.jsx(JI,{scope:n,id:s,children:p.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});YI.displayName=Mw;var Ow="SelectLabel",jw=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=QI(Ow,n);return p.jsx(ue.div,{id:s.id,...r,ref:t})});jw.displayName=Ow;var kl="SelectItem",[ZI,$w]=Rs(kl),Dw=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=rr(kl,n),l=sr(kl,n),c=a.value===r,[h,d]=x.useState(i??""),[u,m]=x.useState(!1),v=Pe(t,f=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,f,r,s)}),g=bs(),_=x.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(ZI,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:x.useCallback(f=>{d(w=>w||((f==null?void 0:f.textContent)??"").trim())},[]),children:p.jsx(bl.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:p.jsx(ue.div,{role:"option","aria-labelledby":g,"data-highlighted":u?"":void 0,"aria-selected":c&&u,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:pe(o.onFocus,()=>m(!0)),onBlur:pe(o.onBlur,()=>m(!1)),onClick:pe(o.onClick,()=>{_.current!=="mouse"&&y()}),onPointerUp:pe(o.onPointerUp,()=>{_.current==="mouse"&&y()}),onPointerDown:pe(o.onPointerDown,f=>{_.current=f.pointerType}),onPointerMove:pe(o.onPointerMove,f=>{var w;_.current=f.pointerType,s?(w=l.onItemLeave)==null||w.call(l):_.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,f=>{var w;f.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:pe(o.onKeyDown,f=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&f.key===" "||(FI.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})})})})});Dw.displayName=kl;var Zi="SelectItemText",Fw=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=rr(Zi,n),a=sr(Zi,n),l=$w(Zi,n),c=zI(Zi,n),[h,d]=x.useState(null),u=Pe(t,y=>d(y),l.onItemTextChange,y=>{var f;return(f=a.itemTextRefCallback)==null?void 0:f.call(a,y,l.value,l.disabled)}),m=h==null?void 0:h.textContent,v=x.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=c;return rt(()=>(g(v),()=>_(v)),[g,_,v]),p.jsxs(p.Fragment,{children:[p.jsx(ue.span,{id:l.textId,...i,ref:u}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vs.createPortal(i.children,o.valueNode):null]})});Fw.displayName=Zi;var Lw="SelectItemIndicator",Uw=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return $w(Lw,n).isSelected?p.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});Uw.displayName=Lw;var Bf="SelectScrollUpButton",Bw=x.forwardRef((e,t)=>{const n=sr(Bf,e.__scopeSelect),r=Lf(Bf,e.__scopeSelect),[s,i]=x.useState(!1),o=Pe(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(Ww,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Bw.displayName=Bf;var zf="SelectScrollDownButton",zw=x.forwardRef((e,t)=>{const n=sr(zf,e.__scopeSelect),r=Lf(zf,e.__scopeSelect),[s,i]=x.useState(!1),o=Pe(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(Ww,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});zw.displayName=zf;var Ww=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=sr("SelectScrollButton",n),o=x.useRef(null),a=Sl(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),rt(()=>{var h;const c=a().find(d=>d.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),p.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),eP="SelectSeparator",Hw=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return p.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});Hw.displayName=eP;var Wf="SelectArrow",tP=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cl(n),i=rr(Wf,n),o=sr(Wf,n);return i.open&&o.position==="popper"?p.jsx(KE,{...s,...r,ref:t}):null});tP.displayName=Wf;function Vw(e){return e===""||e===void 0}var Gw=x.forwardRef((e,t)=>{const{value:n,...r}=e,s=x.useRef(null),i=Pe(t,s),o=JE(n);return x.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const d=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(d)}},[o,n]),p.jsx(ow,{asChild:!0,children:p.jsx("select",{...r,ref:i,defaultValue:n})})});Gw.displayName="BubbleSelect";function Kw(e){const t=Cn(e),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function qw(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=nP(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function nP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var rP=_w,Xw=Sw,sP=kw,iP=Ew,oP=Iw,Jw=Pw,aP=Tw,Qw=jw,Yw=Dw,lP=Fw,cP=Uw,Zw=Bw,e0=zw,t0=Hw;const n0=rP,r0=sP,Hf=x.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Xw,{ref:r,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,p.jsx(iP,{asChild:!0,children:p.jsx(ev,{className:"h-4 w-4 opacity-50"})})]}));Hf.displayName=Xw.displayName;const s0=x.forwardRef(({className:e,...t},n)=>p.jsx(Zw,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(gC,{className:"h-4 w-4"})}));s0.displayName=Zw.displayName;const i0=x.forwardRef(({className:e,...t},n)=>p.jsx(e0,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(ev,{className:"h-4 w-4"})}));i0.displayName=e0.displayName;const Vf=x.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>p.jsx(oP,{children:p.jsxs(Jw,{ref:s,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white dark:bg-gray-800 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[p.jsx(s0,{}),p.jsx(aP,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),p.jsx(i0,{})]})}));Vf.displayName=Jw.displayName;const uP=x.forwardRef(({className:e,...t},n)=>p.jsx(Qw,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));uP.displayName=Qw.displayName;const Ts=x.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(Yw,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(cP,{children:p.jsx(Gi,{className:"h-4 w-4"})})}),p.jsx(lP,{children:t})]}));Ts.displayName=Yw.displayName;const dP=x.forwardRef(({className:e,...t},n)=>p.jsx(t0,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));dP.displayName=t0.displayName;function fP({language:e,songTitle:t,songMood:n,midiData:r,currentFileName:s,fileInputRef:i,setSongTitle:o,setSongMood:a,analyzeMidi:l,resetState:c,generateAILyrics:h,moodOptions:d}){const u=d[e];return p.jsxs("div",{className:"w-full lg:w-1/3 space-y-6",children:[p.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[p.jsxs("h2",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(tv,{size:20}),e==="ja"?"MIDI ファイル":"MIDI File"]}),p.jsxs("div",{className:"mb-6",children:[p.jsx(en,{htmlFor:"midi_file",className:"mb-2",children:e==="ja"?"MIDI ファイルをアップロード":"Upload MIDI file"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{id:"midi_file",ref:i,type:"file",accept:".mid,.midi",onChange:l,className:"hidden"}),p.jsx("div",{onClick:()=>{var m;return(m=i.current)==null?void 0:m.click()},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:p.jsxs("div",{className:"flex items-center text-muted-foreground w-full",children:[p.jsx(tv,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"flex-1 truncate",children:s||(e==="ja"?"MIDIファイルを選択":"Choose MIDI file")})]})})]})]}),r&&p.jsx("div",{className:"p-4 mb-4 text-sm text-primary-800 rounded-lg bg-primary-50 dark:bg-gray-700 dark:text-primary-400 flex flex-col",children:p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:e==="ja"?"ノート数:":"Notes:"})," ",r.noteCount]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:e==="ja"?"長さ:":"Duration:"})," ",r.duration.toFixed(2),e==="ja"?"秒":"s"]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-medium",children:e==="ja"?"平均ピッチ:":"Avg Pitch:"})," ",r.averagePitch.toFixed(2)]})]})}),p.jsxs(Ke,{variant:"outline",className:"w-full border-gray-200 dark:border-gray-600",onClick:c,children:[p.jsx(CC,{className:"mr-2 h-4 w-4"}),e==="ja"?"リセット":"Reset"]})]}),p.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[p.jsxs("h2",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(fC,{size:20}),e==="ja"?"曲の詳細":"Song Details"]}),p.jsxs("div",{className:"mb-4",children:[p.jsx(en,{htmlFor:"song_title",className:"mb-2",children:e==="ja"?"タイトル (オプション)":"Title (Optional)"}),p.jsx(cf,{id:"song_title",type:"text",placeholder:e==="ja"?"曲のタイトル":"Song title",value:t,onChange:m=>o(m.target.value)})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx(en,{htmlFor:"song_mood",className:"mb-2",children:e==="ja"?"雰囲気 (オプション)":"Mood (Optional)"}),p.jsxs(n0,{value:n,onValueChange:a,children:[p.jsx(Hf,{id:"song_mood",children:p.jsx(r0,{placeholder:e==="ja"?"雰囲気を選択":"Select mood"})}),p.jsxs(Vf,{children:[p.jsx(Ts,{value:"none",children:e==="ja"?"雰囲気を選択":"Select mood"}),u.map(m=>p.jsx(Ts,{value:m,children:m},m))]})]})]}),p.jsxs(Ke,{className:"w-full",onClick:()=>h(),disabled:!r,children:[p.jsx(rv,{className:"mr-2 h-4 w-4"}),e==="ja"?"プロンプトを生成":"Generate Prompt"]})]})]})}const hP=sf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o0=x.forwardRef(({className:e,variant:t,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:ke(hP({variant:t}),e),...n}));o0.displayName="Alert";const pP=x.forwardRef(({className:e,...t},n)=>p.jsx("h5",{ref:n,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));pP.displayName="AlertTitle";const a0=x.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));a0.displayName="AlertDescription";function l0({className:e,size:t="md",fullPage:n=!1,...r}){const s={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i=p.jsx("div",{className:ke("inline-block animate-spin rounded-full border-4 border-solid border-primary-600 border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",s[t],e),role:"status","aria-label":"loading",...r});return n?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i}):i}function mP({lyrics:e,isLoading:t,isGeneratingAI:n,error:r,lyricsHistory:s,currentHistoryIndex:i,isCopied:o,navigateHistory:a,copyLyrics:l,language:c}){const h=!e&&!t&&!n&&!r;return p.jsx("div",{className:"w-full lg:w-2/3",children:p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[p.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:[p.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(_C,{size:20}),c==="ja"?"生成された歌詞":"Generated Lyrics"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>a("back"),disabled:i<=0||s.length===0,className:"h-8 w-8",children:p.jsx(pC,{className:"h-4 w-4"})}),p.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>a("forward"),disabled:i>=s.length-1||s.length===0,className:"h-8 w-8",children:p.jsx(mC,{className:"h-4 w-4"})})]}),p.jsx(Ke,{variant:"ghost",size:"icon",onClick:l,disabled:!e,className:"h-8 w-8",children:o?p.jsx(Gi,{className:"h-4 w-4"}):p.jsx(xC,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{className:"p-4 min-h-[50vh]",children:[t&&p.jsx("div",{className:"flex flex-col items-center justify-center h-full py-12",children:p.jsxs("div",{className:"text-center",children:[p.jsx(l0,{className:"h-8 w-8 mb-4"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"MIDIファイルを解析中...":"Analyzing MIDI file..."})]})}),n&&p.jsx("div",{className:"flex flex-col items-center justify-center h-full py-12",children:p.jsxs("div",{className:"text-center",children:[p.jsx(l0,{className:"h-8 w-8 mb-4"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"AIが歌詞を生成中...":"AI is generating lyrics..."})]})}),h&&p.jsx("div",{className:"flex flex-col items-center justify-center h-full py-12",children:p.jsxs("div",{className:"text-center max-w-md",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-primary-50 dark:bg-gray-700 mb-4",children:p.jsx(kC,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:c==="ja"?"MIDIから歌詞を生成":"Generate Lyrics from MIDI"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:c==="ja"?"MIDIファイルをアップロードして、AIを使って曲に合った歌詞を自動生成します。":"Upload a MIDI file and generate lyrics that match your music using AI."}),p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-400",children:p.jsx(rf,{className:"h-5 w-5"})}),p.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"MIDIファイルをアップロード":"Upload MIDI file"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-400",children:p.jsx(SC,{className:"h-5 w-5"})}),p.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"APIキーを設定（設定しなくても使えます）":"Set API key (optional)"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0 w-5 h-5 text-primary-600 dark:text-primary-400",children:p.jsx(rv,{className:"h-5 w-5"})}),p.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:c==="ja"?"AIで歌詞を生成":"Generate lyrics with AI"})]})]})]})}),e&&!t&&!n&&p.jsx("pre",{className:"lyrics-container font-sans whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:e}),r&&p.jsxs(o0,{variant:"destructive",className:"mt-4",children:[p.jsx(yC,{className:"h-4 w-4 mr-2"}),p.jsx(a0,{children:r})]})]})]})})}function gP(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var El=e=>{const{present:t,children:n}=e,r=yP(t),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Pe(r.ref,vP(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};El.displayName="Presence";function yP(e){const[t,n]=x.useState(),r=x.useRef({}),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[a,l]=gP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Il(r.current);i.current=a==="mounted"?c:"none"},[a]),rt(()=>{const c=r.current,h=s.current;if(h!==e){const u=i.current,m=Il(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&u!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),rt(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,d=m=>{const g=Il(r.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},u=m=>{m.target===t&&(i.current=Il(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Il(e){return(e==null?void 0:e.animationName)||"none"}function vP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Gf="Dialog",[c0,QN]=il(Gf),[wP,Ht]=c0(Gf),u0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=x.useRef(null),l=x.useRef(null),[c=!1,h]=Rf({prop:r,defaultProp:s,onChange:i});return p.jsx(wP,{scope:t,triggerRef:a,contentRef:l,contentId:bs(),titleId:bs(),descriptionId:bs(),open:c,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(d=>!d),[h]),modal:o,children:n})};u0.displayName=Gf;var d0="DialogTrigger",xP=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(d0,n),i=Pe(t,s.triggerRef);return p.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xf(s.open),...r,ref:i,onClick:pe(e.onClick,s.onOpenToggle)})});xP.displayName=d0;var Kf="DialogPortal",[_P,f0]=c0(Kf,{forceMount:void 0}),h0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Ht(Kf,t);return p.jsx(_P,{scope:t,forceMount:n,children:x.Children.map(r,o=>p.jsx(El,{present:n||i.open,children:p.jsx(Nf,{asChild:!0,container:s,children:o})}))})};h0.displayName=Kf;var Pl="DialogOverlay",p0=x.forwardRef((e,t)=>{const n=f0(Pl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ht(Pl,e.__scopeDialog);return i.modal?p.jsx(El,{present:r||i.open,children:p.jsx(SP,{...s,ref:t})}):null});p0.displayName=Pl;var bP=ws("DialogOverlay.RemoveScroll"),SP=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(Pl,n);return p.jsx(Df,{as:bP,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(ue.div,{"data-state":Xf(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jr="DialogContent",m0=x.forwardRef((e,t)=>{const n=f0(jr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ht(jr,e.__scopeDialog);return p.jsx(El,{present:r||i.open,children:i.modal?p.jsx(CP,{...s,ref:t}):p.jsx(kP,{...s,ref:t})})});m0.displayName=jr;var CP=x.forwardRef((e,t)=>{const n=Ht(jr,e.__scopeDialog),r=x.useRef(null),s=Pe(t,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return lw(i)},[]),p.jsx(g0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,i=>i.preventDefault())})}),kP=x.forwardRef((e,t)=>{const n=Ht(jr,e.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return p.jsx(g0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),g0=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Ht(jr,n),l=x.useRef(null),c=Pe(t,l);return Cv(),p.jsxs(p.Fragment,{children:[p.jsx(mf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(df,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Xf(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(EP,{titleId:a.titleId}),p.jsx(PP,{contentRef:l,descriptionId:a.descriptionId})]})]})}),qf="DialogTitle",y0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(qf,n);return p.jsx(ue.h2,{id:s.titleId,...r,ref:t})});y0.displayName=qf;var v0="DialogDescription",w0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(v0,n);return p.jsx(ue.p,{id:s.descriptionId,...r,ref:t})});w0.displayName=v0;var x0="DialogClose",_0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(x0,n);return p.jsx(ue.button,{type:"button",...r,ref:t,onClick:pe(e.onClick,()=>s.onOpenChange(!1))})});_0.displayName=x0;function Xf(e){return e?"open":"closed"}var b0="DialogTitleWarning",[YN,S0]=gk(b0,{contentName:jr,titleName:qf,docsSlug:"dialog"}),EP=({titleId:e})=>{const t=S0(b0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},IP="DialogDescriptionWarning",PP=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S0(IP).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},AP=u0,NP=h0,C0=p0,k0=m0,E0=y0,I0=w0,RP=_0;const P0=AP,TP=NP,A0=x.forwardRef(({className:e,...t},n)=>p.jsx(C0,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));A0.displayName=C0.displayName;const Jf=x.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(TP,{children:[p.jsx(A0,{}),p.jsxs(k0,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white dark:bg-gray-800 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,p.jsxs(RP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(IC,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jf.displayName=k0.displayName;const Qf=({className:e,...t})=>p.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qf.displayName="DialogHeader";const Yf=({className:e,...t})=>p.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yf.displayName="DialogFooter";const Zf=x.forwardRef(({className:e,...t},n)=>p.jsx(E0,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));Zf.displayName=E0.displayName;const MP=x.forwardRef(({className:e,...t},n)=>p.jsx(I0,{ref:n,className:ke("text-sm text-muted-foreground",e),...t}));MP.displayName=I0.displayName;function OP({apiKey:e,setApiKey:t,apiProvider:n,setApiProvider:r,onSubmit:s,onDelete:i,onClose:o}){console.log(`SettingsModalが開かれました - 現在のAPIプロバイダー: ${n}`);const[a,l]=x.useState(e),[c,h]=x.useState(n||"anthropic");x.useEffect(()=>{if(c!==n){const u=localStorage.getItem(`ai_api_key_${c}`);l(u||"")}},[c,n]),x.useEffect(()=>{l(e),h(n)},[e,n]);const d=u=>{u.preventDefault(),t(a),r(c),s(u)};return p.jsx(P0,{open:!0,onOpenChange:o,children:p.jsxs(Jf,{className:"sm:max-w-md",children:[p.jsx(Qf,{children:p.jsxs(Zf,{className:"flex items-center gap-2",children:[p.jsx(nv,{className:"h-5 w-5"}),"設定"]})}),p.jsxs("form",{onSubmit:d,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(en,{htmlFor:"api_provider",className:"mb-1 block",children:"API プロバイダー"}),p.jsxs(n0,{value:c,onValueChange:u=>h(u),children:[p.jsx(Hf,{id:"api_provider",className:"w-full",children:p.jsx(r0,{placeholder:"APIプロバイダーを選択"})}),p.jsxs(Vf,{children:[p.jsx(Ts,{value:"anthropic",children:"Anthropic (Claude 3.7 Sonnet)"}),p.jsx(Ts,{value:"openai",children:"OpenAI (GPT-4o)"}),p.jsx(Ts,{value:"google25",children:"Google (Gemini 2.0 Flash)"})]})]})]}),p.jsxs("div",{children:[p.jsx(en,{htmlFor:"api_key",className:"mb-1 block",children:c==="openai"?"OpenAI API キー":c==="anthropic"?"Anthropic API キー":"Google AI API キー"}),p.jsx(cf,{type:"password",id:"api_key",placeholder:c==="openai"?"sk-...":c==="anthropic"?"sk-ant-...":"AIza...",value:a,onChange:u=>l(u.target.value),className:"mb-1"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c==="openai"?p.jsxs(p.Fragment,{children:["OpenAI APIキーがなければ、",p.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"公式サイト"}),"で作成してください。"]}):c==="anthropic"?p.jsxs(p.Fragment,{children:["Anthropic APIキーがなければ、",p.jsx("a",{href:"https://console.anthropic.com/settings/keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"公式サイト"}),"で作成してください。"]}):p.jsxs(p.Fragment,{children:["Google AI APIキーがなければ、",p.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Google AI Studio"}),"で作成してください。"]})})]})]}),p.jsx("div",{className:"flex items-center",children:p.jsxs(Ke,{type:"button",variant:"ghost",className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-0 h-auto",onClick:i,children:[p.jsx(EC,{className:"h-4 w-4 mr-1"}),"キーを削除"]})})]}),p.jsxs(Yf,{className:"sm:justify-end",children:[p.jsx(Ke,{type:"button",variant:"outline",onClick:o,children:"キャンセル"}),p.jsx(Ke,{type:"submit",onClick:d,children:"保存"})]})]})})}const N0=x.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-white dark:bg-gray-800 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));N0.displayName="Textarea";function jP({customPrompt:e,userPrompt:t,setCustomPrompt:n,onGenerate:r,onClose:s,apiKey:i,apiProvider:o="openai",language:a="ja"}){const[l,c]=x.useState(!1),[h,d]=x.useState(!1),[u,m]=x.useState(!1),v=async(_,y)=>{try{const{copy:f}=await Promise.resolve().then(()=>Sb);await f(_),y==="system"?(c(!0),setTimeout(()=>c(!1),2e3)):y==="user"?(d(!0),setTimeout(()=>d(!1),2e3)):(m(!0),setTimeout(()=>m(!1),2e3))}catch(f){console.error("クリップボードへのコピーに失敗しました:",f)}},g=()=>{const _=a==="ja"?`【システムプロンプト】
${e}

【ユーザープロンプト】
${t||""}`:`[System Prompt]
${e}

[User Prompt]
${t||""}`;v(_,"all")};return p.jsx(P0,{open:!0,onOpenChange:s,children:p.jsxs(Jf,{className:"sm:max-w-xl max-h-screen overflow-y-auto",children:[p.jsx(Qf,{children:p.jsxs(Zf,{className:"flex items-center gap-2",children:[p.jsx(hC,{className:"h-5 w-5"}),a==="ja"?"AIプロンプト内容の確認":"Confirm AI Prompt Contents"]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a==="ja"?"以下の詳細なプロンプトを使用して歌詞を生成します。システムプロンプトは必要に応じて編集できます。":"The following detailed prompts will be used to generate lyrics. The system prompt can be edited as needed."}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded text-xs inline-flex items-center",children:[p.jsx("span",{className:"font-semibold mr-2",children:a==="ja"?"現在のAIプロバイダー:":"Current AI Provider:"}),p.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:o==="openai"?"OpenAI (GPT-4o)":o==="google25"?"Google (Gemini 2.0 Flash)":"Anthropic (Claude 3 Sonnet)"})]})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx(en,{htmlFor:"custom_prompt",className:"font-semibold text-base",children:a==="ja"?"システムプロンプト":"System Prompt"}),p.jsx(Ke,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500 hover:text-gray-700",onClick:()=>v(e,"system"),children:l?p.jsxs(p.Fragment,{children:[p.jsx(Gi,{className:"h-4 w-4 mr-1"}),a==="ja"?"コピー済み":"Copied"]}):p.jsxs(p.Fragment,{children:[p.jsx(nf,{className:"h-4 w-4 mr-1"}),a==="ja"?"コピー":"Copy"]})})]}),p.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-md border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 text-sm font-mono whitespace-pre-wrap overflow-x-auto max-h-48 overflow-y-auto",children:e}),p.jsxs("div",{className:"mt-4",children:[p.jsx(en,{htmlFor:"edit_prompt",className:"mb-1 block",children:a==="ja"?"システムプロンプトを編集：":"Edit System Prompt:"}),p.jsx(N0,{id:"edit_prompt",rows:5,value:e,onChange:_=>n(_.target.value),className:"resize-none text-gray-800 dark:text-gray-200 font-mono text-sm"})]})]}),t&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx(en,{htmlFor:"user_prompt",className:"font-semibold text-base",children:a==="ja"?"詳細で強力なユーザープロンプト":"Detailed and Powerful User Prompt"}),p.jsx(Ke,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500 hover:text-gray-700",onClick:()=>v(t,"user"),children:h?p.jsxs(p.Fragment,{children:[p.jsx(Gi,{className:"h-4 w-4 mr-1"}),a==="ja"?"コピー済み":"Copied"]}):p.jsxs(p.Fragment,{children:[p.jsx(nf,{className:"h-4 w-4 mr-1"}),a==="ja"?"コピー":"Copy"]})})]}),p.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-md border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200 text-sm font-mono whitespace-pre-wrap overflow-x-auto max-h-80 overflow-y-auto",children:t}),p.jsx("p",{className:"mt-2 text-xs text-gray-500",children:a==="ja"?"注意：この詳細プロンプトはMIDIデータと仮歌詞に基づいて生成され、自動的に使用されます。仮歌詞ではカンマ(,)がメロディと歌詞の文節の区切りを指定するために使用されます。このプロンプトは編集できません。":"Note: This detailed prompt is generated based on MIDI data and temporary lyrics, and is used automatically. In temporary lyrics, commas (,) are used to specify breaks between melody and lyric phrases. This prompt cannot be edited."})]})]})]}),p.jsx("div",{className:"mt-4 text-xs text-gray-500 border-t pt-2",children:p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("p",{children:a==="ja"?`※ ${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} APIキーを設定していない場合は、プロンプトをコピーして別のAIサービスで使用できます。`:`* If you haven't set up a ${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} API key, you can copy the prompts and use them with another AI service.`}),p.jsx(Ke,{variant:"outline",size:"sm",className:"flex items-center gap-1 text-blue-600 border-blue-300 hover:bg-blue-50 h-8",onClick:g,children:u?p.jsxs(p.Fragment,{children:[p.jsx(Gi,{className:"h-4 w-4"}),a==="ja"?"全てコピー済み":"All Copied"]}):p.jsxs(p.Fragment,{children:[p.jsx(nf,{className:"h-4 w-4"}),a==="ja"?"全てまとめてコピー":"Copy All"]})})]})}),p.jsxs(Yf,{className:"sm:justify-end",children:[p.jsx(Ke,{type:"button",variant:"outline",onClick:s,children:a==="ja"?"キャンセル":"Cancel"}),p.jsx(Ke,{type:"button",onClick:r,variant:"default",disabled:!i||i.trim()==="",className:`bg-blue-600 hover:bg-blue-700 text-white font-bold px-4 py-1 rounded-md ${!i||i.trim()===""?"opacity-50 cursor-not-allowed":""}`,children:!i||i.trim()===""?a==="ja"?`${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} APIキーを設定してください`:`Please set up your ${o==="openai"?"OpenAI":o==="anthropic"?"Anthropic":"Google"} API key`:a==="ja"?"このプロンプトで生成":"Generate with this prompt"})]})]})})}function $P({midiData:e,onTempLyricsUpdate:t,isVisible:n,currentFileName:r,language:s="ja"}){const[i,o]=x.useState(""),[a,l]=x.useState(""),[c,h]=x.useState(!1),[d,u]=x.useState(!1),[m,v]=x.useState(!1),g=x.useRef(null),_=x.useRef(null),y=x.useRef(s);x.useEffect(()=>{if(e){const C=!_.current||_.current.noteCount!==e.noteCount,E=y.current!==s;_.current={noteCount:e.noteCount,fileName:n?r:null},y.current=s;const P=f(e);C?(u(!1),h(!1),o(P),l(P),t(P)):d||(o(P),l(P),t(P))}},[e,r,n,t,d,s]);const f=C=>{const E=[],P=s==="ja"?"ラ":"la",A=s==="ja"?"ラー":"la-",T=s==="ja"?"ラーー":"la--";C.notes.forEach(L=>{const z=L.duration;z<=.125||z<=.25||z<=.5?E.push(P):z<=1?E.push(A):(z<=2,E.push(T))});const O=[];let U=[];return E.forEach((L,z)=>{U.push(L),((z+1)%4===0||z===E.length-1)&&(O.push(U.join("")),U=[])}),O.join("")},w=C=>{h(!0);const E=C.target.value;E.includes(",")&&u(!0),o(E)},b=()=>{h(!0)},S=()=>{h(!1)},k=()=>{o(a),t(a),h(!1)};return!n||!e?null:p.jsxs("div",{className:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(rf,{className:"h-5 w-5 text-primary-600"}),p.jsx("h3",{className:"text-lg font-semibold",children:s==="ja"?"仮歌詞エディタ":"Temporary Lyrics Editor"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ke,{variant:"outline",size:"sm",onClick:k,children:s==="ja"?"元に戻す":"Reset"}),p.jsx(Ke,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white font-bold flex items-center gap-1",onClick:()=>{t(i),v(!0),setTimeout(()=>{v(!1)},2e3)},disabled:!d,title:d?s==="ja"?"変更を反映します":"Apply changes":s==="ja"?"カンマを追加してからクリックしてください":"Please add commas before clicking",children:m?p.jsxs(p.Fragment,{children:[p.jsx(vC,{className:"h-4 w-4"}),s==="ja"?"反映済み":"Applied"]}):s==="ja"?"区切りをプロンプトに反映":"Apply Breaks to Prompt"})]})]}),p.jsxs("div",{children:[p.jsx(en,{htmlFor:"temp_lyrics",className:"mb-1 block",children:s==="ja"?"仮歌詞を編集（必要に応じてカンマ(,)でメロディ・文節の区切りを指定できます）：":"Edit temporary lyrics (use commas (,) to mark melody and phrase breaks as needed):"}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 pl-1",children:[p.jsx("span",{className:"font-semibold",children:s==="ja"?"仮歌詞の表記ルール：":"Notation rules:"}),s==="ja"?p.jsx(p.Fragment,{children:"8分音符以下の短い音符: 「ラ」 / 4分音符: 「ラー」 / 2分音符以上: 「ラーー」 / 1拍以上の休符: 「ッ」（前のフレーズの後に配置）"}):p.jsx(p.Fragment,{children:'Short notes (eighth notes and shorter): "la" / Quarter notes: "la-" / Half notes and longer: "la--" / Rests longer than one beat: "_" (placed after the previous phrase)'})]}),p.jsx("textarea",{id:"temp_lyrics",ref:g,rows:4,value:i,onChange:w,onFocus:b,onBlur:S,className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 font-mono",placeholder:s==="ja"?"MIDIファイルをアップロードすると仮歌詞が表示されます (例: ラララ)":"Temporary lyrics will appear when you upload a MIDI file (e.g., lalala)"})]}),p.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold",children:s==="ja"?"使い方：":"How to use:"}),s==="ja"?"メロディと歌詞の文節の区切りを調整したい場合は、必要に応じてカンマ(,)を手動で入力してください。":"To adjust breaks between melody and lyric phrases, manually add commas (,) as needed."]}),p.jsxs("p",{className:"mt-1",children:[p.jsx("span",{className:"font-semibold",children:s==="ja"?"例：":"Example:"}),s==="ja"?"「ラララ」→一文節として扱われます。「ララ,ラ」→二文節として扱われます。":'"lalala" → treated as one phrase. "lala,la" → treated as two phrases.']}),p.jsxs("p",{className:"mt-1",children:[p.jsx("span",{className:"font-semibold",children:s==="ja"?"ヒント：":"Tip:"}),s==="ja"?"カンマは「ここが文節の区切り」とAIに伝えるためのもので、適切に設定すると歌詞とメロディがより自然に合うようになります。":'Commas tell the AI "this is a phrase break" - setting them appropriately helps lyrics match the melody more naturally.']}),p.jsxs("p",{className:"mt-2 bg-yellow-100 dark:bg-yellow-800/30 p-2 rounded border border-yellow-200 dark:border-yellow-700 font-medium",children:[p.jsx("span",{className:"font-semibold",children:s==="ja"?"重要：":"Important:"}),s==="ja"?"カンマを追加した後は、「区切りをプロンプトに反映」ボタンをクリックしてから生成を行ってください。これによりAIにメロディと文節の区切りが正しく伝わります。":'After adding commas, click the "Apply Breaks to Prompt" button before generating lyrics. This ensures the AI correctly understands melody and phrase breaks.']})]})]})}var R0={},Al={};function DP(e){var t=new st(e),n=t.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=FP(n.data),s=[],i=0;!t.eof()&&i<r.numTracks;i++){var o=t.readChunk();if(o.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+o.id+"'";var a=LP(o.data);s.push(a)}return{header:r,tracks:s}}function FP(e){var t=new st(e),n=t.readUInt16(),r=t.readUInt16(),s={format:n,numTracks:r},i=t.readUInt16();return i&32768?(s.framesPerSecond=256-(i>>8),s.ticksPerFrame=i&255):s.ticksPerBeat=i,s}function LP(e){for(var t=new st(e),n=[];!t.eof();){var r=i();n.push(r)}return n;var s;function i(){var o={};o.deltaTime=t.readVarInt();var a=t.readUInt8();if((a&240)===240)if(a===255){o.meta=!0;var l=t.readUInt8(),c=t.readVarInt();switch(l){case 0:if(o.type="sequenceNumber",c!==2)throw"Expected length for sequenceNumber event is 2, got "+c;return o.number=t.readUInt16(),o;case 1:return o.type="text",o.text=t.readString(c),o;case 2:return o.type="copyrightNotice",o.text=t.readString(c),o;case 3:return o.type="trackName",o.text=t.readString(c),o;case 4:return o.type="instrumentName",o.text=t.readString(c),o;case 5:return o.type="lyrics",o.text=t.readString(c),o;case 6:return o.type="marker",o.text=t.readString(c),o;case 7:return o.type="cuePoint",o.text=t.readString(c),o;case 32:if(o.type="channelPrefix",c!=1)throw"Expected length for channelPrefix event is 1, got "+c;return o.channel=t.readUInt8(),o;case 33:if(o.type="portPrefix",c!=1)throw"Expected length for portPrefix event is 1, got "+c;return o.port=t.readUInt8(),o;case 47:if(o.type="endOfTrack",c!=0)throw"Expected length for endOfTrack event is 0, got "+c;return o;case 81:if(o.type="setTempo",c!=3)throw"Expected length for setTempo event is 3, got "+c;return o.microsecondsPerBeat=t.readUInt24(),o;case 84:if(o.type="smpteOffset",c!=5)throw"Expected length for smpteOffset event is 5, got "+c;var h=t.readUInt8(),d={0:24,32:25,64:29,96:30};return o.frameRate=d[h&96],o.hour=h&31,o.min=t.readUInt8(),o.sec=t.readUInt8(),o.frame=t.readUInt8(),o.subFrame=t.readUInt8(),o;case 88:if(o.type="timeSignature",c!=2&&c!=4)throw"Expected length for timeSignature event is 4 or 2, got "+c;return o.numerator=t.readUInt8(),o.denominator=1<<t.readUInt8(),c===4?(o.metronome=t.readUInt8(),o.thirtyseconds=t.readUInt8()):(o.metronome=36,o.thirtyseconds=8),o;case 89:if(o.type="keySignature",c!=2)throw"Expected length for keySignature event is 2, got "+c;return o.key=t.readInt8(),o.scale=t.readUInt8(),o;case 127:return o.type="sequencerSpecific",o.data=t.readBytes(c),o;default:return o.type="unknownMeta",o.data=t.readBytes(c),o.metatypeByte=l,o}}else if(a==240){o.type="sysEx";var c=t.readVarInt();return o.data=t.readBytes(c),o}else if(a==247){o.type="endSysEx";var c=t.readVarInt();return o.data=t.readBytes(c),o}else throw"Unrecognised MIDI event type byte: "+a;else{var u;if(a&128)u=t.readUInt8(),s=a;else{if(s===null)throw"Running status byte encountered before status byte";u=a,a=s,o.running=!0}var m=a>>4;switch(o.channel=a&15,m){case 8:return o.type="noteOff",o.noteNumber=u,o.velocity=t.readUInt8(),o;case 9:var v=t.readUInt8();return o.type=v===0?"noteOff":"noteOn",o.noteNumber=u,o.velocity=v,v===0&&(o.byte9=!0),o;case 10:return o.type="noteAftertouch",o.noteNumber=u,o.amount=t.readUInt8(),o;case 11:return o.type="controller",o.controllerType=u,o.value=t.readUInt8(),o;case 12:return o.type="programChange",o.programNumber=u,o;case 13:return o.type="channelAftertouch",o.amount=u,o;case 14:return o.type="pitchBend",o.value=u+(t.readUInt8()<<7)-8192,o;default:throw"Unrecognised MIDI event type: "+m}}}}function st(e){this.buffer=e,this.bufferLen=this.buffer.length,this.pos=0}st.prototype.eof=function(){return this.pos>=this.bufferLen},st.prototype.readUInt8=function(){var e=this.buffer[this.pos];return this.pos+=1,e},st.prototype.readInt8=function(){var e=this.readUInt8();return e&128?e-256:e},st.prototype.readUInt16=function(){var e=this.readUInt8(),t=this.readUInt8();return(e<<8)+t},st.prototype.readInt16=function(){var e=this.readUInt16();return e&32768?e-65536:e},st.prototype.readUInt24=function(){var e=this.readUInt8(),t=this.readUInt8(),n=this.readUInt8();return(e<<16)+(t<<8)+n},st.prototype.readInt24=function(){var e=this.readUInt24();return e&8388608?e-16777216:e},st.prototype.readUInt32=function(){var e=this.readUInt8(),t=this.readUInt8(),n=this.readUInt8(),r=this.readUInt8();return(e<<24)+(t<<16)+(n<<8)+r},st.prototype.readBytes=function(e){var t=this.buffer.slice(this.pos,this.pos+e);return this.pos+=e,t},st.prototype.readString=function(e){var t=this.readBytes(e);return String.fromCharCode.apply(null,t)},st.prototype.readVarInt=function(){for(var e=0;!this.eof();){var t=this.readUInt8();if(t&128)e+=t&127,e<<=7;else return e+t}return e},st.prototype.readChunk=function(){var e=this.readString(4),t=this.readUInt32(),n=this.readBytes(t);return{id:e,length:t,data:n}};var UP=DP;function BP(e,t){if(typeof e!="object")throw"Invalid MIDI data";t=t||{};var n=e.header||{},r=e.tracks||[],s,i=r.length,o=new Te;for(zP(o,n,i),s=0;s<i;s++)WP(o,r[s],t);return o.buffer}function zP(e,t,n){var r=t.format==null?1:t.format,s=128;t.timeDivision?s=t.timeDivision:t.ticksPerFrame&&t.framesPerSecond?s=-(t.framesPerSecond&255)<<8|t.ticksPerFrame&255:t.ticksPerBeat&&(s=t.ticksPerBeat&32767);var i=new Te;i.writeUInt16(r),i.writeUInt16(n),i.writeUInt16(s),e.writeChunk("MThd",i.buffer)}function WP(e,t,n){var r=new Te,s,i=t.length,o=null;for(s=0;s<i;s++)(n.running===!1||!n.running&&!t[s].running)&&(o=null),o=HP(r,t[s],o,n.useByte9ForNoteOff);e.writeChunk("MTrk",r.buffer)}function HP(e,t,n,r){var s=t.type,i=t.deltaTime,o=t.text||"",a=t.data||[],l=null;switch(e.writeVarInt(i),s){case"sequenceNumber":e.writeUInt8(255),e.writeUInt8(0),e.writeVarInt(2),e.writeUInt16(t.number);break;case"text":e.writeUInt8(255),e.writeUInt8(1),e.writeVarInt(o.length),e.writeString(o);break;case"copyrightNotice":e.writeUInt8(255),e.writeUInt8(2),e.writeVarInt(o.length),e.writeString(o);break;case"trackName":e.writeUInt8(255),e.writeUInt8(3),e.writeVarInt(o.length),e.writeString(o);break;case"instrumentName":e.writeUInt8(255),e.writeUInt8(4),e.writeVarInt(o.length),e.writeString(o);break;case"lyrics":e.writeUInt8(255),e.writeUInt8(5),e.writeVarInt(o.length),e.writeString(o);break;case"marker":e.writeUInt8(255),e.writeUInt8(6),e.writeVarInt(o.length),e.writeString(o);break;case"cuePoint":e.writeUInt8(255),e.writeUInt8(7),e.writeVarInt(o.length),e.writeString(o);break;case"channelPrefix":e.writeUInt8(255),e.writeUInt8(32),e.writeVarInt(1),e.writeUInt8(t.channel);break;case"portPrefix":e.writeUInt8(255),e.writeUInt8(33),e.writeVarInt(1),e.writeUInt8(t.port);break;case"endOfTrack":e.writeUInt8(255),e.writeUInt8(47),e.writeVarInt(0);break;case"setTempo":e.writeUInt8(255),e.writeUInt8(81),e.writeVarInt(3),e.writeUInt24(t.microsecondsPerBeat);break;case"smpteOffset":e.writeUInt8(255),e.writeUInt8(84),e.writeVarInt(5);var c={24:0,25:32,29:64,30:96},h=t.hour&31|c[t.frameRate];e.writeUInt8(h),e.writeUInt8(t.min),e.writeUInt8(t.sec),e.writeUInt8(t.frame),e.writeUInt8(t.subFrame);break;case"timeSignature":e.writeUInt8(255),e.writeUInt8(88),e.writeVarInt(4),e.writeUInt8(t.numerator);var d=Math.floor(Math.log(t.denominator)/Math.LN2)&255;e.writeUInt8(d),e.writeUInt8(t.metronome),e.writeUInt8(t.thirtyseconds||8);break;case"keySignature":e.writeUInt8(255),e.writeUInt8(89),e.writeVarInt(2),e.writeInt8(t.key),e.writeUInt8(t.scale);break;case"sequencerSpecific":e.writeUInt8(255),e.writeUInt8(127),e.writeVarInt(a.length),e.writeBytes(a);break;case"unknownMeta":t.metatypeByte!=null&&(e.writeUInt8(255),e.writeUInt8(t.metatypeByte),e.writeVarInt(a.length),e.writeBytes(a));break;case"sysEx":e.writeUInt8(240),e.writeVarInt(a.length),e.writeBytes(a);break;case"endSysEx":e.writeUInt8(247),e.writeVarInt(a.length),e.writeBytes(a);break;case"noteOff":var u=r!==!1&&t.byte9||r&&t.velocity==0?144:128;l=u|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteOn":l=144|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.velocity);break;case"noteAftertouch":l=160|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.noteNumber),e.writeUInt8(t.amount);break;case"controller":l=176|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.controllerType),e.writeUInt8(t.value);break;case"programChange":l=192|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.programNumber);break;case"channelAftertouch":l=208|t.channel,l!==n&&e.writeUInt8(l),e.writeUInt8(t.amount);break;case"pitchBend":l=224|t.channel,l!==n&&e.writeUInt8(l);var m=8192+t.value,v=m&127,g=m>>7&127;e.writeUInt8(v),e.writeUInt8(g);break;default:throw"Unrecognized event type: "+s}return l}function Te(){this.buffer=[]}Te.prototype.writeUInt8=function(e){this.buffer.push(e&255)},Te.prototype.writeInt8=Te.prototype.writeUInt8,Te.prototype.writeUInt16=function(e){var t=e>>8&255,n=e&255;this.writeUInt8(t),this.writeUInt8(n)},Te.prototype.writeInt16=Te.prototype.writeUInt16,Te.prototype.writeUInt24=function(e){var t=e>>16&255,n=e>>8&255,r=e&255;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(r)},Te.prototype.writeInt24=Te.prototype.writeUInt24,Te.prototype.writeUInt32=function(e){var t=e>>24&255,n=e>>16&255,r=e>>8&255,s=e&255;this.writeUInt8(t),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(s)},Te.prototype.writeInt32=Te.prototype.writeUInt32,Te.prototype.writeBytes=function(e){this.buffer=this.buffer.concat(Array.prototype.slice.call(e,0))},Te.prototype.writeString=function(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r.push(e.codePointAt(t));this.writeBytes(r)},Te.prototype.writeVarInt=function(e){if(e<0)throw"Cannot write negative variable-length integer";if(e<=127)this.writeUInt8(e);else{var t=e,n=[];for(n.push(t&127),t>>=7;t;){var r=t&127|128;n.push(r),t>>=7}this.writeBytes(n.reverse())}},Te.prototype.writeChunk=function(e,t){this.writeString(e),this.writeUInt32(t.length),this.writeBytes(t)};var VP=BP;Al.parseMidi=UP,Al.writeMidi=VP;var Nl={},$r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.insert=$r.search=void 0;function T0(e,t,n){n===void 0&&(n="ticks");var r=0,s=e.length,i=s;if(s>0&&e[s-1][n]<=t)return s-1;for(;r<i;){var o=Math.floor(r+(i-r)/2),a=e[o],l=e[o+1];if(a[n]===t){for(var c=o;c<e.length;c++){var h=e[c];h[n]===t&&(o=c)}return o}else{if(a[n]<t&&l[n]>t)return o;a[n]>t?i=o:a[n]<t&&(r=o+1)}}return-1}$r.search=T0;function GP(e,t,n){if(n===void 0&&(n="ticks"),e.length){var r=T0(e,t[n],n);e.splice(r+1,0,t)}else e.push(t)}$r.insert=GP,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Header=e.keySignatureKeys=void 0;var t=$r,n=new WeakMap;e.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function s(i){var o=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),i){n.set(this,i.header.ticksPerBeat),i.tracks.forEach(function(l){l.forEach(function(c){c.meta&&(c.type==="timeSignature"?o.timeSignatures.push({ticks:c.absoluteTime,timeSignature:[c.numerator,c.denominator]}):c.type==="setTempo"?o.tempos.push({bpm:6e7/c.microsecondsPerBeat,ticks:c.absoluteTime}):c.type==="keySignature"&&o.keySignatures.push({key:e.keySignatureKeys[c.key+7],scale:c.scale===0?"major":"minor",ticks:c.absoluteTime}))})});var a=0;i.tracks[0].forEach(function(l){a+=l.deltaTime,l.meta&&(l.type==="trackName"?o.name=l.text:(l.type==="text"||l.type==="cuePoint"||l.type==="marker"||l.type==="lyrics")&&o.meta.push({text:l.text,ticks:a,type:l.type}))}),this.update()}}return s.prototype.update=function(){var i=this,o=0,a=0;this.tempos.sort(function(l,c){return l.ticks-c.ticks}),this.tempos.forEach(function(l,c){var h=c>0?i.tempos[c-1].bpm:i.tempos[0].bpm,d=l.ticks/i.ppq-a,u=60/h*d;l.time=u+o,o=l.time,a+=d}),this.timeSignatures.sort(function(l,c){return l.ticks-c.ticks}),this.timeSignatures.forEach(function(l,c){var h=c>0?i.timeSignatures[c-1]:i.timeSignatures[0],d=(l.ticks-h.ticks)/i.ppq,u=d/h.timeSignature[0]/(h.timeSignature[1]/4);h.measures=h.measures||0,l.measures=u+h.measures})},s.prototype.ticksToSeconds=function(i){var o=(0,t.search)(this.tempos,i);if(o!==-1){var a=this.tempos[o],l=a.time,c=(i-a.ticks)/this.ppq;return l+60/a.bpm*c}else{var h=i/this.ppq;return 60/120*h}},s.prototype.ticksToMeasures=function(i){var o=(0,t.search)(this.timeSignatures,i);if(o!==-1){var a=this.timeSignatures[o],l=(i-a.ticks)/this.ppq;return a.measures+l/(a.timeSignature[0]/a.timeSignature[1])/4}else return i/this.ppq/4},Object.defineProperty(s.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),s.prototype.secondsToTicks=function(i){var o=(0,t.search)(this.tempos,i,"time");if(o!==-1){var a=this.tempos[o],l=a.time,c=i-l,h=c/(60/a.bpm);return Math.round(a.ticks+h*this.ppq)}else{var d=i/.5;return Math.round(d*this.ppq)}},s.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(i){return{bpm:i.bpm,ticks:i.ticks}}),timeSignatures:this.timeSignatures}},s.prototype.fromJSON=function(i){this.name=i.name,this.tempos=i.tempos.map(function(o){return Object.assign({},o)}),this.timeSignatures=i.timeSignatures.map(function(o){return Object.assign({},o)}),this.keySignatures=i.keySignatures.map(function(o){return Object.assign({},o)}),this.meta=i.meta.map(function(o){return Object.assign({},o)}),n.set(this,i.ppq),this.update()},s.prototype.setTempo=function(i){this.tempos=[{bpm:i,ticks:0}],this.update()},s}();e.Header=r}(Nl);var eo={},eh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ControlChange=e.controlChangeIds=e.controlChangeNames=void 0,e.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},e.controlChangeIds=Object.keys(e.controlChangeNames).reduce(function(s,i){return s[e.controlChangeNames[i]]=i,s},{});var t=new WeakMap,n=new WeakMap,r=function(){function s(i,o){t.set(this,o),n.set(this,i.controllerType),this.ticks=i.absoluteTime,this.value=i.value}return Object.defineProperty(s.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return e.controlChangeNames[this.number]?e.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"time",{get:function(){var i=t.get(this);return i.ticksToSeconds(this.ticks)},set:function(i){var o=t.get(this);this.ticks=o.secondsToTicks(i)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},s}();e.ControlChange=r})(eh);var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.createControlChanges=void 0;var Tl=eh;function KP(){return new Proxy({},{get:function(e,t){if(e[t])return e[t];if(Tl.controlChangeIds.hasOwnProperty(t))return e[Tl.controlChangeIds[t]]},set:function(e,t,n){return Tl.controlChangeIds.hasOwnProperty(t)?e[Tl.controlChangeIds[t]]=n:e[t]=n,!0}})}Rl.createControlChanges=KP;var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.PitchBend=void 0;var th=new WeakMap,qP=function(){function e(t,n){th.set(this,n),this.ticks=t.absoluteTime,this.value=t.value}return Object.defineProperty(e.prototype,"time",{get:function(){var t=th.get(this);return t.ticksToSeconds(this.ticks)},set:function(t){var n=th.get(this);this.ticks=n.secondsToTicks(t)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},e}();Ml.PitchBend=qP;var Ol={},ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.DrumKitByPatchID=ir.InstrumentFamilyByID=ir.instrumentByPatchID=void 0,ir.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],ir.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],ir.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"},Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.Instrument=void 0;var jl=ir,M0=new WeakMap,XP=function(){function e(t,n){if(this.number=0,M0.set(this,n),this.number=0,t){var r=t.find(function(s){return s.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.percussion?jl.DrumKitByPatchID[this.number]:jl.instrumentByPatchID[this.number]},set:function(t){var n=jl.instrumentByPatchID.indexOf(t);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){return this.percussion?"drums":jl.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percussion",{get:function(){var t=M0.get(this);return t.channel===9},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},e.prototype.fromJSON=function(t){this.number=t.number},e}();Ol.Instrument=XP;var $l={};Object.defineProperty($l,"__esModule",{value:!0}),$l.Note=void 0;function JP(e){var t=Math.floor(e/12)-1;return O0(e)+t.toString()}function O0(e){var t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=e%12;return t[n]}function QP(e){var t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return t.indexOf(e)}var YP=function(){var e=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,t={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=e.exec(n),s=r[1],i=r[2],o=t[s.toLowerCase()];return o+(parseInt(i,10)+1)*12}}(),Ms=new WeakMap,ZP=function(){function e(t,n,r){Ms.set(this,r),this.midi=t.midi,this.velocity=t.velocity,this.noteOffVelocity=n.velocity,this.ticks=t.ticks,this.durationTicks=n.ticks-t.ticks}return Object.defineProperty(e.prototype,"name",{get:function(){return JP(this.midi)},set:function(t){this.midi=YP(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(t){var n=t-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pitch",{get:function(){return O0(this.midi)},set:function(t){this.midi=12*(this.octave+1)+QP(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){var t=Ms.get(this);return t.ticksToSeconds(this.ticks+this.durationTicks)-t.ticksToSeconds(this.ticks)},set:function(t){var n=Ms.get(this),r=n.secondsToTicks(this.time+t);this.durationTicks=r-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){var t=Ms.get(this);return t.ticksToSeconds(this.ticks)},set:function(t){var n=Ms.get(this);this.ticks=n.secondsToTicks(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bars",{get:function(){var t=Ms.get(this);return t.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},e}();$l.Note=ZP,Object.defineProperty(eo,"__esModule",{value:!0}),eo.Track=void 0;var nh=$r,eA=eh,tA=Rl,nA=Ml,j0=Ol,rA=$l,Dl=new WeakMap,sA=function(){function e(t,n){var r=this;if(this.name="",this.notes=[],this.controlChanges=(0,tA.createControlChanges)(),this.pitchBends=[],Dl.set(this,n),t){var s=t.find(function(u){return u.type==="trackName"});this.name=s?s.text:""}if(this.instrument=new j0.Instrument(t,this),this.channel=0,t){for(var i=t.filter(function(u){return u.type==="noteOn"}),o=t.filter(function(u){return u.type==="noteOff"}),a=function(){var u=i.shift();l.channel=u.channel;var m=o.findIndex(function(g){return g.noteNumber===u.noteNumber&&g.absoluteTime>=u.absoluteTime});if(m!==-1){var v=o.splice(m,1)[0];l.addNote({durationTicks:v.absoluteTime-u.absoluteTime,midi:u.noteNumber,noteOffVelocity:v.velocity/127,ticks:u.absoluteTime,velocity:u.velocity/127})}},l=this;i.length;)a();var c=t.filter(function(u){return u.type==="controller"});c.forEach(function(u){r.addCC({number:u.controllerType,ticks:u.absoluteTime,value:u.value/127})});var h=t.filter(function(u){return u.type==="pitchBend"});h.forEach(function(u){r.addPitchBend({ticks:u.absoluteTime,value:u.value/Math.pow(2,13)})});var d=t.find(function(u){return u.type==="endOfTrack"});this.endOfTrackTicks=d!==void 0?d.absoluteTime:void 0}}return e.prototype.addNote=function(t){var n=Dl.get(this),r=new rA.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(r,t),(0,nh.insert)(this.notes,r,"ticks"),this},e.prototype.addCC=function(t){var n=Dl.get(this),r=new eA.ControlChange({controllerType:t.number},n);return delete t.number,Object.assign(r,t),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),(0,nh.insert)(this.controlChanges[r.number],r,"ticks"),this},e.prototype.addPitchBend=function(t){var n=Dl.get(this),r=new nA.PitchBend({},n);return Object.assign(r,t),(0,nh.insert)(this.pitchBends,r,"ticks"),this},Object.defineProperty(e.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var t=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var r=this.notes[n].time+this.notes[n].duration;t<r&&(t=r)}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var t=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var r=this.notes[n].ticks+this.notes[n].durationTicks;t<r&&(t=r)}return t},enumerable:!1,configurable:!0}),e.prototype.fromJSON=function(t){var n=this;this.name=t.name,this.channel=t.channel,this.instrument=new j0.Instrument(void 0,this),this.instrument.fromJSON(t.instrument),t.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=t.endOfTrackTicks);for(var r in t.controlChanges)t.controlChanges[r]&&t.controlChanges[r].forEach(function(s){n.addCC({number:s.number,ticks:s.ticks,value:s.value})});t.notes.forEach(function(s){n.addNote({durationTicks:s.durationTicks,midi:s.midi,ticks:s.ticks,velocity:s.velocity})})},e.prototype.toJSON=function(){for(var t={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(t[n]=this.controlChanges[n].map(function(s){return s.toJSON()}));var r={channel:this.channel,controlChanges:t,pitchBends:this.pitchBends.map(function(s){return s.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(s){return s.toJSON()})};return this.endOfTrackTicks!==void 0&&(r.endOfTrackTicks=this.endOfTrackTicks),r},e}();eo.Track=sA;var Fl={};function iA(e){var t=[];return $0(e,t),t}function $0(e,t){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?$0(r,t):t.push(r)}}const oA=kb(Object.freeze(Object.defineProperty({__proto__:null,flatten:iA},Symbol.toStringTag,{value:"Module"})));var or=zr&&zr.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.encode=void 0;var aA=Al,lA=Nl,cA=oA;function uA(e,t){return[{absoluteTime:e.ticks,channel:t,deltaTime:0,noteNumber:e.midi,type:"noteOn",velocity:Math.floor(e.velocity*127)},{absoluteTime:e.ticks+e.durationTicks,channel:t,deltaTime:0,noteNumber:e.midi,type:"noteOff",velocity:Math.floor(e.noteOffVelocity*127)}]}function dA(e){return(0,cA.flatten)(e.notes.map(function(t){return uA(t,e.channel)}))}function fA(e,t){return{absoluteTime:e.ticks,channel:t,controllerType:e.number,deltaTime:0,type:"controller",value:Math.floor(e.value*127)}}function hA(e){for(var t=[],n=0;n<127;n++)e.controlChanges.hasOwnProperty(n)&&e.controlChanges[n].forEach(function(r){t.push(fA(r,e.channel))});return t}function pA(e,t){return{absoluteTime:e.ticks,channel:t,deltaTime:0,type:"pitchBend",value:e.value}}function mA(e){var t=[];return e.pitchBends.forEach(function(n){t.push(pA(n,e.channel))}),t}function gA(e){return{absoluteTime:0,channel:e.channel,deltaTime:0,programNumber:e.instrument.number,type:"programChange"}}function yA(e){return{absoluteTime:0,deltaTime:0,meta:!0,text:e,type:"trackName"}}function vA(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/e.bpm),type:"setTempo"}}function wA(e){return{absoluteTime:e.ticks,deltaTime:0,denominator:e.timeSignature[1],meta:!0,metronome:24,numerator:e.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function xA(e){var t=lA.keySignatureKeys.indexOf(e.key);return{absoluteTime:e.ticks,deltaTime:0,key:t+7,meta:!0,scale:e.scale==="major"?0:1,type:"keySignature"}}function _A(e){return{absoluteTime:e.ticks,deltaTime:0,meta:!0,text:e.text,type:e.type}}function bA(e){var t={header:{format:1,numTracks:e.tracks.length+1,ticksPerBeat:e.header.ppq},tracks:or([or(or(or(or([{absoluteTime:0,deltaTime:0,meta:!0,text:e.header.name,type:"trackName"}],e.header.keySignatures.map(function(n){return xA(n)}),!0),e.header.meta.map(function(n){return _A(n)}),!0),e.header.tempos.map(function(n){return vA(n)}),!0),e.header.timeSignatures.map(function(n){return wA(n)}),!0)],e.tracks.map(function(n){return or(or(or([yA(n.name),gA(n)],dA(n),!0),hA(n),!0),mA(n),!0)}),!0)};return t.tracks=t.tracks.map(function(n){n=n.sort(function(s,i){return s.absoluteTime-i.absoluteTime});var r=0;return n.forEach(function(s){s.deltaTime=s.absoluteTime-r,r=s.absoluteTime,delete s.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,aA.writeMidi)(t))}Fl.encode=bA,function(e){var t=zr&&zr.__awaiter||function(d,u,m,v){function g(_){return _ instanceof m?_:new m(function(y){y(_)})}return new(m||(m=Promise))(function(_,y){function f(S){try{b(v.next(S))}catch(k){y(k)}}function w(S){try{b(v.throw(S))}catch(k){y(k)}}function b(S){S.done?_(S.value):g(S.value).then(f,w)}b((v=v.apply(d,u||[])).next())})},n=zr&&zr.__generator||function(d,u){var m={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},v,g,_,y;return y={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function f(b){return function(S){return w([b,S])}}function w(b){if(v)throw new TypeError("Generator is already executing.");for(;m;)try{if(v=1,g&&(_=b[0]&2?g.return:b[0]?g.throw||((_=g.return)&&_.call(g),0):g.next)&&!(_=_.call(g,b[1])).done)return _;switch(g=0,_&&(b=[b[0]&2,_.value]),b[0]){case 0:case 1:_=b;break;case 4:return m.label++,{value:b[1],done:!1};case 5:m.label++,g=b[1],b=[0];continue;case 7:b=m.ops.pop(),m.trys.pop();continue;default:if(_=m.trys,!(_=_.length>0&&_[_.length-1])&&(b[0]===6||b[0]===2)){m=0;continue}if(b[0]===3&&(!_||b[1]>_[0]&&b[1]<_[3])){m.label=b[1];break}if(b[0]===6&&m.label<_[1]){m.label=_[1],_=b;break}if(_&&m.label<_[2]){m.label=_[2],m.ops.push(b);break}_[2]&&m.ops.pop(),m.trys.pop();continue}b=u.call(d,m)}catch(S){b=[6,S],g=0}finally{v=_=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Header=e.Track=e.Midi=void 0;var r=Al,s=Nl,i=eo,o=Fl,a=function(){function d(u){var m=this,v=null;if(u){var g=u instanceof ArrayBuffer?new Uint8Array(u):u;v=(0,r.parseMidi)(g),v.tracks.forEach(function(_){var y=0;_.forEach(function(f){y+=f.deltaTime,f.absoluteTime=y})}),v.tracks=h(v.tracks)}this.header=new s.Header(v),this.tracks=[],u&&(this.tracks=v.tracks.map(function(_){return new i.Track(_,m.header)}),v.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return d.fromUrl=function(u){return t(this,void 0,void 0,function(){var m,v;return n(this,function(g){switch(g.label){case 0:return[4,fetch(u)];case 1:return m=g.sent(),m.ok?[4,m.arrayBuffer()]:[3,3];case 2:return v=g.sent(),[2,new d(v)];case 3:throw new Error("Could not load '".concat(u,"'"))}})})},Object.defineProperty(d.prototype,"name",{get:function(){return this.header.name},set:function(u){this.header.name=u},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"duration",{get:function(){var u=this.tracks.map(function(m){return m.duration});return Math.max.apply(Math,u)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationTicks",{get:function(){var u=this.tracks.map(function(m){return m.durationTicks});return Math.max.apply(Math,u)},enumerable:!1,configurable:!0}),d.prototype.addTrack=function(){var u=new i.Track(void 0,this.header);return this.tracks.push(u),u},d.prototype.toArray=function(){return(0,o.encode)(this)},d.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(u){return u.toJSON()})}},d.prototype.fromJSON=function(u){var m=this;this.header=new s.Header,this.header.fromJSON(u.header),this.tracks=u.tracks.map(function(v){var g=new i.Track(void 0,m.header);return g.fromJSON(v),g})},d.prototype.clone=function(){var u=new d;return u.fromJSON(this.toJSON()),u},d}();e.Midi=a;var l=eo;Object.defineProperty(e,"Track",{enumerable:!0,get:function(){return l.Track}});var c=Nl;Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return c.Header}});function h(d){for(var u=[],m=0;m<d.length;m++)for(var v=u.length,g=new Map,_=Array(16).fill(0),y=0,f=d[m];y<f.length;y++){var w=f[y],b=v,S=w.channel;if(S!==void 0){w.type==="programChange"&&(_[S]=w.programNumber);var k=_[S],C="".concat(k," ").concat(S);g.has(C)?b=g.get(C):(b=v+g.size,g.set(C,b))}u[b]||u.push([]),u[b].push(w)}return u}}(R0);function SA(){const[e,t]=x.useState(null),[n,r]=x.useState(null),[s,i]=x.useState(!1),[o,a]=x.useState(null),l=x.useRef(null),c=x.useRef({fileName:null,data:null}),h=x.useCallback(()=>{console.log("状態をリセットしています..."),t(null),a(null),r(null),c.current={fileName:null,data:null},l.current&&(l.current.value="")},[]),d=x.useCallback(async u=>{if(!u.target.files||!u.target.files[0])return;const m=u.target.files[0];if(m.name===c.current.fileName&&c.current.data){console.log("同じファイルが再度アップロードされました。スキップします:",m.name);return}i(!0),a(null),t(null),r(null);try{const v=await m.arrayBuffer(),g=new R0.Midi(v);let _=0,y=0;const f=[];g.tracks.forEach(b=>{b.notes.forEach(S=>{_++,y+=S.midi,f.push({name:S.name,duration:S.duration,time:S.time,velocity:S.velocity})})}),f.sort((b,S)=>b.time-S.time);const w={noteCount:_,duration:g.duration,averagePitch:_>0?y/_:0,notes:f};r(m.name),t(w),c.current={fileName:m.name,data:w}}catch(v){console.error("MIDIファイルの解析中にエラーが発生しました:",v),a(`MIDIファイルの解析に失敗しました: ${v instanceof Error?v.message:"不明なエラー"}`)}finally{i(!1)}},[]);return{midiData:e,currentFileName:n,isLoading:s,error:o,fileInputRef:l,analyzeMidi:d,resetState:h}}const rh="RFC3986",sh={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},CA="RFC1738",kA=Array.isArray,on=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),ih=1024,EA=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=ih){const l=i.length>=ih?i.slice(a,a+ih):i,c=[];for(let h=0;h<l.length;++h){let d=l.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===CA&&(d===40||d===41)){c[c.length]=l.charAt(h);continue}if(d<128){c[c.length]=on[d];continue}if(d<2048){c[c.length]=on[192|d>>6]+on[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=on[224|d>>12]+on[128|d>>6&63]+on[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|l.charCodeAt(h)&1023),c[c.length]=on[240|d>>18]+on[128|d>>12&63]+on[128|d>>6&63]+on[128|d&63]}o+=c.join("")}return o};function IA(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function D0(e,t){if(kA(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const PA=Object.prototype.hasOwnProperty,F0={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},an=Array.isArray,AA=Array.prototype.push,L0=function(e,t){AA.apply(e,an(t)?t:[t])},NA=Date.prototype.toISOString,Me={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:EA,encodeValuesOnly:!1,format:rh,formatter:sh[rh],indices:!1,serializeDate(e){return NA.call(e)},skipNulls:!1,strictNullHandling:!1};function RA(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const oh={};function U0(e,t,n,r,s,i,o,a,l,c,h,d,u,m,v,g,_,y){let f=e,w=y,b=0,S=!1;for(;(w=w.get(oh))!==void 0&&!S;){const A=w.get(e);if(b+=1,typeof A<"u"){if(A===b)throw new RangeError("Cyclic object value");S=!0}typeof w.get(oh)>"u"&&(b=0)}if(typeof c=="function"?f=c(t,f):f instanceof Date?f=u==null?void 0:u(f):n==="comma"&&an(f)&&(f=D0(f,function(A){return A instanceof Date?u==null?void 0:u(A):A})),f===null){if(i)return l&&!g?l(t,Me.encoder,_,"key",m):t;f=""}if(RA(f)||IA(f)){if(l){const A=g?t:l(t,Me.encoder,_,"key",m);return[(v==null?void 0:v(A))+"="+(v==null?void 0:v(l(f,Me.encoder,_,"value",m)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(f)))]}const k=[];if(typeof f>"u")return k;let C;if(n==="comma"&&an(f))g&&l&&(f=D0(f,l)),C=[{value:f.length>0?f.join(",")||null:void 0}];else if(an(c))C=c;else{const A=Object.keys(f);C=h?A.sort(h):A}const E=a?String(t).replace(/\./g,"%2E"):String(t),P=r&&an(f)&&f.length===1?E+"[]":E;if(s&&an(f)&&f.length===0)return P+"[]";for(let A=0;A<C.length;++A){const T=C[A],O=typeof T=="object"&&typeof T.value<"u"?T.value:f[T];if(o&&O===null)continue;const U=d&&a?T.replace(/\./g,"%2E"):T,L=an(f)?typeof n=="function"?n(P,U):P:P+(d?"."+U:"["+U+"]");y.set(e,b);const z=new WeakMap;z.set(oh,y),L0(k,U0(O,L,n,r,s,i,o,a,n==="comma"&&g&&an(f)?null:l,c,h,d,u,m,v,g,_,z))}return k}function TA(e=Me){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Me.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=rh;if(typeof e.format<"u"){if(!PA.call(sh,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=sh[n];let s=Me.filter;(typeof e.filter=="function"||an(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in F0?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=Me.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Me.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Me.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Me.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Me.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Me.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Me.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Me.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Me.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Me.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Me.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Me.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Me.strictNullHandling}}function MA(e,t={}){let n=e;const r=TA(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):an(r.filter)&&(i=r.filter,s=i);const o=[];if(typeof n!="object"||n===null)return"";const a=F0[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const c=new WeakMap;for(let u=0;u<s.length;++u){const m=s[u];r.skipNulls&&n[m]===null||L0(o,U0(n[m],m,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const h=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}const Os="4.96.2";let B0=!1,to,z0,W0,ah,H0,V0,G0,K0,q0;function OA(e,t={auto:!1}){if(B0)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(to)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${to}'\``);B0=t.auto,to=e.kind,z0=e.fetch,W0=e.FormData,ah=e.File,H0=e.ReadableStream,V0=e.getMultipartRequestOptions,G0=e.getDefaultAgent,K0=e.fileFromPath,q0=e.isFsReadStream}let jA=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function $A({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new jA(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const X0=()=>{to||OA($A(),{auto:!0})};X0();class B extends Error{}let ut=class Np extends B{constructor(t,n,r,s){super(`${Np.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Ll({message:r,cause:fh(n)});const i=n==null?void 0:n.error;return t===400?new J0(t,i,r,s):t===401?new Q0(t,i,r,s):t===403?new Y0(t,i,r,s):t===404?new Z0(t,i,r,s):t===409?new ex(t,i,r,s):t===422?new tx(t,i,r,s):t===429?new nx(t,i,r,s):t>=500?new rx(t,i,r,s):new Np(t,i,r,s)}},Rt=class extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},Ll=class extends ut{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},lh=class extends Ll{constructor({message:t}={}){super({message:t??"Request timed out."})}},J0=class extends ut{},Q0=class extends ut{},Y0=class extends ut{},Z0=class extends ut{},ex=class extends ut{},tx=class extends ut{},nx=class extends ut{},rx=class extends ut{};class sx extends B{constructor(){super("Could not parse response content as the length limit was reached")}}class ix extends B{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Ul=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Dr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},xt;let Bl=class{constructor(){xt.set(this,void 0),this.buffer=new Uint8Array,Ul(this,xt,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=DA(this.buffer,Dr(this,xt,"f")))!=null;){if(i.carriage&&Dr(this,xt,"f")==null){Ul(this,xt,i.index,"f");continue}if(Dr(this,xt,"f")!=null&&(i.index!==Dr(this,xt,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Dr(this,xt,"f")-1))),this.buffer=this.buffer.slice(Dr(this,xt,"f")),Ul(this,xt,null,"f");continue}const o=Dr(this,xt,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),Ul(this,xt,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new B(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new B(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new B("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}};xt=new WeakMap,Bl.NEWLINE_CHARS=new Set([`
`,"\r"]),Bl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function DA(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function FA(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function ox(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let no=class Lo{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of LA(t,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new ut(void 0,a.error,void 0,mx(t.headers));yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new ut(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Lo(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Bl,a=ox(t);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Lo(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new Lo(()=>s(t),this.controller),new Lo(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new H0({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}};async function*LA(e,t){if(!e.body)throw t.abort(),new B("Attempted to iterate over a response with no body");const n=new BA,r=new Bl,s=ox(e.body);for await(const i of UA(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*UA(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=FA(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}let BA=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=zA(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function zA(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const ax=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",lx=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&zl(e),zl=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",WA=e=>lx(e)||ax(e)||q0(e);async function cx(e,t,n){var s;if(e=await e,lx(e))return e;if(ax(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=zl(i)?[await i.arrayBuffer()]:[i];return new ah(o,t,n)}const r=await HA(e);if(t||(t=GA(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new ah(r,t,n)}async function HA(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(zl(e))t.push(await e.arrayBuffer());else if(KA(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${VA(e)}`);return t}function VA(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function GA(e){var t;return ch(e.name)||ch(e.filename)||((t=ch(e.path))==null?void 0:t.split(/[\\/]/).pop())}const ch=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},KA=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",ux=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",js=async e=>{const t=await qA(e.body);return V0(t,e)},qA=async e=>{const t=new W0;return await Promise.all(Object.entries(e||{}).map(([n,r])=>uh(t,n,r))),t},uh=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(WA(n)){const r=await cx(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>uh(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>uh(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var $s={},XA=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},JA=function(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Wl;X0();async function dx(e){var o;const{response:t}=e;if(e.options.stream)return ar("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):no.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const a=await t.json();return ar("response",t.status,t.url,t.headers,a),fx(a,t)}const i=await t.text();return ar("response",t.status,t.url,t.headers,i),i}function fx(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}let hx=class Cb extends Promise{constructor(t,n=dx){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Cb(this.responsePromise,async n=>fx(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},QA=class{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=dh("maxRetries",n),this.timeout=dh("timeout",r),this.httpAgent=s,this.fetch=i??z0}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...n2(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${o2()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&zl(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var g;const r={...t},{method:s,path:i,query:o,headers:a={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:ux(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(l),h=this.buildURL(i,o);"timeout"in r&&dh("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const d=r.httpAgent??this.httpAgent??G0(h),u=r.timeout+1e3;typeof((g=d==null?void 0:d.options)==null?void 0:g.timeout)=="number"&&u>(d.options.timeout??0)&&(d.options.timeout=u),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const m=this.buildHeaders({options:r,headers:a,contentLength:c,retryCount:n});return{req:{method:s,...l&&{body:l},headers:m,...d&&{agent:d},signal:r.signal??null},url:h,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return _x(i,o),_x(i,n),ux(t.body)&&to!=="node"&&delete i["content-type"],Vl(o,"x-stainless-retry-count")===void 0&&Vl(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),Vl(o,"x-stainless-timeout")===void 0&&Vl(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return ut.generate(t,n,r,s)}request(t,n=null){return new hx(this.makeRequest(t,n))}async makeRequest(t,n){var d,u;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),ar("request",o,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new Rt;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(fh);if(c instanceof Error){if((u=r.signal)!=null&&u.aborted)throw new Rt;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new lh:new Ll({cause:c})}const h=mx(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const f=`retrying, ${n} attempts remaining`;return ar(`response (error; ${f})`,c.status,o,h),this.retryRequest(r,n,h)}const m=await c.text().catch(f=>fh(f).message),v=r2(m),g=v?void 0:m;throw ar(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,h,g),this.makeStatusError(c.status,v,g,h)}return{response:c,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new YA(this,r,t)}buildURL(t,n){const r=i2(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return wx(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new B(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await ro(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Os}`}},px=class{constructor(t,n,r,s){Wl.set(this,void 0),XA(this,Wl,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new B("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await JA(this,Wl,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Wl=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}},YA=class extends hx{constructor(t,n,r){super(n,async s=>new r(t,s.response,await dx(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}};const mx=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),ZA={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ee=e=>typeof e=="object"&&e!==null&&!wx(e)&&Object.keys(e).every(t=>xx(ZA,t)),e2=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Os,"X-Stainless-OS":yx(Deno.build.os),"X-Stainless-Arch":gx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Os,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Os,"X-Stainless-OS":yx(process.platform),"X-Stainless-Arch":gx(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=t2();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Os,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Os,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function t2(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const gx=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",yx=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let vx;const n2=()=>vx??(vx=e2()),r2=e=>{try{return JSON.parse(e)}catch{return}},s2=/^[a-z][a-z0-9+.-]*:/i,i2=e=>s2.test(e),ro=e=>new Promise(t=>setTimeout(t,e)),dh=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new B(`${e} must be an integer`);if(t<0)throw new B(`${e} must be a positive integer`);return t},fh=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Hl=e=>{var t,n,r,s;if(typeof process<"u")return((t=$s==null?void 0:$s[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function wx(e){if(!e)return!0;for(const t in e)return!1;return!0}function xx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _x(e,t){for(const n in t){if(!xx(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}const bx=new Set(["authorization","api-key"]);function ar(e,...t){if(typeof process<"u"&&($s==null?void 0:$s.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)bx.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let s=null;for(const i in r)bx.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const o2=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),a2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",l2=e=>typeof(e==null?void 0:e.get)=="function",Vl=(e,t)=>{var r;const n=t.toLowerCase();if(l2(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},c2=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function hh(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}let Gl=class extends px{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}};class Be extends px{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}let K=class{constructor(t){this._client=t}},Sx=class extends K{list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,u2,{query:n,...r})}},Kl=class extends K{constructor(){super(...arguments),this.messages=new Sx(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/chat/completions",ql,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class ql extends Be{}class u2 extends Be{}Kl.ChatCompletionsPage=ql,Kl.Messages=Sx;let Xl=class extends K{constructor(){super(...arguments),this.completions=new Kl(this._client)}};Xl.Completions=Kl,Xl.ChatCompletionsPage=ql;class Cx extends K{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class kx extends K{create(t,n){return this._client.post("/audio/transcriptions",js({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Ex extends K{create(t,n){return this._client.post("/audio/translations",js({body:t,...n,__metadata:{model:t.model}}))}}class so extends K{constructor(){super(...arguments),this.transcriptions=new kx(this._client),this.translations=new Ex(this._client),this.speech=new Cx(this._client)}}so.Transcriptions=kx,so.Translations=Ex,so.Speech=Cx;let ph=class extends K{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/batches",mh,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}};class mh extends Be{}ph.BatchesPage=mh;var Vt=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},_e=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},gh,Jl,Ql,io,oo,Yl,ao,In,lo,Zl,ec,Ds,Ix;class yh{constructor(){gh.add(this),this.controller=new AbortController,Jl.set(this,void 0),Ql.set(this,()=>{}),io.set(this,()=>{}),oo.set(this,void 0),Yl.set(this,()=>{}),ao.set(this,()=>{}),In.set(this,{}),lo.set(this,!1),Zl.set(this,!1),ec.set(this,!1),Ds.set(this,!1),Vt(this,Jl,new Promise((t,n)=>{Vt(this,Ql,t,"f"),Vt(this,io,n,"f")}),"f"),Vt(this,oo,new Promise((t,n)=>{Vt(this,Yl,t,"f"),Vt(this,ao,n,"f")}),"f"),_e(this,Jl,"f").catch(()=>{}),_e(this,oo,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},_e(this,gh,"m",Ix).bind(this))},0)}_connected(){this.ended||(_e(this,Ql,"f").call(this),this._emit("connect"))}get ended(){return _e(this,lo,"f")}get errored(){return _e(this,Zl,"f")}get aborted(){return _e(this,ec,"f")}abort(){this.controller.abort()}on(t,n){return(_e(this,In,"f")[t]||(_e(this,In,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=_e(this,In,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(_e(this,In,"f")[t]||(_e(this,In,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Vt(this,Ds,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Vt(this,Ds,!0,"f"),await _e(this,oo,"f")}_emit(t,...n){if(_e(this,lo,"f"))return;t==="end"&&(Vt(this,lo,!0,"f"),_e(this,Yl,"f").call(this));const r=_e(this,In,"f")[t];if(r&&(_e(this,In,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!_e(this,Ds,"f")&&!(r!=null&&r.length)&&Promise.reject(s),_e(this,io,"f").call(this,s),_e(this,ao,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!_e(this,Ds,"f")&&!(r!=null&&r.length)&&Promise.reject(s),_e(this,io,"f").call(this,s),_e(this,ao,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Jl=new WeakMap,Ql=new WeakMap,io=new WeakMap,oo=new WeakMap,Yl=new WeakMap,ao=new WeakMap,In=new WeakMap,lo=new WeakMap,Zl=new WeakMap,ec=new WeakMap,Ds=new WeakMap,gh=new WeakSet,Ix=function(t){if(Vt(this,Zl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Rt),t instanceof Rt)return Vt(this,ec,!0,"f"),this._emit("abort",t);if(t instanceof B)return this._emit("error",t);if(t instanceof Error){const n=new B(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new B(String(t)))};var D=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},_t=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ze,vh,ln,tc,Gt,Fr,Fs,Lr,nc,bt,rc,sc,co,uo,fo,Px,Ax,Nx,Rx,Tx,Mx,Ox;class Kt extends yh{constructor(){super(...arguments),ze.add(this),vh.set(this,[]),ln.set(this,{}),tc.set(this,{}),Gt.set(this,void 0),Fr.set(this,void 0),Fs.set(this,void 0),Lr.set(this,void 0),nc.set(this,void 0),bt.set(this,void 0),rc.set(this,void 0),sc.set(this,void 0),co.set(this,void 0)}[(vh=new WeakMap,ln=new WeakMap,tc=new WeakMap,Gt=new WeakMap,Fr=new WeakMap,Fs=new WeakMap,Lr=new WeakMap,nc=new WeakMap,bt=new WeakMap,rc=new WeakMap,sc=new WeakMap,co=new WeakMap,ze=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Kt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=no.fromReadableStream(t,this.controller);for await(const o of s)D(this,ze,"m",uo).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new Rt;return this._addRun(D(this,ze,"m",fo).call(this))}toReadableStream(){return new no(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const o=new Kt;return o._run(()=>o._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await t.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(const h of l)D(this,ze,"m",uo).call(this,h);if((c=l.controller.signal)!=null&&c.aborted)throw new Rt;return this._addRun(D(this,ze,"m",fo).call(this))}static createThreadAssistantStream(t,n,r){const s=new Kt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new Kt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return D(this,rc,"f")}currentRun(){return D(this,sc,"f")}currentMessageSnapshot(){return D(this,Gt,"f")}currentRunStepSnapshot(){return D(this,co,"f")}async finalRunSteps(){return await this.done(),Object.values(D(this,ln,"f"))}async finalMessages(){return await this.done(),Object.values(D(this,tc,"f"))}async finalRun(){if(await this.done(),!D(this,Fr,"f"))throw Error("Final run was not received.");return D(this,Fr,"f")}async _createThreadAssistantStream(t,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of o)D(this,ze,"m",uo).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Rt;return this._addRun(D(this,ze,"m",fo).call(this))}async _createAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const c of a)D(this,ze,"m",uo).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Rt;return this._addRun(D(this,ze,"m",fo).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(hh(i)&&hh(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}for(const o of s){if(!hh(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}uo=function(t){if(!this.ended)switch(_t(this,rc,t,"f"),D(this,ze,"m",Nx).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":D(this,ze,"m",Ox).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":D(this,ze,"m",Ax).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":D(this,ze,"m",Px).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},fo=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");if(!D(this,Fr,"f"))throw Error("Final run has not been received");return D(this,Fr,"f")},Px=function(t){const[n,r]=D(this,ze,"m",Tx).call(this,t,D(this,Gt,"f"));_t(this,Gt,n,"f"),D(this,tc,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=D(this,Fs,"f")){if(D(this,Lr,"f"))switch(D(this,Lr,"f").type){case"text":this._emit("textDone",D(this,Lr,"f").text,D(this,Gt,"f"));break;case"image_file":this._emit("imageFileDone",D(this,Lr,"f").image_file,D(this,Gt,"f"));break}_t(this,Fs,s.index,"f")}_t(this,Lr,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(D(this,Fs,"f")!==void 0){const s=t.data.content[D(this,Fs,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,D(this,Gt,"f"));break;case"text":this._emit("textDone",s.text,D(this,Gt,"f"));break}}D(this,Gt,"f")&&this._emit("messageDone",t.data),_t(this,Gt,void 0,"f")}},Ax=function(t){const n=D(this,ze,"m",Rx).call(this,t);switch(_t(this,co,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==D(this,nc,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(D(this,bt,"f")&&this._emit("toolCallDone",D(this,bt,"f")),_t(this,nc,i.index,"f"),_t(this,bt,n.step_details.tool_calls[i.index],"f"),D(this,bt,"f")&&this._emit("toolCallCreated",D(this,bt,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_t(this,co,void 0,"f"),t.data.step_details.type=="tool_calls"&&D(this,bt,"f")&&(this._emit("toolCallDone",D(this,bt,"f")),_t(this,bt,void 0,"f")),this._emit("runStepDone",t.data,n);break}},Nx=function(t){D(this,vh,"f").push(t),this._emit("event",t)},Rx=function(t){switch(t.event){case"thread.run.step.created":return D(this,ln,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=D(this,ln,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=Kt.accumulateDelta(n,r.delta);D(this,ln,"f")[t.data.id]=s}return D(this,ln,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":D(this,ln,"f")[t.data.id]=t.data;break}if(D(this,ln,"f")[t.data.id])return D(this,ln,"f")[t.data.id];throw new Error("No snapshot available")},Tx=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=D(this,ze,"m",Mx).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Mx=function(t,n){return Kt.accumulateDelta(n,t)},Ox=function(t){switch(_t(this,sc,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":_t(this,Fr,t.data,"f"),D(this,bt,"f")&&(this._emit("toolCallDone",D(this,bt,"f")),_t(this,bt,void 0,"f"));break}};class wh extends K{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/assistants",xh,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class xh extends Be{}wh.AssistantsPage=xh;function jx(e){return typeof e.parse=="function"}const Ls=e=>(e==null?void 0:e.role)==="assistant",$x=e=>(e==null?void 0:e.role)==="function",Dx=e=>(e==null?void 0:e.role)==="tool";function _h(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function ho(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function d2(e,t){return!t||!Fx(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:bh(e,t)}function bh(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new sx;if(r.finish_reason==="content_filter")throw new ix;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>h2(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?f2(t,r.message.content):null}}});return{...e,choices:n}}function f2(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function h2(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:ho(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function p2(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return ho(n)||(n==null?void 0:n.function.strict)||!1}function Fx(e){var t;return _h(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>ho(n)||n.type==="function"&&n.function.strict===!0))??!1}function m2(e){for(const t of e??[]){if(t.type!=="function")throw new B(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new B(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var dt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},qe,Sh,ic,Ch,kh,Eh,Lx,Ih;const Ux=10;class Bx extends yh{constructor(){super(...arguments),qe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),($x(t)||Dx(t))&&t.content)this._emit("functionCallResult",t.content);else if(Ls(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Ls(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new B("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),dt(this,qe,"m",Sh).call(this)}async finalMessage(){return await this.done(),dt(this,qe,"m",ic).call(this)}async finalFunctionCall(){return await this.done(),dt(this,qe,"m",Ch).call(this)}async finalFunctionCallResult(){return await this.done(),dt(this,qe,"m",kh).call(this)}async totalUsage(){return await this.done(),dt(this,qe,"m",Eh).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=dt(this,qe,"m",ic).call(this);n&&this._emit("finalMessage",n);const r=dt(this,qe,"m",Sh).call(this);r&&this._emit("finalContent",r);const s=dt(this,qe,"m",Ch).call(this);s&&this._emit("finalFunctionCall",s);const i=dt(this,qe,"m",kh).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",dt(this,qe,"m",Eh).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),dt(this,qe,"m",Lx).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(bh(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var u;const s="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=Ux}=r||{},h={};for(const m of n.functions)h[m.name||m.function.name]=m;const d=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const g=(u=(await this._createChatCompletion(t,{...a,function_call:i,functions:d,messages:[...this.messages]},r)).choices[0])==null?void 0:u.message;if(!g)throw new B("missing message in ChatCompletion response");if(!g.function_call)return;const{name:_,arguments:y}=g.function_call,f=h[_];if(f){if(l&&l!==_){const k=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:_,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${d.map(C=>JSON.stringify(C.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:_,content:k});continue}let w;try{w=jx(f)?await f.parse(y):y}catch(k){this._addMessage({role:s,name:_,content:k instanceof Error?k.message:String(k)});continue}const b=await f.function(w,this),S=dt(this,qe,"m",Ih).call(this,b);if(this._addMessage({role:s,name:_,content:S}),l)return}}async _runTools(t,n,r){var m,v,g;const s="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:c=Ux}=r||{},h=n.tools.map(_=>{if(ho(_)){if(!_.$callback)throw new B("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),d={};for(const _ of h)_.type==="function"&&(d[_.function.name||_.function.function.name]=_.function);const u="tools"in n?h.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<c;++_){const f=(v=(await this._createChatCompletion(t,{...a,tool_choice:i,tools:u,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!f)throw new B("missing message in ChatCompletion response");if(!((g=f.tool_calls)!=null&&g.length))return;for(const w of f.tool_calls){if(w.type!=="function")continue;const b=w.id,{name:S,arguments:k}=w.function,C=d[S];if(C){if(l&&l!==S){const T=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:b,content:T});continue}}else{const T=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(d).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:b,content:T});continue}let E;try{E=jx(C)?await C.parse(k):k}catch(T){const O=T instanceof Error?T.message:String(T);this._addMessage({role:s,tool_call_id:b,content:O});continue}const P=await C.function(E,this),A=dt(this,qe,"m",Ih).call(this,P);if(this._addMessage({role:s,tool_call_id:b,content:A}),l)return}}}}qe=new WeakSet,Sh=function(){return dt(this,qe,"m",ic).call(this).content??null},ic=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Ls(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new B("stream ended without producing a ChatCompletionMessage with role=assistant")},Ch=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Ls(s)&&(s!=null&&s.function_call))return s.function_call;if(Ls(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},kh=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if($x(n)&&n.content!=null||Dx(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Eh=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Lx=function(t){if(t.n!=null&&t.n>1)throw new B("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ih=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class po extends Bx{static runFunctions(t,n,r){const s=new po,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new po,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),Ls(t)&&t.content&&this._emit("content",t.content)}}const zx=1,Wx=2,Hx=4,Vx=8,Gx=16,Kx=32,qx=64,Xx=128,Jx=256,Qx=Xx|Jx,Yx=Gx|Kx|Qx|qx,Zx=zx|Wx|Yx,e_=Hx|Vx,g2=Zx|e_,De={STR:zx,NUM:Wx,ARR:Hx,OBJ:Vx,NULL:Gx,BOOL:Kx,NAN:qx,INFINITY:Xx,MINUS_INFINITY:Jx,INF:Qx,SPECIAL:Yx,ATOM:Zx,COLLECTION:e_,ALL:g2};class y2 extends Error{}class v2 extends Error{}function w2(e,t=De.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return x2(e.trim(),t)}const x2=(e,t)=>{const n=e.length;let r=0;const s=u=>{throw new y2(`${u} at position ${r}`)},i=u=>{throw new v2(`${u} at position ${r}`)},o=()=>(d(),r>=n&&s("Unexpected end of input"),e[r]==='"'?a():e[r]==="{"?l():e[r]==="["?c():e.substring(r,r+4)==="null"||De.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||De.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||De.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||De.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||De.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||De.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),a=()=>{const u=r;let m=!1;for(r++;r<n&&(e[r]!=='"'||m&&e[r-1]==="\\");)m=e[r]==="\\"?!m:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(u,++r-Number(m)))}catch(v){i(String(v))}else if(De.STR&t)try{return JSON.parse(e.substring(u,r-Number(m))+'"')}catch{return JSON.parse(e.substring(u,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const u={};try{for(;e[r]!=="}";){if(d(),r>=n&&De.OBJ&t)return u;const m=a();d(),r++;try{const v=o();Object.defineProperty(u,m,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(De.OBJ&t)return u;throw v}d(),e[r]===","&&r++}}catch{if(De.OBJ&t)return u;s("Expected '}' at end of object")}return r++,u},c=()=>{r++;const u=[];try{for(;e[r]!=="]";)u.push(o()),d(),e[r]===","&&r++}catch{if(De.ARR&t)return u;s("Expected ']' at end of array")}return r++,u},h=()=>{if(r===0){e==="-"&&De.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(De.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(m))}}const u=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(De.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(u,r))}catch{e.substring(u,r)==="-"&&De.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(u,e.lastIndexOf("e")))}catch(v){i(String(v))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},t_=e=>w2(e,De.ALL^De.NUM);var Us=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},se=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Oe,Pn,Bs,lr,Ph,oc,Ah,Nh,Rh,ac,Th,n_;class mo extends Bx{constructor(t){super(),Oe.add(this),Pn.set(this,void 0),Bs.set(this,void 0),lr.set(this,void 0),Us(this,Pn,t,"f"),Us(this,Bs,[],"f")}get currentChatCompletionSnapshot(){return se(this,lr,"f")}static fromReadableStream(t){const n=new mo(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new mo(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),se(this,Oe,"m",Ph).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)se(this,Oe,"m",Ah).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Rt;return this._addChatCompletion(se(this,Oe,"m",ac).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),se(this,Oe,"m",Ph).call(this),this._connected();const s=no.fromReadableStream(t,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(se(this,Oe,"m",ac).call(this)),se(this,Oe,"m",Ah).call(this,a),i=a.id;if((o=s.controller.signal)!=null&&o.aborted)throw new Rt;return this._addChatCompletion(se(this,Oe,"m",ac).call(this))}[(Pn=new WeakMap,Bs=new WeakMap,lr=new WeakMap,Oe=new WeakSet,Ph=function(){this.ended||Us(this,lr,void 0,"f")},oc=function(n){let r=se(this,Bs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},se(this,Bs,"f")[n.index]=r,r)},Ah=function(n){var s,i,o,a,l,c,h,d,u,m,v,g,_,y,f;if(this.ended)return;const r=se(this,Oe,"m",n_).call(this,n);this._emit("chunk",n,r);for(const w of n.choices){const b=r.choices[w.index];w.delta.content!=null&&((s=b.message)==null?void 0:s.role)==="assistant"&&((i=b.message)!=null&&i.content)&&(this._emit("content",w.delta.content,b.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:b.message.content,parsed:b.message.parsed})),w.delta.refusal!=null&&((o=b.message)==null?void 0:o.role)==="assistant"&&((a=b.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:b.message.refusal}),((l=w.logprobs)==null?void 0:l.content)!=null&&((c=b.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=w.logprobs)==null?void 0:h.content,snapshot:((d=b.logprobs)==null?void 0:d.content)??[]}),((u=w.logprobs)==null?void 0:u.refusal)!=null&&((m=b.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=w.logprobs)==null?void 0:v.refusal,snapshot:((g=b.logprobs)==null?void 0:g.refusal)??[]});const S=se(this,Oe,"m",oc).call(this,b);b.finish_reason&&(se(this,Oe,"m",Rh).call(this,b),S.current_tool_call_index!=null&&se(this,Oe,"m",Nh).call(this,b,S.current_tool_call_index));for(const k of w.delta.tool_calls??[])S.current_tool_call_index!==k.index&&(se(this,Oe,"m",Rh).call(this,b),S.current_tool_call_index!=null&&se(this,Oe,"m",Nh).call(this,b,S.current_tool_call_index)),S.current_tool_call_index=k.index;for(const k of w.delta.tool_calls??[]){const C=(_=b.message.tool_calls)==null?void 0:_[k.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=C.function)==null?void 0:y.name,index:k.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((f=k.function)==null?void 0:f.arguments)??""}):(C==null||C.type,void 0))}}},Nh=function(n,r){var o,a,l;if(se(this,Oe,"m",oc).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=se(this,Pn,"f"))==null?void 0:a.tools)==null?void 0:l.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:ho(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Rh=function(n){var s,i;const r=se(this,Oe,"m",oc).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=se(this,Oe,"m",Th).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ac=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");const n=se(this,lr,"f");if(!n)throw new B("request ended without sending any chunks");return Us(this,lr,void 0,"f"),Us(this,Bs,[],"f"),_2(n,se(this,Pn,"f"))},Th=function(){var r;const n=(r=se(this,Pn,"f"))==null?void 0:r.response_format;return _h(n)?n:null},n_=function(n){var r,s,i,o;let a=se(this,lr,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=Us(this,lr,{...c,choices:[]},"f");for(const{delta:h,finish_reason:d,index:u,logprobs:m=null,...v}of n.choices){let g=a.choices[u];if(g||(g=a.choices[u]={finish_reason:d,index:u,message:{},logprobs:m,...v}),m)if(!g.logprobs)g.logprobs=Object.assign({},m);else{const{content:k,refusal:C,...E}=m;Object.assign(g.logprobs,E),k&&((r=g.logprobs).content??(r.content=[]),g.logprobs.content.push(...k)),C&&((s=g.logprobs).refusal??(s.refusal=[]),g.logprobs.refusal.push(...C))}if(d&&(g.finish_reason=d,se(this,Pn,"f")&&Fx(se(this,Pn,"f")))){if(d==="length")throw new sx;if(d==="content_filter")throw new ix}if(Object.assign(g,v),!h)continue;const{content:_,refusal:y,function_call:f,role:w,tool_calls:b,...S}=h;if(Object.assign(g.message,S),y&&(g.message.refusal=(g.message.refusal||"")+y),w&&(g.message.role=w),f&&(g.message.function_call?(f.name&&(g.message.function_call.name=f.name),f.arguments&&((i=g.message.function_call).arguments??(i.arguments=""),g.message.function_call.arguments+=f.arguments)):g.message.function_call=f),_&&(g.message.content=(g.message.content||"")+_,!g.message.refusal&&se(this,Oe,"m",Th).call(this)&&(g.message.parsed=t_(g.message.content))),b){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:k,id:C,type:E,function:P,...A}of b){const T=(o=g.message.tool_calls)[k]??(o[k]={});Object.assign(T,A),C&&(T.id=C),E&&(T.type=E),P&&(T.function??(T.function={name:P.name??"",arguments:""})),P!=null&&P.name&&(T.function.name=P.name),P!=null&&P.arguments&&(T.function.arguments+=P.arguments,p2(se(this,Pn,"f"),T)&&(T.function.parsed_arguments=t_(T.function.arguments)))}}}return a},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new no(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function _2(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:o,...a}=e,l={...a,id:n,choices:r.map(({message:c,finish_reason:h,index:d,logprobs:u,...m})=>{if(!h)throw new B(`missing finish_reason for choice ${d}`);const{content:v=null,function_call:g,tool_calls:_,...y}=c,f=c.role;if(!f)throw new B(`missing role for choice ${d}`);if(g){const{arguments:w,name:b}=g;if(w==null)throw new B(`missing function_call.arguments for choice ${d}`);if(!b)throw new B(`missing function_call.name for choice ${d}`);return{...m,message:{content:v,function_call:{arguments:w,name:b},role:f,refusal:c.refusal??null},finish_reason:h,index:d,logprobs:u}}return _?{...m,index:d,finish_reason:h,logprobs:u,message:{...y,role:f,content:v,refusal:c.refusal??null,tool_calls:_.map((w,b)=>{const{function:S,type:k,id:C,...E}=w,{arguments:P,name:A,...T}=S||{};if(C==null)throw new B(`missing choices[${d}].tool_calls[${b}].id
${lc(e)}`);if(k==null)throw new B(`missing choices[${d}].tool_calls[${b}].type
${lc(e)}`);if(A==null)throw new B(`missing choices[${d}].tool_calls[${b}].function.name
${lc(e)}`);if(P==null)throw new B(`missing choices[${d}].tool_calls[${b}].function.arguments
${lc(e)}`);return{...E,id:C,type:k,function:{...T,name:A,arguments:P}}})}}:{...m,message:{...y,content:v,role:f,refusal:c.refusal??null},finish_reason:h,index:d,logprobs:u}}),created:s,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return d2(l,t)}function lc(e){return JSON.stringify(e)}function eR(e){}class zs extends mo{static fromReadableStream(t){const n=new zs(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new zs(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new zs(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let r_=class extends K{parse(t,n){return m2(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>bh(r,t))}runFunctions(t,n){return t.stream?zs.runFunctions(this._client,t,n):po.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?zs.runTools(this._client,t,n):po.runTools(this._client,t,n)}stream(t,n){return mo.createChatCompletion(this._client,t,n)}};class Mh extends K{constructor(){super(...arguments),this.completions=new r_(this._client)}}(function(e){e.Completions=r_})(Mh||(Mh={}));class s_ extends K{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class i_ extends K{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class cc extends K{constructor(){super(...arguments),this.sessions=new s_(this._client),this.transcriptionSessions=new i_(this._client)}}cc.Sessions=s_,cc.TranscriptionSessions=i_;let Oh=class extends K{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,jh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}};class jh extends Be{}Oh.MessagesPage=jh;class $h extends K{retrieve(t,n,r,s={},i){return Ee(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return Ee(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Dh,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Dh extends Be{}$h.RunStepsPage=Dh;let go=class extends K{constructor(){super(...arguments),this.steps=new $h(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,Fh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return Kt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await ro(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return Kt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return Kt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}};class Fh extends Be{}go.RunsPage=Fh,go.Steps=$h,go.RunStepsPage=Dh;class Ws extends K{constructor(){super(...arguments),this.runs=new go(this._client),this.messages=new Oh(this._client)}create(t={},n){return Ee(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return Kt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Ws.Runs=go,Ws.RunsPage=Fh,Ws.Messages=Oh,Ws.MessagesPage=jh;let Hs=class extends K{constructor(){super(...arguments),this.realtime=new cc(this._client),this.chat=new Mh(this._client),this.assistants=new wh(this._client),this.threads=new Ws(this._client)}};Hs.Realtime=cc,Hs.Assistants=wh,Hs.AssistantsPage=xh,Hs.Threads=Ws;let o_=class extends K{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}};class a_ extends K{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&ar("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(ar("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=c2(l)}),o)))}}class Lh extends K{retrieve(t,n,r,s){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,s)}list(t,n,r={},s){return Ee(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,Uh,{query:r,...s})}}class Uh extends Be{}Lh.OutputItemListResponsesPage=Uh;class yo extends K{constructor(){super(...arguments),this.outputItems=new Lh(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,Bh,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class Bh extends Be{}yo.RunListResponsesPage=Bh,yo.OutputItems=Lh,yo.OutputItemListResponsesPage=Uh;class vo extends K{constructor(){super(...arguments),this.runs=new yo(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/evals",zh,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class zh extends Be{}vo.EvalListResponsesPage=zh,vo.Runs=yo,vo.RunListResponsesPage=Bh;let Wh=class extends K{create(t,n){return this._client.post("/files",js({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/files",Hh,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await ro(n),o=await this.retrieve(t),Date.now()-i>r)throw new lh({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}};class Hh extends Be{}Wh.FileObjectsPage=Hh;class Vh extends K{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,Gh,{body:n,method:"post",...r})}retrieve(t,n={},r){return Ee(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class Gh extends Gl{}Vh.PermissionCreateResponsesPage=Gh;let uc=class extends K{constructor(){super(...arguments),this.permissions=new Vh(this._client)}};uc.Permissions=Vh,uc.PermissionCreateResponsesPage=Gh;class Kh extends K{list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,qh,{query:n,...r})}}class qh extends Be{}Kh.FineTuningJobCheckpointsPage=qh;class Vs extends K{constructor(){super(...arguments),this.checkpoints=new Kh(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Xh,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Ee(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Jh,{query:n,...r})}}class Xh extends Be{}class Jh extends Be{}Vs.FineTuningJobsPage=Xh,Vs.FineTuningJobEventsPage=Jh,Vs.Checkpoints=Kh,Vs.FineTuningJobCheckpointsPage=qh;class Gs extends K{constructor(){super(...arguments),this.jobs=new Vs(this._client),this.checkpoints=new uc(this._client)}}Gs.Jobs=Vs,Gs.FineTuningJobsPage=Xh,Gs.FineTuningJobEventsPage=Jh,Gs.Checkpoints=uc;class l_ extends K{createVariation(t,n){return this._client.post("/images/variations",js({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",js({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}let Qh=class extends K{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Yh,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}};class Yh extends Gl{}Qh.ModelsPage=Yh;class c_ extends K{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function b2(e,t){return!t||!C2(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:u_(e,t)}function u_(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:I2(t,s)};if(s.type==="message"){const i=s.content.map(o=>o.type==="output_text"?{...o,parsed:S2(t,o.text)}:o);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||d_(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function S2(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function C2(e){var t;return!!_h((t=e.text)==null?void 0:t.format)}function k2(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function E2(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function I2(e,t){const n=E2(e.tools??[],t.name);return{...t,...t,parsed_arguments:k2(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function d_(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class f_ extends K{list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,A2,{query:n,...r})}}var Ks=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},cr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},qs,dc,ur,fc,h_,p_,m_,g_;class Zh extends yh{constructor(t){super(),qs.add(this),dc.set(this,void 0),ur.set(this,void 0),fc.set(this,void 0),Ks(this,dc,t,"f")}static createResponse(t,n,r){const s=new Zh(n);return s._run(()=>s._createResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),cr(this,qs,"m",h_).call(this);const i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)cr(this,qs,"m",p_).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Rt;return cr(this,qs,"m",m_).call(this)}[(dc=new WeakMap,ur=new WeakMap,fc=new WeakMap,qs=new WeakSet,h_=function(){this.ended||Ks(this,ur,void 0,"f")},p_=function(n){if(this.ended)return;const r=cr(this,qs,"m",g_).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new B(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new B(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:s.arguments});break}default:this._emit(n.type,n);break}},m_=function(){if(this.ended)throw new B("stream has ended, this shouldn't happen");const n=cr(this,ur,"f");if(!n)throw new B("request ended without sending any events");Ks(this,ur,void 0,"f");const r=P2(n,cr(this,dc,"f"));return Ks(this,fc,r,"f"),r},g_=function(n){let r=cr(this,ur,"f");if(!r){if(n.type!=="response.created")throw new B(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Ks(this,ur,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new B(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new B(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new B(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{Ks(this,ur,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=cr(this,fc,"f");if(!t)throw new B("stream ended without producing a ChatCompletion");return t}}function P2(e,t){return b2(e,t)}class ep extends K{constructor(){super(...arguments),this.inputItems=new f_(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&d_(r),r))}retrieve(t,n={},r){return Ee(n)?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...r})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>u_(r,t))}stream(t,n){return Zh.createResponse(this._client,t,n)}}class A2 extends Be{}ep.InputItems=f_;class y_ extends K{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,js({body:n,...r}))}}class tp extends K{constructor(){super(...arguments),this.parts=new y_(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}tp.Parts=y_;const N2=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class hc extends K{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Ee(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,pc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await ro(a);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,np,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class pc extends Be{}class np extends Gl{}hc.VectorStoreFilesPage=pc,hc.FileContentResponsesPage=np;class v_ extends K{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return Ee(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,pc,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await ro(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...r];async function h(u){for(let m of u){const v=await a.files.create({file:m,purpose:"assistants"},s);c.push(v.id)}}const d=Array(o).fill(l).map(h);return await N2(d),await this.createAndPoll(t,{file_ids:c})}}class dr extends K{constructor(){super(...arguments),this.files=new hc(this._client),this.fileBatches=new v_(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Ee(t)?this.list({},t):this._client.getAPIList("/vector_stores",rp,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,sp,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class rp extends Be{}class sp extends Gl{}dr.VectorStoresPage=rp,dr.VectorStoreSearchResponsesPage=sp,dr.Files=hc,dr.VectorStoreFilesPage=pc,dr.FileContentResponsesPage=np,dr.FileBatches=v_;var w_;class V extends QA{constructor({baseURL:t=Hl("OPENAI_BASE_URL"),apiKey:n=Hl("OPENAI_API_KEY"),organization:r=Hl("OPENAI_ORG_ID")??null,project:s=Hl("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new B("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&a2())throw new B(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new o_(this),this.chat=new Xl(this),this.embeddings=new a_(this),this.files=new Wh(this),this.images=new l_(this),this.audio=new so(this),this.moderations=new c_(this),this.models=new Qh(this),this.fineTuning=new Gs(this),this.vectorStores=new dr(this),this.beta=new Hs(this),this.batches=new ph(this),this.uploads=new tp(this),this.responses=new ep(this),this.evals=new vo(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return MA(t,{arrayFormat:"brackets"})}}w_=V,V.OpenAI=w_,V.DEFAULT_TIMEOUT=6e5,V.OpenAIError=B,V.APIError=ut,V.APIConnectionError=Ll,V.APIConnectionTimeoutError=lh,V.APIUserAbortError=Rt,V.NotFoundError=Z0,V.ConflictError=ex,V.RateLimitError=nx,V.BadRequestError=J0,V.AuthenticationError=Q0,V.InternalServerError=rx,V.PermissionDeniedError=Y0,V.UnprocessableEntityError=tx,V.toFile=cx,V.fileFromPath=K0,V.Completions=o_,V.Chat=Xl,V.ChatCompletionsPage=ql,V.Embeddings=a_,V.Files=Wh,V.FileObjectsPage=Hh,V.Images=l_,V.Audio=so,V.Moderations=c_,V.Models=Qh,V.ModelsPage=Yh,V.FineTuning=Gs,V.VectorStores=dr,V.VectorStoresPage=rp,V.VectorStoreSearchResponsesPage=sp,V.Beta=Hs,V.Batches=ph,V.BatchesPage=mh,V.Uploads=tp,V.Responses=ep,V.Evals=vo,V.EvalListResponsesPage=zh;var x_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(x_||(x_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(__||(__={}));var b_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(b_||(b_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=["user","model","function","system"];var C_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(C_||(C_={}));var k_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(k_||(k_={}));var E_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(E_||(E_={}));var I_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(I_||(I_={}));var wo;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(wo||(wo={}));var P_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(P_||(P_={}));var A_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(A_||(A_={}));var N_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(N_||(N_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Xs extends Xe{constructor(t,n){super(t),this.response=n}}class R_ extends Xe{constructor(t,n,r,s){super(t),this.status=n,this.statusText=r,this.errorDetails=s}}class fr extends Xe{}class T_ extends Xe{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="https://generativelanguage.googleapis.com",T2="v1beta",M2="0.24.1",O2="genai-js";var Ur;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ur||(Ur={}));class j2{constructor(t,n,r,s,i){this.model=t,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||T2;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||R2}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function $2(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${O2}/${M2}`),t.join(" ")}async function D2(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",$2(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new fr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new fr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new fr(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function F2(e,t,n,r,s,i){const o=new j2(e,t,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},z2(i)),{method:"POST",headers:await D2(o),body:s})}}async function xo(e,t,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await F2(e,t,n,r,s,i);return L2(a,l,o)}async function L2(e,t,n=fetch){let r;try{r=await n(e,t)}catch(s){U2(s,e)}return r.ok||await B2(r,e),r}function U2(e,t){let n=e;throw n.name==="AbortError"?(n=new T_(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof R_||e instanceof fr||(n=new Xe(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function B2(e,t){let n="",r;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new R_(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function z2(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),mc(e.candidates[0]))throw new Xs(`${hr(e)}`,e);return W2(e)}else if(e.promptFeedback)throw new Xs(`Text not available. ${hr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mc(e.candidates[0]))throw new Xs(`${hr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),M_(e)[0]}else if(e.promptFeedback)throw new Xs(`Function call not available. ${hr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mc(e.candidates[0]))throw new Xs(`${hr(e)}`,e);return M_(e)}else if(e.promptFeedback)throw new Xs(`Function call not available. ${hr(e)}`,e)},e}function W2(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function M_(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const H2=[wo.RECITATION,wo.SAFETY,wo.LANGUAGE];function mc(e){return!!e.finishReason&&H2.includes(e.finishReason)}function hr(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];mc(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function _o(e){return this instanceof _o?(this.v=e,this):new _o(e)}function V2(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(u){r[u]&&(s[u]=function(m){return new Promise(function(v,g){i.push([u,m,v,g])>1||a(u,m)})})}function a(u,m){try{l(r[u](m))}catch(v){d(i[0][3],v)}}function l(u){u.value instanceof _o?Promise.resolve(u.value.v).then(c,h):d(i[0][2],u)}function c(u){a("next",u)}function h(u){a("throw",u)}function d(u,m){u(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function G2(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=X2(t),[r,s]=n.tee();return{stream:q2(r),response:K2(s)}}async function K2(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return ip(J2(t));t.push(s)}}function q2(e){return V2(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield _o(n.read());if(s)break;yield yield _o(ip(r))}})}function X2(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Xe("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(O_),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Xe(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(O_)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new T_("Request aborted when reading from the stream"):a=new Xe("Error reading from the stream"),a})}}})}function J2(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(e,t,n,r){const s=await xo(t,Ur.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return G2(s)}async function $_(e,t,n,r){const i=await(await xo(t,Ur.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:ip(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function bo(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return Q2(t)}function Q2(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),r=!0);if(r&&s)throw new Xe("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Xe("No content is provided for sending chat message.");return r?t:n}function Y2(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new fr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(s)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=bo(e);r.contents=[i]}return{generateContentRequest:r}}function F_(e){let t;return e.contents?t=e:t={contents:[bo(e)]},e.systemInstruction&&(t.systemInstruction=D_(e.systemInstruction)),t}function Z2(e){return typeof e=="string"||Array.isArray(e)?{content:bo(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],eN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tN(e){let t=!1;for(const n of e){const{role:r,parts:s}=n;if(!t&&r!=="user")throw new Xe(`First content should be with role 'user', got ${r}`);if(!S_.includes(r))throw new Xe(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(S_)}`);if(!Array.isArray(s))throw new Xe("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Xe("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of L_)l in a&&(i[l]+=1);const o=eN[r];for(const a of L_)if(!o.includes(a)&&i[a]>0)throw new Xe(`Content with role '${r}' can't contain '${a}' part`);t=!0}}function U_(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="SILENT_ERROR";class nN{constructor(t,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(tN(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const c=bo(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n);let u;return this._sendPromise=this._sendPromise.then(()=>$_(this._apiKey,this.model,h,d)).then(m=>{var v;if(U_(m.response)){this._history.push(c);const g=Object.assign({parts:[],role:"model"},(v=m.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(g)}else{const g=hr(m.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}u=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,u}async sendMessageStream(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const c=bo(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),u=j_(this._apiKey,this.model,h,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(m=>{throw new Error(B_)}).then(m=>m.response).then(m=>{if(U_(m)){this._history.push(c);const v=Object.assign({},m.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=hr(m);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(m=>{m.message!==B_&&console.error(m)}),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(e,t,n,r){return(await xo(t,Ur.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(e,t,n,r){return(await xo(t,Ur.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function iN(e,t,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await xo(t,Ur.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=D_(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const s=F_(t),i=Object.assign(Object.assign({},this._requestOptions),n);return $_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(t,n={}){var r;const s=F_(t),i=Object.assign(Object.assign({},this._requestOptions),n);return j_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(t){var n;return new nN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=Y2(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return rN(this.apiKey,this.model,r,s)}async embedContent(t,n={}){const r=Z2(t),s=Object.assign(Object.assign({},this._requestOptions),n);return sN(this.apiKey,this.model,r,s)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return iN(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Xe("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new z_(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new fr("Cached content must contain a `name` field.");if(!t.model)throw new fr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new fr(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new z_(this.apiKey,i,r)}}const Js="0.37.0";let W_=!1,So,H_,op,V_,G_,K_;function aN(e,t={auto:!1}){if(W_)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${e.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(So)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${e.kind}'\` after \`import '@anthropic-ai/sdk/shims/${So}'\``);W_=t.auto,So=e.kind,H_=e.fetch,op=e.File,V_=e.ReadableStream,G_=e.getDefaultAgent,K_=e.fileFromPath}class lN{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function cN({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new lN(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:o=>!1}}So||aN(cN(),{auto:!0});class Y extends Error{}class Je extends Y{constructor(t,n,r,s){super(`${Je.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["request-id"],this.error=n}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new gc({message:r,cause:up(n)});const i=n;return t===400?new X_(t,i,r,s):t===401?new J_(t,i,r,s):t===403?new Q_(t,i,r,s):t===404?new Y_(t,i,r,s):t===409?new Z_(t,i,r,s):t===422?new eb(t,i,r,s):t===429?new tb(t,i,r,s):t>=500?new nb(t,i,r,s):new Je(t,i,r,s)}}class qt extends Je{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class gc extends Je{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class q_ extends gc{constructor({message:t}={}){super({message:t??"Request timed out."})}}class X_ extends Je{}class J_ extends Je{}class Q_ extends Je{}class Y_ extends Je{}class Z_ extends Je{}class eb extends Je{}class tb extends Je{}class nb extends Je{}var yc=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Br=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},St;class Co{constructor(){St.set(this,void 0),this.buffer=new Uint8Array,yc(this,St,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=uN(this.buffer,Br(this,St,"f")))!=null;){if(i.carriage&&Br(this,St,"f")==null){yc(this,St,i.index,"f");continue}if(Br(this,St,"f")!=null&&(i.index!==Br(this,St,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Br(this,St,"f")-1))),this.buffer=this.buffer.slice(Br(this,St,"f")),yc(this,St,null,"f");continue}const o=Br(this,St,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));s.push(a),this.buffer=this.buffer.slice(i.index),yc(this,St,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new Y(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new Y(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new Y("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}St=new WeakMap,Co.NEWLINE_CHARS=new Set([`
`,"\r"]),Co.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function uN(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function dN(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function ap(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class cn{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of fN(t,n)){if(o.event==="completion")try{yield JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event==="message_start"||o.event==="message_delta"||o.event==="message_stop"||o.event==="content_block_start"||o.event==="content_block_delta"||o.event==="content_block_stop")try{yield JSON.parse(o.data)}catch(a){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),a}if(o.event!=="ping"&&o.event==="error")throw Je.generate(void 0,`SSE Error: ${o.data}`,o.data,ob(t.headers))}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new cn(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const o=new Co,a=ap(t);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new cn(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();t.push(o),n.push(o)}return i.shift()}});return[new cn(()=>s(t),this.controller),new cn(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new V_({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*fN(e,t){if(!e.body)throw t.abort(),new Y("Attempted to iterate over a response with no body");const n=new pN,r=new Co,s=ap(e.body);for await(const i of hN(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*hN(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=dN(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class pN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=mN(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function mN(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const gN=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",yN=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&vc(e),vc=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function";async function vN(e,t,n){var s;if(e=await e,yN(e))return e;if(gN(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=vc(i)?[await i.arrayBuffer()]:[i];return new op(o,t,n)}const r=await wN(e);if(t||(t=_N(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new op(r,t,n)}async function wN(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(vc(e))t.push(await e.arrayBuffer());else if(bN(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${xN(e)}`);return t}function xN(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function _N(e){var t;return lp(e.name)||lp(e.filename)||((t=lp(e.path))==null?void 0:t.split(/[\\/]/).pop())}const lp=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},bN=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",rb=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";var Qs={},SN=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},CN=function(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},wc;async function sb(e){const{response:t}=e;if(e.options.stream)return Ys("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):cn.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return Ys("response",t.status,t.url,t.headers,i),ib(i,t)}const s=await t.text();return Ys("response",t.status,t.url,t.headers,s),s}function ib(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}class xc extends Promise{constructor(t,n=sb){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new xc(this.responsePromise,async n=>ib(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class kN{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=cp("maxRetries",n),this.timeout=cp("timeout",r),this.httpAgent=s,this.fetch=i??H_}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...RN(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${$N()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&vc(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var v;t={...t};const{method:r,path:s,query:i,headers:o={}}=t,a=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:rb(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(s,i);"timeout"in t&&cp("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const h=t.httpAgent??this.httpAgent??G_(c),d=t.timeout+1e3;typeof((v=h==null?void 0:h.options)==null?void 0:v.timeout)=="number"&&d>(h.options.timeout??0)&&(h.options.timeout=d),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const u=this.buildHeaders({options:t,headers:o,contentLength:l,retryCount:n});return{req:{method:r,...a&&{body:a},headers:u,...h&&{agent:h},signal:t.signal??null},url:c,timeout:t.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(t);return db(i,o),db(i,n),rb(t.body)&&So!=="node"&&delete i["content-type"],bc(o,"x-stainless-retry-count")===void 0&&bc(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),bc(o,"x-stainless-timeout")===void 0&&bc(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,n),i}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new Y("Streaming is strongly recommended for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-python#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Je.generate(t,n,r,s)}request(t,n=null){return new xc(this.makeRequest(t,n))}async makeRequest(t,n){var d,u;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:o,timeout:a}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:o,options:r}),Ys("request",o,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new qt;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(up);if(c instanceof Error){if((u=r.signal)!=null&&u.aborted)throw new qt;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new q_:new gc({cause:c})}const h=ob(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const f=`retrying, ${n} attempts remaining`;return Ys(`response (error; ${f})`,c.status,o,h),this.retryRequest(r,n,h)}const m=await c.text().catch(f=>up(f).message),v=TN(m),g=v?void 0:m;throw Ys(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,h,g),this.makeStatusError(c.status,v,g,h)}return{response:c,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new IN(this,r,t)}buildURL(t,n){const r=ON(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return _c(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Y(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r),l={signal:s.signal,...o};l.method&&(l.method=l.method.toUpperCase());const c=60*1e3,h=setTimeout(()=>{var d,u;if(l&&((d=l==null?void 0:l.agent)!=null&&d.sockets))for(const m of Object.values((u=l==null?void 0:l.agent)==null?void 0:u.sockets).flat())m!=null&&m.setKeepAlive&&m.setKeepAlive(!0,c)},c);return this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(a),clearTimeout(h)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await jN(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Js}`}}class EN{constructor(t,n,r,s){wc.set(this,void 0),SN(this,wc,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new Y("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await CN(this,wc,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(wc=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class IN extends xc{constructor(t,n,r){super(n,async s=>new r(t,s.response,await sb(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const ob=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),PN={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},pr=e=>typeof e=="object"&&e!==null&&!_c(e)&&Object.keys(e).every(t=>ub(PN,t)),AN=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":lb(Deno.build.os),"X-Stainless-Arch":ab(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":lb(process.platform),"X-Stainless-Arch":ab(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=NN();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Js,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function NN(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${i}.${o}`}}}return null}const ab=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",lb=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let cb;const RN=()=>cb??(cb=AN()),TN=e=>{try{return JSON.parse(e)}catch{return}},MN=/^[a-z][a-z0-9+.-]*:/i,ON=e=>MN.test(e),jN=e=>new Promise(t=>setTimeout(t,e)),cp=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Y(`${e} must be an integer`);if(t<0)throw new Y(`${e} must be a positive integer`);return t},up=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(String(e))},dp=e=>{var t,n,r,s;if(typeof process<"u")return((t=Qs==null?void 0:Qs[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function _c(e){if(!e)return!0;for(const t in e)return!1;return!0}function ub(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function db(e,t){for(const n in t){if(!ub(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}function Ys(e,...t){typeof process<"u"&&(Qs==null?void 0:Qs.DEBUG)==="true"&&console.log(`Anthropic:DEBUG:${e}`,...t)}const $N=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),DN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",FN=e=>typeof(e==null?void 0:e.get)=="function",bc=(e,t)=>{var r;const n=t.toLowerCase();if(FN(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const o=e.get(i);if(o)return o}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};class Sc extends EN{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var n;if((n=this.options.query)!=null&&n.before_id){const r=this.first_id;return r?{params:{before_id:r}}:null}const t=this.last_id;return t?{params:{after_id:t}}:null}}class mr{constructor(t){this._client=t}}let fp=class extends mr{retrieve(t,n){return this._client.get(`/v1/models/${t}?beta=true`,n)}list(t={},n){return pr(t)?this.list({},t):this._client.getAPIList("/v1/models?beta=true",hp,{query:t,...n})}};class hp extends Sc{}fp.BetaModelInfosPage=hp;class Cc{constructor(t,n){this.iterator=t,this.controller=n}async*decoder(){const t=new Co;for await(const n of this.iterator)for(const r of t.decode(n))yield JSON.parse(r);for(const n of t.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,n){if(!t.body)throw n.abort(),new Y("Attempted to iterate over a response with no body");return new Cc(ap(t.body),n)}}let pp=class extends mr{create(t,n){const{betas:r,...s}=t;return this._client.post("/v1/messages/batches?beta=true",{body:s,...n,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...n==null?void 0:n.headers}})}retrieve(t,n={},r){if(pr(n))return this.retrieve(t,{},n);const{betas:s}=n;return this._client.get(`/v1/messages/batches/${t}?beta=true`,{...r,headers:{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),...r==null?void 0:r.headers}})}list(t={},n){if(pr(t))return this.list({},t);const{betas:r,...s}=t;return this._client.getAPIList("/v1/messages/batches?beta=true",mp,{query:s,...n,headers:{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),...n==null?void 0:n.headers}})}delete(t,n={},r){if(pr(n))return this.delete(t,{},n);const{betas:s}=n;return this._client.delete(`/v1/messages/batches/${t}?beta=true`,{...r,headers:{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),...r==null?void 0:r.headers}})}cancel(t,n={},r){if(pr(n))return this.cancel(t,{},n);const{betas:s}=n;return this._client.post(`/v1/messages/batches/${t}/cancel?beta=true`,{...r,headers:{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),...r==null?void 0:r.headers}})}async results(t,n={},r){if(pr(n))return this.results(t,{},n);const s=await this.retrieve(t);if(!s.results_url)throw new Y(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:i}=n;return this._client.get(s.results_url,{...r,headers:{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})._thenUnwrap((o,a)=>Cc.fromResponse(a.response,a.controller))}};class mp extends Sc{}pp.BetaMessageBatchesPage=mp;const LN=e=>{let t=0,n=[];for(;t<e.length;){let r=e[t];if(r==="\\"){t++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),t++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),t++;continue}if(r==="["){n.push({type:"paren",value:"["}),t++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),t++;continue}if(r===":"){n.push({type:"separator",value:":"}),t++;continue}if(r===","){n.push({type:"delimiter",value:","}),t++;continue}if(r==='"'){let a="",l=!1;for(r=e[++t];r!=='"';){if(t===e.length){l=!0;break}if(r==="\\"){if(t++,t===e.length){l=!0;break}a+=r+e[t],r=e[++t]}else a+=r,r=e[++t]}r=e[++t],l||n.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){t++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let a="";for(r==="-"&&(a+=r,r=e[++t]);r&&i.test(r)||r===".";)a+=r,r=e[++t];n.push({type:"number",value:a});continue}let o=/[a-z]/i;if(r&&o.test(r)){let a="";for(;r&&o.test(r)&&t!==e.length;)a+=r,r=e[++t];if(a=="true"||a=="false"||a==="null")n.push({type:"name",value:a});else{t++;continue}continue}t++}return n},Zs=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),Zs(e);case"number":let n=t.value[t.value.length-1];if(n==="."||n==="-")return e=e.slice(0,e.length-1),Zs(e);case"string":let r=e[e.length-2];if((r==null?void 0:r.type)==="delimiter")return e=e.slice(0,e.length-1),Zs(e);if((r==null?void 0:r.type)==="brace"&&r.value==="{")return e=e.slice(0,e.length-1),Zs(e);break;case"delimiter":return e=e.slice(0,e.length-1),Zs(e)}return e},UN=e=>{let t=[];return e.map(n=>{n.type==="brace"&&(n.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(n=>{n==="}"?e.push({type:"brace",value:"}"}):n==="]"&&e.push({type:"paren",value:"]"})}),e},BN=e=>{let t="";return e.map(n=>{switch(n.type){case"string":t+='"'+n.value+'"';break;default:t+=n.value;break}}),t},fb=e=>JSON.parse(BN(UN(Zs(LN(e)))));var Qe=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},X=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Tt,gr,ko,kc,Eo,Io,Ec,Po,An,Ao,Ic,Pc,ei,Ac,Nc,gp,hb,yp,vp,wp,xp,pb;const mb="__json_buf";class Rc{constructor(){Tt.add(this),this.messages=[],this.receivedMessages=[],gr.set(this,void 0),this.controller=new AbortController,ko.set(this,void 0),kc.set(this,()=>{}),Eo.set(this,()=>{}),Io.set(this,void 0),Ec.set(this,()=>{}),Po.set(this,()=>{}),An.set(this,{}),Ao.set(this,!1),Ic.set(this,!1),Pc.set(this,!1),ei.set(this,!1),Ac.set(this,void 0),Nc.set(this,void 0),yp.set(this,t=>{if(Qe(this,Ic,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new qt),t instanceof qt)return Qe(this,Pc,!0,"f"),this._emit("abort",t);if(t instanceof Y)return this._emit("error",t);if(t instanceof Error){const n=new Y(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Y(String(t)))}),Qe(this,ko,new Promise((t,n)=>{Qe(this,kc,t,"f"),Qe(this,Eo,n,"f")}),"f"),Qe(this,Io,new Promise((t,n)=>{Qe(this,Ec,t,"f"),Qe(this,Po,n,"f")}),"f"),X(this,ko,"f").catch(()=>{}),X(this,Io,"f").catch(()=>{})}get response(){return X(this,Ac,"f")}get request_id(){return X(this,Nc,"f")}async withResponse(){const t=await X(this,ko,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new Rc;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const s=new Rc;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},X(this,yp,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),X(this,Tt,"m",vp).call(this);const{response:i,data:o}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(i);for await(const l of o)X(this,Tt,"m",wp).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new qt;X(this,Tt,"m",xp).call(this)}_connected(t){this.ended||(Qe(this,Ac,t,"f"),Qe(this,Nc,t==null?void 0:t.headers.get("request-id"),"f"),X(this,kc,"f").call(this,t),this._emit("connect"))}get ended(){return X(this,Ao,"f")}get errored(){return X(this,Ic,"f")}get aborted(){return X(this,Pc,"f")}abort(){this.controller.abort()}on(t,n){return(X(this,An,"f")[t]||(X(this,An,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=X(this,An,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(X(this,An,"f")[t]||(X(this,An,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Qe(this,ei,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Qe(this,ei,!0,"f"),await X(this,Io,"f")}get currentMessage(){return X(this,gr,"f")}async finalMessage(){return await this.done(),X(this,Tt,"m",gp).call(this)}async finalText(){return await this.done(),X(this,Tt,"m",hb).call(this)}_emit(t,...n){if(X(this,Ao,"f"))return;t==="end"&&(Qe(this,Ao,!0,"f"),X(this,Ec,"f").call(this));const r=X(this,An,"f")[t];if(r&&(X(this,An,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!X(this,ei,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,Eo,"f").call(this,s),X(this,Po,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!X(this,ei,"f")&&!(r!=null&&r.length)&&Promise.reject(s),X(this,Eo,"f").call(this,s),X(this,Po,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",X(this,Tt,"m",gp).call(this))}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),X(this,Tt,"m",vp).call(this),this._connected(null);const s=cn.fromReadableStream(t,this.controller);for await(const o of s)X(this,Tt,"m",wp).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new qt;X(this,Tt,"m",xp).call(this)}[(gr=new WeakMap,ko=new WeakMap,kc=new WeakMap,Eo=new WeakMap,Io=new WeakMap,Ec=new WeakMap,Po=new WeakMap,An=new WeakMap,Ao=new WeakMap,Ic=new WeakMap,Pc=new WeakMap,ei=new WeakMap,Ac=new WeakMap,Nc=new WeakMap,yp=new WeakMap,Tt=new WeakSet,gp=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},hb=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Y("stream ended without producing a content block with type=text");return n.join(" ")},vp=function(){this.ended||Qe(this,gr,void 0,"f")},wp=function(n){if(this.ended)return;const r=X(this,Tt,"m",pb).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{s.type==="tool_use"&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Qe(this,gr,r,"f");break}}},xp=function(){if(this.ended)throw new Y("stream has ended, this shouldn't happen");const n=X(this,gr,"f");if(!n)throw new Y("request ended without sending any chunks");return Qe(this,gr,void 0,"f"),n},pb=function(n){let r=X(this,gr,"f");if(n.type==="message_start"){if(r)throw new Y(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Y(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(s.text+=n.delta.text);break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(s.citations??(s.citations=[]),s.citations.push(n.delta.citation));break}case"input_json_delta":{if((s==null?void 0:s.type)==="tool_use"){let i=s[mb]||"";i+=n.delta.partial_json,Object.defineProperty(s,mb,{value:i,enumerable:!1,writable:!0}),i&&(s.input=fb(i))}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(s.thinking+=n.delta.thinking);break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(s.signature=n.delta.signature);break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new cn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function tR(e){}const gb={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};let Tc=class extends mr{constructor(){super(...arguments),this.batches=new pp(this._client)}create(t,n){const{betas:r,...s}=t;return s.model in gb&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${gb[s.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages?beta=true",{body:s,timeout:this._client._options.timeout??(s.stream?6e5:this._client._calculateNonstreamingTimeout(s.max_tokens)),...n,headers:{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0,...n==null?void 0:n.headers},stream:t.stream??!1})}stream(t,n){return Rc.createMessage(this,t,n)}countTokens(t,n){const{betas:r,...s}=t;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...n,headers:{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString(),...n==null?void 0:n.headers}})}};Tc.Batches=pp,Tc.BetaMessageBatchesPage=mp;class No extends mr{constructor(){super(...arguments),this.models=new fp(this._client),this.messages=new Tc(this._client)}}No.Models=fp,No.BetaModelInfosPage=hp,No.Messages=Tc;class yb extends mr{create(t,n){return this._client.post("/v1/complete",{body:t,timeout:this._client._options.timeout??6e5,...n,stream:t.stream??!1})}}class _p extends mr{create(t,n){return this._client.post("/v1/messages/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/v1/messages/batches/${t}`,n)}list(t={},n){return pr(t)?this.list({},t):this._client.getAPIList("/v1/messages/batches",bp,{query:t,...n})}delete(t,n){return this._client.delete(`/v1/messages/batches/${t}`,n)}cancel(t,n){return this._client.post(`/v1/messages/batches/${t}/cancel`,n)}async results(t,n){const r=await this.retrieve(t);if(!r.results_url)throw new Y(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})._thenUnwrap((s,i)=>Cc.fromResponse(i.response,i.controller))}}class bp extends Sc{}_p.MessageBatchesPage=bp;var Ye=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},J=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Mt,yr,Ro,Mc,To,Mo,Oc,Oo,Nn,jo,jc,$c,ti,Dc,Fc,Sp,vb,Cp,kp,Ep,Ip,wb;const xb="__json_buf";class Lc{constructor(){Mt.add(this),this.messages=[],this.receivedMessages=[],yr.set(this,void 0),this.controller=new AbortController,Ro.set(this,void 0),Mc.set(this,()=>{}),To.set(this,()=>{}),Mo.set(this,void 0),Oc.set(this,()=>{}),Oo.set(this,()=>{}),Nn.set(this,{}),jo.set(this,!1),jc.set(this,!1),$c.set(this,!1),ti.set(this,!1),Dc.set(this,void 0),Fc.set(this,void 0),Cp.set(this,t=>{if(Ye(this,jc,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new qt),t instanceof qt)return Ye(this,$c,!0,"f"),this._emit("abort",t);if(t instanceof Y)return this._emit("error",t);if(t instanceof Error){const n=new Y(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Y(String(t)))}),Ye(this,Ro,new Promise((t,n)=>{Ye(this,Mc,t,"f"),Ye(this,To,n,"f")}),"f"),Ye(this,Mo,new Promise((t,n)=>{Ye(this,Oc,t,"f"),Ye(this,Oo,n,"f")}),"f"),J(this,Ro,"f").catch(()=>{}),J(this,Mo,"f").catch(()=>{})}get response(){return J(this,Dc,"f")}get request_id(){return J(this,Fc,"f")}async withResponse(){const t=await J(this,Ro,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new Lc;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const s=new Lc;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},J(this,Cp,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),J(this,Mt,"m",kp).call(this);const{response:i,data:o}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(i);for await(const l of o)J(this,Mt,"m",Ep).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new qt;J(this,Mt,"m",Ip).call(this)}_connected(t){this.ended||(Ye(this,Dc,t,"f"),Ye(this,Fc,t==null?void 0:t.headers.get("request-id"),"f"),J(this,Mc,"f").call(this,t),this._emit("connect"))}get ended(){return J(this,jo,"f")}get errored(){return J(this,jc,"f")}get aborted(){return J(this,$c,"f")}abort(){this.controller.abort()}on(t,n){return(J(this,Nn,"f")[t]||(J(this,Nn,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=J(this,Nn,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(J(this,Nn,"f")[t]||(J(this,Nn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Ye(this,ti,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Ye(this,ti,!0,"f"),await J(this,Mo,"f")}get currentMessage(){return J(this,yr,"f")}async finalMessage(){return await this.done(),J(this,Mt,"m",Sp).call(this)}async finalText(){return await this.done(),J(this,Mt,"m",vb).call(this)}_emit(t,...n){if(J(this,jo,"f"))return;t==="end"&&(Ye(this,jo,!0,"f"),J(this,Oc,"f").call(this));const r=J(this,Nn,"f")[t];if(r&&(J(this,Nn,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!J(this,ti,"f")&&!(r!=null&&r.length)&&Promise.reject(s),J(this,To,"f").call(this,s),J(this,Oo,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!J(this,ti,"f")&&!(r!=null&&r.length)&&Promise.reject(s),J(this,To,"f").call(this,s),J(this,Oo,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",J(this,Mt,"m",Sp).call(this))}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),J(this,Mt,"m",kp).call(this),this._connected(null);const s=cn.fromReadableStream(t,this.controller);for await(const o of s)J(this,Mt,"m",Ep).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new qt;J(this,Mt,"m",Ip).call(this)}[(yr=new WeakMap,Ro=new WeakMap,Mc=new WeakMap,To=new WeakMap,Mo=new WeakMap,Oc=new WeakMap,Oo=new WeakMap,Nn=new WeakMap,jo=new WeakMap,jc=new WeakMap,$c=new WeakMap,ti=new WeakMap,Dc=new WeakMap,Fc=new WeakMap,Cp=new WeakMap,Mt=new WeakSet,Sp=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},vb=function(){if(this.receivedMessages.length===0)throw new Y("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Y("stream ended without producing a content block with type=text");return n.join(" ")},kp=function(){this.ended||Ye(this,yr,void 0,"f")},Ep=function(n){if(this.ended)return;const r=J(this,Mt,"m",wb).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{s.type==="tool_use"&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{Ye(this,yr,r,"f");break}}},Ip=function(){if(this.ended)throw new Y("stream has ended, this shouldn't happen");const n=J(this,yr,"f");if(!n)throw new Y("request ended without sending any chunks");return Ye(this,yr,void 0,"f"),n},wb=function(n){let r=J(this,yr,"f");if(n.type==="message_start"){if(r)throw new Y(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Y(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(s.text+=n.delta.text);break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(s.citations??(s.citations=[]),s.citations.push(n.delta.citation));break}case"input_json_delta":{if((s==null?void 0:s.type)==="tool_use"){let i=s[xb]||"";i+=n.delta.partial_json,Object.defineProperty(s,xb,{value:i,enumerable:!1,writable:!0}),i&&(s.input=fb(i))}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(s.thinking+=n.delta.thinking);break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(s.signature=n.delta.signature);break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new cn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function nR(e){}class Uc extends mr{constructor(){super(...arguments),this.batches=new _p(this._client)}create(t,n){return t.model in _b&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${_b[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`),this._client.post("/v1/messages",{body:t,timeout:this._client._options.timeout??(t.stream?6e5:this._client._calculateNonstreamingTimeout(t.max_tokens)),...n,stream:t.stream??!1})}stream(t,n){return Lc.createMessage(this,t,n)}countTokens(t,n){return this._client.post("/v1/messages/count_tokens",{body:t,...n})}}const _b={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};Uc.Batches=_p,Uc.MessageBatchesPage=bp;class Pp extends mr{retrieve(t,n){return this._client.get(`/v1/models/${t}`,n)}list(t={},n){return pr(t)?this.list({},t):this._client.getAPIList("/v1/models",Ap,{query:t,...n})}}class Ap extends Sc{}Pp.ModelInfosPage=Ap;var bb;class ae extends kN{constructor({baseURL:t=dp("ANTHROPIC_BASE_URL"),apiKey:n=dp("ANTHROPIC_API_KEY")??null,authToken:r=dp("ANTHROPIC_AUTH_TOKEN")??null,...s}={}){const i={apiKey:n,authToken:r,...s,baseURL:t||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&DN())throw new Y(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new yb(this),this.messages=new Uc(this),this.models=new Pp(this),this.beta=new No(this),this._options=i,this.apiKey=n,this.authToken=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(t,n){if(!(this.apiKey&&t["x-api-key"])&&n["x-api-key"]!==null&&!(this.authToken&&t.authorization)&&n.authorization!==null)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(t){const n=this.apiKeyAuth(t),r=this.bearerAuth(t);return n!=null&&!_c(n)?n:r!=null&&!_c(r)?r:{}}apiKeyAuth(t){return this.apiKey==null?{}:{"X-Api-Key":this.apiKey}}bearerAuth(t){return this.authToken==null?{}:{Authorization:`Bearer ${this.authToken}`}}}bb=ae,ae.Anthropic=bb,ae.HUMAN_PROMPT=`

Human:`,ae.AI_PROMPT=`

Assistant:`,ae.DEFAULT_TIMEOUT=6e5,ae.AnthropicError=Y,ae.APIError=Je,ae.APIConnectionError=gc,ae.APIConnectionTimeoutError=q_,ae.APIUserAbortError=qt,ae.NotFoundError=Y_,ae.ConflictError=Z_,ae.RateLimitError=tb,ae.BadRequestError=X_,ae.AuthenticationError=J_,ae.InternalServerError=nb,ae.PermissionDeniedError=Q_,ae.UnprocessableEntityError=eb,ae.toFile=vN,ae.fileFromPath=K_,ae.Completions=yb,ae.Messages=Uc,ae.Models=Pp,ae.ModelInfosPage=Ap,ae.Beta=No;const{HUMAN_PROMPT:rR,AI_PROMPT:sR}=ae,ni="anthropic";function zN(){const[e,t]=x.useState(""),[n,r]=x.useState(ni),[s,i]=x.useState(null);x.useEffect(()=>{console.log("初期化: APIプロバイダー設定をチェック・初期化します");{console.log("🔄 強制リセット: APIプロバイダー設定を強制的に「anthropic」に設定します"),localStorage.setItem("ai_provider",ni),r(ni);const l=localStorage.getItem(`ai_api_key_${ni}`),c=localStorage.getItem("ai_api_key");l?t(l):c&&t(c);return}},[]),x.useEffect(()=>{if(!e){i(null);return}if(n==="openai"){const l=new V({apiKey:e,dangerouslyAllowBrowser:!0});i({openai:l,provider:"openai"})}else if(n==="google25"){const l=new oN(e);i({google:l,provider:n})}else if(n==="anthropic"){const l=new ae({apiKey:e,dangerouslyAllowBrowser:!0});i({anthropic:l,provider:"anthropic"})}},[e,n]);const o=x.useCallback(l=>{l.preventDefault();const c=`ai_api_key_${n}`;e?(localStorage.setItem(c,e),localStorage.setItem("ai_api_key",e),localStorage.setItem("ai_provider",n)):(localStorage.removeItem(c),localStorage.removeItem("ai_api_key"))},[e,n]),a=x.useCallback(()=>{console.log("🗑️ APIキーを削除し、デフォルトのAPIプロバイダー設定にリセットします"),t(""),localStorage.removeItem(`ai_api_key_${n}`),localStorage.removeItem("ai_api_key"),r(ni),localStorage.setItem("ai_provider",ni),i(null)},[n]);return{aiClient:s,apiKey:e,apiProvider:n,setApiKey:t,setApiProvider:r,handleApiKeySubmit:o,handleApiKeyDelete:a,isClientReady:!!s}}function WN({midiData:e,currentFileName:t,language:n,songTitle:r,songMood:s,customPrompt:i,setCustomPrompt:o,setShowPromptPreview:a,customTempLyrics:l=""}){const[c,h]=x.useState(""),[d,u]=x.useState(!1),[m,v]=x.useState(null),[g,_]=x.useState([]),[y,f]=x.useState(-1),[w,b]=x.useState(!1),[S,k]=x.useState(""),{aiClient:C,apiKey:E,apiProvider:P,setApiKey:A,setApiProvider:T,handleApiKeySubmit:O,handleApiKeyDelete:U}=zN();x.useEffect(()=>{var N;if(c&&(g.length===0||((N=g[y])==null?void 0:N.lyrics)!==c)){const M=[...g.slice(0,y+1),{lyrics:c,timestamp:Date.now()}];_(M),f(M.length-1)}},[c,g,y]),x.useEffect(()=>{t&&(_([]),f(-1))},[t]);const L=x.useCallback(N=>{const M=N.notes.slice(0,20).map(Se=>`${Se.name}(${Se.duration.toFixed(2)}s)`).join(", "),j={veryShort:0,short:0,eighth:0,quarter:0,half:0,whole:0},q=[];N.notes.forEach(Se=>{const Z=Se.duration;Z<=.125?(j.veryShort++,q.push("ラ")):Z<=.25?(j.short++,q.push("ラ")):Z<=.5?(j.eighth++,q.push("ラ")):Z<=1?(j.quarter++,q.push("ラー")):Z<=2?(j.half++,q.push("ラーー")):(j.whole++,q.push("ラーー"))});const ge=[];let le=[];q.forEach((Se,Z)=>{le.push(Se),((Z+1)%4===0||Z===q.length-1)&&(ge.push(le.join(",")),le=[])});let be=ge.join("  ");l&&l.trim()&&(be=l);const te=s&&s!=="none"?s:"指定なし",F=n==="ja"?`あなたはプロの作詞家です。提供されたMIDIファイルの分析情報に基づいて、メロディに完全に合った歌詞を生成してください。
曲のタイトル: ${r||"指定なし"}
曲の雰囲気: ${te}
歌詞の言語: 日本語`:`You are a professional lyricist. Based on the analysis information of the provided MIDI file, please generate lyrics that perfectly match the melody.
Song title: ${r||"Not specified"}
Song mood: ${s&&s!=="none"?s:"Not specified"}
Lyrics language: English`,ne=n==="ja"?`音符パターンに完全に一致する歌詞を生成してください。

曲の設定:
タイトル: ${r||"指定なし"}
イメージ: ${te}

音符パターンの詳細:
32分音符以下: ${j.veryShort}個
16分音符: ${j.short}個
8分音符: ${j.eighth}個
4分音符: ${j.quarter}個
2分音符: ${j.half}個
全音符以上: ${j.whole}個

絶対に守るべき制約：
1. 音符数の厳密な一致:
   - ${N.noteCount}個の音符に対応する音節を生成すること
   - 音符数の差異は許容しない
   - 1音符に対して1音節を基本とする
   - 音符の長さに応じて最大音節数が変化する

2. 音符の長さと音節数の厳密な対応:
   - 32分音符以下: 1音節のみ
   - 16分音符: 1音節のみ
   - 8分音符: 1音節のみ
   - 4分音符: 最大2音節
   - 2分音符: 最大2音節
   - 全音符以上: 最大2音節

3. 表現とフォーマット:
   - 余計な説明や前置き、コメントを含めないこと
   - 余分な文字や空白を追加しないこと
   - 自然な日本語の流れを維持すること
   - 前回の生成結果は考慮しないこと
   - タイトルと曲調に合った内容にすること

4. 音符パターンの順序と文節のまとまり:
   以下の音符パターンに従って歌詞を生成してください。
   カンマ(,)で区切られている場合、それらは一つの文節として扱ってください。

仮歌詞の表記ルール:
- 8分音符以下の短い音符: 「ラ」
- 4分音符: 「ラー」
- 2分音符以上: 「ラーー」
- 1拍以上の休符: 「ッ」（前のフレーズの後に配置）
- カンマ(,)はメロディと歌詞の文節の区切りを示し、カンマで区切られた音符は一つの文節として扱われます

現在のフレーズのまとまり:
${be}

最初のノートシーケンス (一部): ${M}

指示:
- メロディのリズムと音符の長さに合わせて、自然な歌詞を作成してください。
- ${r?`曲のタイトル「${r}」を考慮してください。`:""}
- ${s&&s!=="none"?`曲の雰囲気「${s}」を反映させてください。`:""}
- 歌詞は日本語で生成してください。
- 歌詞のみを出力し、説明や前置きは不要です。`:`Please generate lyrics that perfectly match the note pattern.

Song settings:
Title: ${r||"Not specified"}
Mood: ${s&&s!=="none"?s:"Not specified"}

Note pattern details:
32nd notes and shorter: ${j.veryShort}
16th notes: ${j.short}
8th notes: ${j.eighth}
Quarter notes: ${j.quarter}
Half notes: ${j.half}
Whole notes and longer: ${j.whole}

Absolute constraints:
1. Strict matching of note count:
   - Generate syllables that correspond to ${N.noteCount} notes
   - No discrepancy in the number of notes is tolerated
   - Basically use 1 syllable per note
   - Maximum number of syllables changes according to note length

2. Strict correspondence between note length and number of syllables:
   - 32nd notes and shorter: 1 syllable only
   - 16th notes: 1 syllable only
   - 8th notes: 1 syllable only
   - Quarter notes: maximum 2 syllables
   - Half notes: maximum 2 syllables
   - Whole notes and longer: maximum 2 syllables

3. Expression and format:
   - Do not include unnecessary explanations, preambles, or comments
   - Do not add extra characters or spaces
   - Maintain a natural flow of English
   - Do not consider previous generation results
   - Make the content match the title and song mood

4. Note pattern order and phrase grouping:
   Please generate lyrics according to the following note pattern.
   If separated by commas (,), treat them as one phrase.

Temporary lyrics notation rules:
- Short notes (eighth notes and shorter): "la"
- Quarter notes: "la-"
- Half notes and longer: "la--"
- Rests longer than one beat: "_" (placed after the previous phrase)
- Commas (,) indicate breaks between melody and lyric phrases, and notes separated by commas are treated as one phrase

Current phrase grouping:
${be}

Initial note sequence (partial): ${M}

Instructions:
- Create natural lyrics that match the rhythm and length of the notes in the melody.
- ${r?`Consider the song title "${r}".`:""}
- ${s&&s!=="none"?`Reflect the mood "${s}" in the lyrics.`:""}
- Generate the lyrics in English.
- Output only the lyrics, no explanations or preambles are needed.`;return{systemPrompt:F,userPrompt:ne}},[n,r,s,l]),z=N=>{const M=N==="back"?Math.max(0,y-1):Math.min(g.length-1,y+1);M!==y&&(f(M),h(g[M].lyrics))},W=x.useCallback(async()=>{if(c)try{const{copy:N}=await Promise.resolve().then(()=>Sb);await N(c),b(!0),setTimeout(()=>{b(!1)},2e3)}catch(N){console.error("クリップボードへのコピーに失敗しました:",N),v("歌詞のコピーに失敗しました")}},[c]),G=async(N=!1)=>{if(!e){v("MIDIデータが読み込まれていません");return}const M=L(e),j=N?i:M.systemPrompt,q=M.userPrompt;if(!N){o(j),a(!0);return}if(N&&!i&&o(j),!C){v("APIキーが設定されていません");return}u(!0),v(null);try{console.log("AI生成リクエスト:",{provider:P,systemContent:j,userContent:q});let ge="";if(P==="openai"&&C.openai){const le=await C.openai.chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:j},{role:"user",content:q}],temperature:.7,max_tokens:1500});console.log("OpenAI応答:",le),ge=le.choices[0].message.content||""}else if(P==="google25"&&C.google){const be=C.google.getGenerativeModel({model:"gemini-2.0-flash"}),te=`${j}

${q}`,ne=(await be.generateContent(te)).response;console.log("Google AI応答:",ne),ge=ne.text()||""}else if(P==="anthropic"&&C.anthropic){const be=await C.anthropic.messages.create({model:"claude-3-7-sonnet-20250219",max_tokens:1024,messages:[{role:"user",content:`${j}

${q}`}]});if(console.log("Anthropic応答:",be),be.content&&be.content.length>0){const te=be.content[0];te.type==="text"&&(ge=te.text||"")}}ge?h(ge.trim()):v("AIが歌詞を生成できませんでした。")}catch(ge){console.error("AI歌詞生成中にエラーが発生しました:",ge),v(`AI歌詞の生成に失敗しました: ${ge.message||"不明なエラー"}`)}finally{u(!1)}},I=x.useCallback(N=>{if(N){const M=L(N);k(M.userPrompt)}},[L]);return x.useEffect(()=>{e&&I(e)},[e,I]),{lyrics:c,error:m,isGeneratingAI:d,lyricsHistory:g,currentHistoryIndex:y,isCopied:w,apiKey:E,setApiKey:A,apiProvider:P,setApiProvider:T,generateAILyrics:G,navigateHistory:z,copyLyrics:W,handleApiKeySubmit:O,handleApiKeyDelete:U,currentUserPrompt:S}}const HN={ja:["明るい","切ない","激しい","穏やか","ロマンティック","元気","悲しい","希望に満ちた","ダンサブル","神秘的","エモーショナル","力強い"],en:["Cheerful","Melancholic","Intense","Calm","Romantic","Energetic","Sad","Hopeful","Danceable","Mysterious","Emotional","Powerful"]};function VN(){x.useEffect(()=>{try{window.customElements&&window.customElements.get("midi-lyrics-generator")&&console.log("MidiLyricsGenerator Web Component connected");const te=localStorage.getItem("ai_provider");console.log(`MidiLyricsGenerator初期化、localStorage確認: ai_provider=${te}`),te||(console.log("☺️ APIプロバイダー設定が見つからないため、antrhopicを設定します"),localStorage.setItem("ai_provider","anthropic"))}catch(te){console.error("ローカルストレージアクセスエラー:",te)}},[]);const[e,t]=x.useState("ja"),[n,r]=x.useState(!1),[s,i]=x.useState(!1),[o,a]=x.useState(""),[l,c]=x.useState(""),[h,d]=x.useState(""),[u,m]=x.useState(!1),[v,g]=x.useState(""),{midiData:_,currentFileName:y,isLoading:f,error:w,fileInputRef:b,analyzeMidi:S,resetState:k}=SA(),{lyrics:C,error:E,isGeneratingAI:P,lyricsHistory:A,currentHistoryIndex:T,isCopied:O,apiKey:U,setApiKey:L,apiProvider:z,setApiProvider:W,generateAILyrics:G,navigateHistory:I,copyLyrics:N,handleApiKeySubmit:M,handleApiKeyDelete:j,currentUserPrompt:q}=WN({midiData:_,currentFileName:y,language:e,songTitle:o,songMood:l,customPrompt:h,setCustomPrompt:d,setShowPromptPreview:i,customTempLyrics:v}),ge=w||E;x.useEffect(()=>{_?m(!0):(m(!1),g(""))},[_]);const le=te=>{g(te)};x.useEffect(()=>{},[_,v]);const be=()=>{t(te=>te==="ja"?"en":"ja")};return p.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[p.jsxs("header",{className:"mb-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"text-primary-600 dark:text-primary-400",children:p.jsx(rf,{size:32})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"MIDI Lyrics Generator"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{type:"button",onClick:be,className:"inline-flex items-center p-2 text-sm font-medium text-center text-primary-700 bg-primary-50 rounded-lg hover:bg-primary-100 focus:ring-4 focus:outline-none dark:text-primary-400 dark:bg-gray-800 dark:hover:bg-gray-700",children:[p.jsx(bC,{className:"mr-2",size:20}),p.jsx("span",{children:e==="ja"?"English":"日本語"})]}),p.jsx("button",{type:"button",onClick:()=>r(!0),className:"inline-flex items-center p-2 text-sm font-medium text-center text-gray-500 bg-white rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700",children:p.jsx(nv,{size:20})})]})]}),p.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-sm",children:[p.jsx("div",{className:"font-medium mb-2 text-blue-800 dark:text-blue-300",children:e==="ja"?"MIDIファイルから日本語/英語の歌詞を自動生成するツール":"Generate Japanese/English lyrics from MIDI files"}),p.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300",children:e==="ja"?p.jsxs(p.Fragment,{children:[p.jsx("li",{children:"MIDIファイルをアップロードして、メロディに合った歌詞をAI生成（ヒント：Aメロ、サビなどパートごとに分けて生成したほうがわかりやすいです）"}),p.jsxs("li",{children:["最新のAIモデル ",p.jsx("strong",{children:"Anthropic Claude 3.7 Sonnet"}),"、",p.jsx("strong",{children:"OpenAI GPT-4o"}),"、または ",p.jsx("strong",{children:"Google Gemini 2.0 Flash"})," を使用（APIキーは右上の設定ボタンから設定可能）"]}),p.jsx("li",{children:"日本語と英語の両方で歌詞を作成可能（右上のボタンで切り替え可能）"}),p.jsx("li",{className:"bg-yellow-100 dark:bg-yellow-800/30 p-2 rounded border border-yellow-200 dark:border-yellow-700 font-medium",children:"【重要】APIキーの設定がなくても、プロンプトを生成してコピーし、他のAIサービスで使用可能"})]}):p.jsxs(p.Fragment,{children:[p.jsx("li",{children:"Upload a MIDI file and generate lyrics that match the melody (Tip: For better results, create separate MIDI files for verse, chorus, etc.)"}),p.jsxs("li",{children:["Uses the latest AI models ",p.jsx("strong",{children:"Anthropic Claude 3.7 Sonnet"}),", ",p.jsx("strong",{children:"OpenAI GPT-4o"}),", or ",p.jsx("strong",{children:"Google Gemini 2.0 Flash"})," (set API key via settings button in the top-right)"]}),p.jsx("li",{children:"Create lyrics in both Japanese and English (switch language with the button in the top-right)"}),p.jsxs("li",{className:"bg-yellow-100 dark:bg-yellow-800/30 p-2 rounded border border-yellow-200 dark:border-yellow-700 font-medium",children:[p.jsx("strong",{children:"Important:"})," Even without an API key, you can generate and copy the prompts to use with other AI services"]})]})}),p.jsxs("div",{className:"mt-3 text-xs flex flex-wrap gap-3",children:[p.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[p.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),e==="ja"?`使用AIモデル: ${z==="openai"?"OpenAI GPT-4o":z==="google25"?"Google Gemini 2.0 Flash":"Anthropic Claude 3.7 Sonnet"}`:`AI Model: ${z==="openai"?"OpenAI GPT-4o":z==="google25"?"Google Gemini 2.0 Flash":"Anthropic Claude 3.7 Sonnet"}`]}),p.jsxs("div",{className:"flex items-center bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[p.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),e==="ja"?"対応言語: 日本語 / 英語":"Languages: Japanese / English"]})]})]})]}),p.jsx($P,{midiData:_,onTempLyricsUpdate:le,isVisible:u,currentFileName:y,language:e}),p.jsxs("main",{className:"flex flex-col lg:flex-row gap-6",children:[p.jsx(fP,{language:e,songTitle:o,songMood:l,midiData:_,currentFileName:y,fileInputRef:b,setSongTitle:a,setSongMood:c,analyzeMidi:S,resetState:k,generateAILyrics:G,moodOptions:HN}),p.jsx(mP,{lyrics:C,isLoading:f,isGeneratingAI:P,error:ge,lyricsHistory:A,currentHistoryIndex:T,isCopied:O,navigateHistory:I,copyLyrics:N,language:e})]}),p.jsxs("div",{className:"mt-12 mb-8 max-w-4xl mx-auto",children:[p.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[p.jsx(wC,{size:20}),e==="ja"?"よくある質問":"Frequently Asked Questions"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[p.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e==="ja"?"Q: 設定したAPIキー（Anthropic/OpenAI/Google）はどこに保存されるの？":"Q: Where are the API keys (Anthropic/OpenAI/Google) stored?"}),p.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:e==="ja"?p.jsx("p",{children:"APIキーはブラウザの「localStorage」に保存されます。これは以下の特徴があります：(1) ローカルストレージはブラウザ内に保存されるため、サーバーには送信されません (2) 同じブラウザ・同じデバイスでアプリを再度開いた場合に自動的に読み込まれます (3) 異なるブラウザやデバイス、またはプライベートモード/シークレットモードでは保存されません (4) ブラウザの履歴やキャッシュをクリアした場合は削除されます。セキュリティの観点では、APIキーはユーザーのデバイス内のみに保存され、アプリのサーバーサイドには保存されないため、サーバー側でのデータ漏洩リスクはありません。公共のコンピュータを使用する場合は、使用後にAPIキーを削除することをお勧めします。"}):p.jsx("p",{children:`API keys are stored in the browser's "localStorage". This has the following characteristics: (1) LocalStorage is saved within the browser and not sent to any server (2) It automatically loads when you open the app again in the same browser on the same device (3) It's not preserved across different browsers, devices, or when using private/incognito mode (4) It's deleted when browser history or cache is cleared. From a security perspective, API keys are stored only on the user's device and not on the app's server side, eliminating the risk of data leaks from the server. If using a public computer, it's recommended to delete the API key after use.`})})]}),p.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm dark:border-gray-700 dark:bg-gray-800",children:[p.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:e==="ja"?"Q: アップロードしたMIDIファイルはどこに送られるの？":"Q: Where are uploaded MIDI files sent?"}),p.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:e==="ja"?p.jsx("p",{children:"アップロードされたMIDIファイルは、ブラウザ内でのみ処理され、どこのサーバーにも送信されません。具体的には：(1) ファイルはブラウザのメモリ上に読み込まれます (2) ブラウザ内でMIDIファイルを解析・分析します (3) 分析結果（音符の数、長さ、ピッチなど）のみがアプリ内で利用されます (4) MIDIファイル自体は保存されず、ブラウザのメモリ上にのみ一時的に存在します (5) ブラウザを閉じるか、ページをリロードすると、読み込まれたMIDIデータは消去されます。このシステムはプライバシーとセキュリティを考慮して設計されており、MIDIファイルデータが外部に送信されることはありません。"}):p.jsx("p",{children:"Uploaded MIDI files are processed only within the browser and are not sent to any server. Specifically: (1) Files are loaded into the browser's memory (2) MIDI files are parsed and analyzed within the browser (3) Only the analysis results (number of notes, duration, pitch, etc.) are used within the app (4) The MIDI file itself is not saved and exists temporarily only in the browser's memory (5) When the browser is closed or the page is reloaded, the loaded MIDI data is erased. This system is designed with privacy and security in mind, ensuring that MIDI file data is never transmitted externally."})})]})]})]}),p.jsx("footer",{className:"mt-8 mb-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"© 2025 MayuÜ"}),n&&p.jsx(OP,{apiKey:U,setApiKey:L,apiProvider:z,setApiProvider:W,onSubmit:M,onDelete:j,onClose:()=>r(!1)}),s&&p.jsx(jP,{customPrompt:h,userPrompt:q,setCustomPrompt:d,onGenerate:()=>{i(!1),G(!0)},onClose:()=>i(!1),apiKey:U,apiProvider:z,language:e})]})}typeof window<"u"&&!window.process&&(window.process={env:{NODE_ENV:"production"}});const GN=nC(VN,dn,Kc);customElements.get("midi-lyrics-generator")?console.log("Web Component already registered: midi-lyrics-generator"):(console.log("Registering Web Component: midi-lyrics-generator"),customElements.define("midi-lyrics-generator",GN));async function KN(e){var n;if((n=navigator.clipboard)!=null&&n.writeText)try{await navigator.clipboard.writeText(e);return}catch{}const t=document.createElement("textarea");t.value=e,t.style.cssText="position:fixed;left:-9999px;top:-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}const Sb=Object.freeze(Object.defineProperty({__proto__:null,copy:KN},Symbol.toStringTag,{value:"Module"}))});
